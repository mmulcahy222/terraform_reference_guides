{"azurerm-app-service": "<h1 id=\"azurerm_app_service\">azurerm_app_service</h1><p>Manages an App Service (within an App Service Plan).</p><p>!&gt; <strong>NOTE:</strong> This resource has been deprecated in version 3.0 of the AzureRM provider and will be removed in version 4.0. Please use <a href=\"https://registry.terraform.io/providers/hashicorp/azurerm/latest/docs/resources/linux_web_app\"><code>azurerm_linux_web_app</code></a> and <a href=\"https://registry.terraform.io/providers/hashicorp/azurerm/latest/docs/resources/windows_web_app\"><code>azurerm_windows_web_app</code></a> resources instead.</p><p>-&gt; <strong>Note:</strong> When using Slots - the <code>app_settings</code>, <code>connection_string</code> and <code>site_config</code> blocks on the <code>azurerm_app_service</code> resource will be overwritten when promoting a Slot using the <code>azurerm_app_service_active_slot</code> resource.</p>", "example-usage": "<h2 id=\"example-usage\">Example Usage</h2><p>This example provisions a Windows App Service. Other examples of the <code>azurerm_app_service</code> resource can be found in <a href=\"https://github.com/hashicorp/terraform-provider-azurerm/tree/main/examples/app-service\">the <code>./examples/app-service</code> directory within the GitHub Repository</a></p><br /><p>resource \"azurerm_resource_group\" \"example\" {<br />  name     = \"example-resources\"<br />  location = \"West Europe\"<br />}</p><br /><p>resource \"azurerm_app_service_plan\" \"example\" {<br />  name                = \"example-appserviceplan\"<br />  location            = azurerm_resource_group.example.location<br />  resource_group_name = azurerm_resource_group.example.name</p><br /><p>sku {<br />    tier = \"Standard\"<br />    size = \"S1\"<br />  }<br />}</p><br /><p>resource \"azurerm_app_service\" \"example\" {<br />  name                = \"example-app-service\"<br />  location            = azurerm_resource_group.example.location<br />  resource_group_name = azurerm_resource_group.example.name<br />  app_service_plan_id = azurerm_app_service_plan.example.id</p><br /><p>site_config {<br />    dotnet_framework_version = \"v4.0\"<br />    scm_type                 = \"LocalGit\"<br />  }</p><br /><p>app_settings = {<br />    \"SOME_KEY\" = \"some-value\"<br />  }</p><br /><p>connection_string {<br />    name  = \"Database\"<br />    type  = \"SQLServer\"<br />    value = \"Server=some-server.mydomain.com;Integrated Security=SSPI\"<br />  }<br />}</p><br />", "argument-reference": "<h2 id=\"argument-reference\">Argument Reference</h2><p>The following arguments are supported:</p><ul><li><p><code>name</code> - (Required) Specifies the name of the App Service. Changing this forces a new resource to be created.</p></li><li><p><code>resource_group_name</code> - (Required) The name of the resource group in which to create the App Service. Changing this forces a new resource to be created.</p></li><li><p><code>location</code> - (Required) Specifies the supported Azure location where the resource exists. Changing this forces a new resource to be created.</p></li><li><p><code>app_service_plan_id</code> - (Required) The ID of the App Service Plan within which to create this App Service.</p></li><li><p><code>app_settings</code> - (Optional) A key-value pair of App Settings.</p></li><li><p><code>auth_settings</code> - (Optional) A <code>auth_settings</code> block as defined below.</p></li><li><p><code>backup</code> - (Optional) A <code>backup</code> block as defined below.</p></li><li><p><code>connection_string</code> - (Optional) One or more <code>connection_string</code> blocks as defined below.</p></li><li><p><code>client_affinity_enabled</code> - (Optional) Should the App Service send session affinity cookies, which route client requests in the same session to the same instance?</p></li><li><p><code>client_cert_enabled</code> - (Optional) Does the App Service require client certificates for incoming requests? Defaults to <code>false</code>.</p></li><li><p><code>client_cert_mode</code> - (Optional) Mode of client certificates for this App Service. Possible values are <code>Required</code>, <code>Optional</code> and <code>OptionalInteractiveUser</code>. If this parameter is set, <code>client_cert_enabled</code> must be set to <code>true</code>, otherwise this parameter is ignored.</p></li><li><p><code>enabled</code> - (Optional) Is the App Service Enabled? Defaults to <code>true</code>.</p></li><li><p><code>identity</code> - (Optional) An <code>identity</code> block as defined below.</p></li><li><p><code>https_only</code> - (Optional) Can the App Service only be accessed via HTTPS? Defaults to <code>false</code>.</p></li><li><p><code>key_vault_reference_identity_id</code> - (Optional) The User Assigned Identity Id used for looking up KeyVault secrets. The identity must be assigned to the application. <a href=\"https://docs.microsoft.com/azure/app-service/app-service-key-vault-references#access-vaults-with-a-user-assigned-identity\">For more information see - Access vaults with a user-assigned identity</a></p></li><li><p><code>logs</code> - (Optional) A <code>logs</code> block as defined below.</p></li><li><p><code>storage_account</code> - (Optional) One or more <code>storage_account</code> blocks as defined below.</p></li><li><p><code>site_config</code> - (Optional) A <code>site_config</code> block as defined below.</p></li><li><p><code>source_control</code> - (Optional) A Source Control block as defined below</p></li><li><p><code>tags</code> - (Optional) A mapping of tags to assign to the resource.</p></li></ul><hr /><p>A <code>storage_account</code> block supports the following:</p><ul><li><p><code>name</code> - (Required) The name of the storage account identifier.</p></li><li><p><code>type</code> - (Required) The type of storage. Possible values are <code>AzureBlob</code> and <code>AzureFiles</code>.</p></li><li><p><code>account_name</code> - (Required) The name of the storage account.</p></li><li><p><code>share_name</code> - (Required) The name of the file share (container name, for Blob storage).</p></li><li><p><code>access_key</code> - (Required) The access key for the storage account.</p></li><li><p><code>mount_path</code> - (Optional) The path to mount the storage within the site's runtime environment.</p></li></ul><hr /><p>A <code>connection_string</code> block supports the following:</p><ul><li><p><code>name</code> - (Required) The name of the Connection String.</p></li><li><p><code>type</code> - (Required) The type of the Connection String. Possible values are <code>APIHub</code>, <code>Custom</code>, <code>DocDb</code>, <code>EventHub</code>, <code>MySQL</code>, <code>NotificationHub</code>, <code>PostgreSQL</code>, <code>RedisCache</code>, <code>ServiceBus</code>, <code>SQLAzure</code> and <code>SQLServer</code>.</p></li><li><p><code>value</code> - (Required) The value for the Connection String.</p></li></ul><hr /><p>A <code>identity</code> block supports the following:</p><ul><li><code>type</code> - (Required) Specifies the identity type of the App Service. Possible values are <code>SystemAssigned</code> (where Azure will generate a Service Principal for you), <code>UserAssigned</code> where you can specify the Service Principal IDs in the <code>identity_ids</code> field, and <code>SystemAssigned, UserAssigned</code> which assigns both a system managed identity as well as the specified user assigned identities.</li></ul><p>~&gt; <strong>NOTE:</strong> When <code>type</code> is set to <code>SystemAssigned</code>, The assigned <code>principal_id</code> and <code>tenant_id</code> can be retrieved after the App Service has been created. More details are available below.</p><ul><li><code>identity_ids</code> - (Optional) Specifies a list of user managed identity ids to be assigned. Required if <code>type</code> is <code>UserAssigned</code>.</li></ul><hr /><p>A <code>logs</code> block supports the following:</p><ul><li><p><code>application_logs</code> - (Optional) An <code>application_logs</code> block as defined below.</p></li><li><p><code>http_logs</code> - (Optional) An <code>http_logs</code> block as defined below.</p></li><li><p><code>detailed_error_messages_enabled</code> - (Optional) Should <code>Detailed error messages</code> be enabled on this App Service? Defaults to <code>false</code>.</p></li><li><p><code>failed_request_tracing_enabled</code> - (Optional) Should <code>Failed request tracing</code> be enabled on this App Service? Defaults to <code>false</code>.</p></li></ul><hr /><p>An <code>application_logs</code> block supports the following:</p><ul><li><p><code>azure_blob_storage</code> - (Optional) An <code>azure_blob_storage</code> block as defined below.</p></li><li><p><code>file_system_level</code> - (Optional) Log level for filesystem based logging. Supported values are <code>Error</code>, <code>Information</code>, <code>Verbose</code>, <code>Warning</code> and <code>Off</code>. Defaults to <code>Off</code>.</p></li></ul><hr /><p>An <code>http_logs</code> block supports <em>one</em> of the following:</p><ul><li><p><code>file_system</code> - (Optional) A <code>file_system</code> block as defined below.</p></li><li><p><code>azure_blob_storage</code> - (Optional) An <code>azure_blob_storage</code> block as defined below.</p></li></ul><hr /><p>An <code>azure_blob_storage</code> block supports the following:</p><ul><li><p><code>level</code> - (Required) The level at which to log. Possible values include <code>Error</code>, <code>Warning</code>, <code>Information</code>, <code>Verbose</code> and <code>Off</code>. <strong>NOTE:</strong> this field is not available for <code>http_logs</code></p></li><li><p><code>sas_url</code> - (Required) The URL to the storage container with a shared access signature token appended.</p></li><li><p><code>retention_in_days</code> - (Required) The number of days to retain logs for.</p></li></ul><hr /><p>A <code>file_system</code> block supports the following:</p><ul><li><p><code>retention_in_days</code> - (Required) The number of days to retain logs for.</p></li><li><p><code>retention_in_mb</code> - (Required) The maximum size in megabytes that HTTP log files can use before being removed.</p></li></ul><hr /><p>A <code>site_config</code> block supports the following:</p><ul><li><p><code>acr_use_managed_identity_credentials</code> - (Optional) Are Managed Identity Credentials used for Azure Container Registry pull</p></li><li><p><code>acr_user_managed_identity_client_id</code> - (Optional) If using User Managed Identity, the User Managed Identity Client Id</p></li></ul><p>~&gt; <strong>NOTE:</strong> When using User Managed Identity with Azure Container Registry the Identity will need to have the <a href=\"https://docs.microsoft.com/azure/container-registry/container-registry-authentication-managed-identity#example-1-access-with-a-user-assigned-identity\">ACRPull role assigned</a></p><ul><li><code>always_on</code> - (Optional) Should the app be loaded at all times? Defaults to <code>false</code>.</li></ul><p>~&gt; <strong>NOTE:</strong> when using an App Service Plan in the <code>Free</code> or <code>Shared</code> Tiers <code>always_on</code> must be set to <code>false</code>.</p><ul><li><p><code>app_command_line</code> - (Optional) App command line to launch, e.g. <code>/sbin/myserver -b 0.0.0.0</code>.</p></li><li><p><code>auto_swap_slot_name</code> - (Optional) The name of the slot to automatically swap to during deployment</p></li><li><p><code>cors</code> - (Optional) A <code>cors</code> block as defined below.</p></li><li><p><code>default_documents</code> - (Optional) The ordering of default documents to load, if an address isn't specified.</p></li><li><p><code>dotnet_framework_version</code> - (Optional) The version of the .NET framework's CLR used in this App Service. Possible values are <code>v2.0</code> (which will use the latest version of the .NET framework for the .NET CLR v2 - currently <code>.net 3.5</code>), <code>v4.0</code> (which corresponds to the latest version of the .NET CLR v4 - which at the time of writing is <code>.net 4.7.1</code>), <code>v5.0</code> and <code>v6.0</code>. <a href=\"https://en.wikipedia.org/wiki/.NET_Framework_version_history#Overview\">For more information on which .NET CLR version to use based on the .NET framework you're targeting - please see this table</a>. Defaults to <code>v4.0</code>.</p></li><li><p><code>ftps_state</code> - (Optional) State of FTP / FTPS service for this App Service. Possible values include: <code>AllAllowed</code>, <code>FtpsOnly</code> and <code>Disabled</code>.</p></li><li><p><code>health_check_path</code> - (Optional) The health check path to be pinged by App Service. <a href=\"https://azure.github.io/AppService/2020/08/24/healthcheck-on-app-service.html\">For more information - please see App Service health check announcement</a>.</p></li><li><p><code>number_of_workers</code> - (Optional) The scaled number of workers (for per site scaling) of this App Service. Requires that <code>per_site_scaling</code> is enabled on the <code>azurerm_app_service_plan</code>. <a href=\"https://docs.microsoft.com/azure/app-service/manage-scale-per-app\">For more information - please see Microsoft documentation on high-density hosting</a>.</p></li><li><p><code>http2_enabled</code> - (Optional) Is HTTP2 Enabled on this App Service? Defaults to <code>false</code>.</p></li><li><p><code>ip_restriction</code> - (Optional) A <a href=\"/docs/configuration/attr-as-blocks.html\">List of objects</a> representing IP restrictions as defined below.</p></li></ul><p>-&gt; <strong>NOTE</strong> User has to explicitly set <code>ip_restriction</code> to empty slice (<code>[]</code>) to remove it.</p><ul><li><code>scm_use_main_ip_restriction</code> - (Optional) IP security restrictions for scm to use main. Defaults to <code>false</code>. </li></ul><p>-&gt; <strong>NOTE</strong> Any <code>scm_ip_restriction</code> blocks configured are ignored by the service when <code>scm_use_main_ip_restriction</code> is set to <code>true</code>. Any scm restrictions will become active if this is subsequently set to <code>false</code> or removed.  </p><ul><li><code>scm_ip_restriction</code> - (Optional) A <a href=\"/docs/configuration/attr-as-blocks.html\">List of objects</a> representing IP restrictions as defined below.</li></ul><p>-&gt; <strong>NOTE</strong> User has to explicitly set <code>scm_ip_restriction</code> to empty slice (<code>[]</code>) to remove it.</p><ul><li><p><code>java_version</code> - (Optional) The version of Java to use. If specified <code>java_container</code> and <code>java_container_version</code> must also be specified. Possible values are <code>1.7</code>, <code>1.8</code> and <code>11</code> and their specific versions - except for Java 11 (e.g. <code>1.7.0_80</code>, <code>1.8.0_181</code>, <code>11</code>)</p></li><li><p><code>java_container</code> - (Optional) The Java Container to use. If specified <code>java_version</code> and <code>java_container_version</code> must also be specified. Possible values are <code>JAVA</code>, <code>JETTY</code>, and <code>TOMCAT</code>.</p></li><li><p><code>java_container_version</code> - (Optional) The version of the Java Container to use. If specified <code>java_version</code> and <code>java_container</code> must also be specified.</p></li><li><p><code>local_mysql_enabled</code> - (Optional) Is \"MySQL In App\" Enabled? This runs a local MySQL instance with your app and shares resources from the App Service plan.</p></li></ul><p>~&gt; <strong>NOTE:</strong> MySQL In App is not intended for production environments and will not scale beyond a single instance. Instead you may wish <a href=\"/docs/providers/azurerm/r/mysql_database.html\">to use Azure Database for MySQL</a>.</p><ul><li><code>linux_fx_version</code> - (Optional) Linux App Framework and version for the App Service. Possible options are a Docker container (<code>DOCKER|&lt;user/image:tag&gt;</code>), a base-64 encoded Docker Compose file (<code>COMPOSE|${filebase64(\"compose.yml\")}</code>) or a base-64 encoded Kubernetes Manifest (<code>KUBE|${filebase64(\"kubernetes.yml\")}</code>).</li></ul><p>~&gt; <strong>NOTE:</strong> To set this property the App Service Plan to which the App belongs must be configured with <code>kind = \"Linux\"</code>, and <code>reserved = true</code> or the API will reject any value supplied.</p><ul><li><code>windows_fx_version</code> - (Optional) The Windows Docker container image (<code>DOCKER|&lt;user/image:tag&gt;</code>)</li></ul><p>Additional examples of how to run Containers via the <code>azurerm_app_service</code> resource can be found in <a href=\"https://github.com/hashicorp/terraform-provider-azurerm/tree/main/examples/app-service\">the <code>./examples/app-service</code> directory within the GitHub Repository</a>.</p><ul><li><p><code>managed_pipeline_mode</code> - (Optional) The Managed Pipeline Mode. Possible values are <code>Integrated</code> and <code>Classic</code>. Defaults to <code>Integrated</code>.</p></li><li><p><code>min_tls_version</code> - (Optional) The minimum supported TLS version for the app service. Possible values are <code>1.0</code>, <code>1.1</code>, and <code>1.2</code>. Defaults to <code>1.2</code> for new app services.</p></li><li><p><code>php_version</code> - (Optional) The version of PHP to use in this App Service. Possible values are <code>5.5</code>, <code>5.6</code>, <code>7.0</code>, <code>7.1</code>, <code>7.2</code>, <code>7.3</code> and <code>7.4</code>.</p></li><li><p><code>python_version</code> - (Optional) The version of Python to use in this App Service. Possible values are <code>2.7</code> and <code>3.4</code>.</p></li><li><p><code>remote_debugging_enabled</code> - (Optional) Is Remote Debugging Enabled? Defaults to <code>false</code>.</p></li><li><p><code>remote_debugging_version</code> - (Optional) Which version of Visual Studio should the Remote Debugger be compatible with? Possible values are <code>VS2017</code> and <code>VS2019</code>.</p></li><li><p><code>scm_type</code> - (Optional) The type of Source Control enabled for this App Service. Defaults to <code>None</code>. Possible values are: <code>BitbucketGit</code>, <code>BitbucketHg</code>, <code>CodePlexGit</code>, <code>CodePlexHg</code>, <code>Dropbox</code>, <code>ExternalGit</code>, <code>ExternalHg</code>, <code>GitHub</code>, <code>LocalGit</code>, <code>None</code>, <code>OneDrive</code>, <code>Tfs</code>, <code>VSO</code>, and <code>VSTSRM</code></p></li><li><p><code>use_32_bit_worker_process</code> - (Optional) Should the App Service run in 32 bit mode, rather than 64 bit mode?</p></li></ul><p>~&gt; <strong>NOTE:</strong> when using an App Service Plan in the <code>Free</code> or <code>Shared</code> Tiers <code>use_32_bit_worker_process</code> must be set to <code>true</code>.</p><ul><li><code>vnet_route_all_enabled</code> - (Optional) Should all outbound traffic to have Virtual Network Security Groups and User Defined Routes applied? Defaults to <code>false</code>.</li></ul><p>~&gt; <strong>NOTE:</strong> This setting supersedes the previous mechanism of setting the <code>app_settings</code> value of <code>WEBSITE_VNET_ROUTE_ALL</code>. However, to prevent older configurations breaking Terraform will update this value if it not explicitly set to the value in <code>app_settings.WEBSITE_VNET_ROUTE_ALL</code>.</p><ul><li><code>websockets_enabled</code> - (Optional) Should WebSockets be enabled?</li></ul><hr /><p>A <code>cors</code> block supports the following:</p><ul><li><p><code>allowed_origins</code> - (Required) A list of origins which should be able to make cross-origin calls. <code>*</code> can be used to allow all calls.</p></li><li><p><code>support_credentials</code> - (Optional) Are credentials supported?</p></li></ul><hr /><p>A <code>auth_settings</code> block supports the following:</p><ul><li><p><code>enabled</code> - (Required) Is Authentication enabled?</p></li><li><p><code>active_directory</code> - (Optional) A <code>active_directory</code> block as defined below.</p></li><li><p><code>additional_login_params</code> - (Optional) Login parameters to send to the OpenID Connect authorization endpoint when a user logs in. Each parameter must be in the form \"key=value\".</p></li><li><p><code>allowed_external_redirect_urls</code> - (Optional) External URLs that can be redirected to as part of logging in or logging out of the app.</p></li><li><p><code>default_provider</code> - (Optional) The default provider to use when multiple providers have been set up. Possible values are <code>AzureActiveDirectory</code>, <code>Facebook</code>, <code>Google</code>, <code>MicrosoftAccount</code> and <code>Twitter</code>.</p></li></ul><p>~&gt; <strong>NOTE:</strong> When using multiple providers, the default provider must be set for settings like <code>unauthenticated_client_action</code> to work.</p><ul><li><p><code>facebook</code> - (Optional) A <code>facebook</code> block as defined below.</p></li><li><p><code>google</code> - (Optional) A <code>google</code> block as defined below.</p></li><li><p><code>issuer</code> - (Optional) Issuer URI. When using Azure Active Directory, this value is the URI of the directory tenant, e.g. <a href=\"https://sts.windows.net/{tenant-guid}/\">https://sts.windows.net/{tenant-guid}/</a>.</p></li><li><p><code>microsoft</code> - (Optional) A <code>microsoft</code> block as defined below.</p></li><li><p><code>runtime_version</code> - (Optional) The runtime version of the Authentication/Authorization module.</p></li><li><p><code>token_refresh_extension_hours</code> - (Optional) The number of hours after session token expiration that a session token can be used to call the token refresh API. Defaults to <code>72</code>.</p></li><li><p><code>token_store_enabled</code> - (Optional) If enabled the module will durably store platform-specific security tokens that are obtained during login flows. Defaults to <code>false</code>.</p></li><li><p><code>twitter</code> - (Optional) A <code>twitter</code> block as defined below.</p></li><li><p><code>unauthenticated_client_action</code> - (Optional) The action to take when an unauthenticated client attempts to access the app. Possible values are <code>AllowAnonymous</code> and <code>RedirectToLoginPage</code>.</p></li></ul><hr /><p>A <code>active_directory</code> block supports the following:</p><ul><li><p><code>client_id</code> - (Required) The Client ID of this relying party application. Enables OpenIDConnection authentication with Azure Active Directory.</p></li><li><p><code>client_secret</code> - (Optional) The Client Secret of this relying party application. If no secret is provided, implicit flow will be used.</p></li><li><p><code>allowed_audiences</code> - (Optional) Allowed audience values to consider when validating JWTs issued by Azure Active Directory.</p></li></ul><hr /><p>A <code>facebook</code> block supports the following:</p><ul><li><p><code>app_id</code> - (Required) The App ID of the Facebook app used for login</p></li><li><p><code>app_secret</code> - (Required) The App Secret of the Facebook app used for Facebook login.</p></li><li><p><code>oauth_scopes</code> - (Optional) The OAuth 2.0 scopes that will be requested as part of Facebook login authentication. <a href=\"https://developers.facebook.com/docs/facebook-login\">https://developers.facebook.com/docs/facebook-login</a></p></li></ul><hr /><p>A <code>google</code> block supports the following:</p><ul><li><p><code>client_id</code> - (Required) The OpenID Connect Client ID for the Google web application.</p></li><li><p><code>client_secret</code> - (Required) The client secret associated with the Google web application.</p></li><li><p><code>oauth_scopes</code> - (Optional) The OAuth 2.0 scopes that will be requested as part of Google Sign-In authentication. <a href=\"https://developers.google.com/identity/sign-in/web/\">https://developers.google.com/identity/sign-in/web/</a></p></li></ul><hr /><p>A <code>twitter</code> block supports the following:</p><ul><li><p><code>consumer_key</code> - (Required) The consumer key of the Twitter app used for login</p></li><li><p><code>consumer_secret</code> - (Required) The consumer secret of the Twitter app used for login.</p></li></ul><hr /><p>A <code>ip_restriction</code> block supports the following:</p><ul><li><p><code>ip_address</code> - (Optional) The IP Address used for this IP Restriction in CIDR notation.</p></li><li><p><code>service_tag</code> - (Optional) The Service Tag used for this IP Restriction.</p></li><li><p><code>virtual_network_subnet_id</code> - (Optional) The Virtual Network Subnet ID used for this IP Restriction.</p></li></ul><p>-&gt; <strong>NOTE:</strong> One of either <code>ip_address</code>, <code>service_tag</code> or <code>virtual_network_subnet_id</code> must be specified</p><ul><li><p><code>name</code> - (Optional) The name for this IP Restriction.</p></li><li><p><code>priority</code> - (Optional) The priority for this IP Restriction. Restrictions are enforced in priority order. By default, priority is set to 65000 if not specified.</p></li><li><p><code>action</code> - (Optional) Does this restriction <code>Allow</code> or <code>Deny</code> access for this IP range. Defaults to <code>Allow</code>. </p></li><li><p><code>headers</code> - (Optional) The headers for this specific <code>ip_restriction</code> as defined below.</p></li></ul><hr /><p>A <code>scm_ip_restriction</code> block supports the following:</p><ul><li><p><code>ip_address</code> - (Optional) The IP Address used for this IP Restriction in CIDR notation.</p></li><li><p><code>service_tag</code> - (Optional) The Service Tag used for this IP Restriction.</p></li><li><p><code>virtual_network_subnet_id</code> - (Optional) The Virtual Network Subnet ID used for this IP Restriction.</p></li></ul><p>-&gt; <strong>NOTE:</strong> One of either <code>ip_address</code>, <code>service_tag</code> or <code>virtual_network_subnet_id</code> must be specified</p><ul><li><p><code>name</code> - (Optional) The name for this IP Restriction.</p></li><li><p><code>priority</code> - (Optional) The priority for this IP Restriction. Restrictions are enforced in priority order. By default, priority is set to 65000 if not specified. </p></li><li><p><code>action</code> - (Optional) Allow or Deny access for this IP range. Defaults to <code>Allow</code>.</p></li><li><p><code>headers</code> - (Optional) The headers for this specific <code>scm_ip_restriction</code> as defined below.</p></li></ul><hr /><p>A <code>headers</code> block supports the following:</p><ul><li><p><code>x_azure_fdid</code> - (Optional) A list of allowed Azure FrontDoor IDs in UUID notation with a maximum of 8.</p></li><li><p><code>x_fd_health_probe</code> - (Optional) A list to allow the Azure FrontDoor health probe header. Only allowed value is \"1\".</p></li><li><p><code>x_forwarded_for</code> - (Optional) A list of allowed 'X-Forwarded-For' IPs in CIDR notation with a maximum of 8</p></li><li><p><code>x_forwarded_host</code> - (Optional) A list of allowed 'X-Forwarded-Host' domains with a maximum of 8.</p></li></ul><hr /><p>A <code>microsoft</code> block supports the following:</p><ul><li><p><code>client_id</code> - (Required) The OAuth 2.0 client ID that was created for the app used for authentication.</p></li><li><p><code>client_secret</code> - (Required) The OAuth 2.0 client secret that was created for the app used for authentication.</p></li><li><p><code>oauth_scopes</code> - (Optional) The OAuth 2.0 scopes that will be requested as part of Microsoft Account authentication. <a href=\"https://msdn.microsoft.com/en-us/library/dn631845.aspx\">https://msdn.microsoft.com/en-us/library/dn631845.aspx</a></p></li></ul><hr /><p>A <code>backup</code> block supports the following:</p><ul><li><p><code>name</code> - (Required) Specifies the name for this Backup.</p></li><li><p><code>enabled</code> - (Optional) Is this Backup enabled? Defaults to <code>true</code>.</p></li><li><p><code>storage_account_url</code> - (Required) The SAS URL to a Storage Container where Backups should be saved.</p></li><li><p><code>schedule</code> - (Required) A <code>schedule</code> block as defined below.</p></li></ul><hr /><p>A <code>schedule</code> block supports the following:</p><ul><li><p><code>frequency_interval</code> - (Required) Sets how often the backup should be executed.</p></li><li><p><code>frequency_unit</code> - (Required) Sets the unit of time for how often the backup should be executed. Possible values are <code>Day</code> or <code>Hour</code>.</p></li><li><p><code>keep_at_least_one_backup</code> - (Optional) Should at least one backup always be kept in the Storage Account by the Retention Policy, regardless of how old it is?</p></li><li><p><code>retention_period_in_days</code> - (Optional) Specifies the number of days after which Backups should be deleted. Defaults to <code>30</code>.</p></li><li><p><code>start_time</code> - (Optional) Sets when the schedule should start working.</p></li></ul><hr /><p>A <code>source_control</code> block supports the following:</p><ul><li><p><code>repo_url</code> - (Optional) The URL of the source code repository.</p></li><li><p><code>branch</code> - (Optional) The branch of the remote repository to use. Defaults to 'master'.</p></li><li><p><code>manual_integration</code> - (Optional) Limits to manual integration. Defaults to <code>false</code> if not specified.</p></li><li><p><code>rollback_enabled</code> - (Optional) Enable roll-back for the repository. Defaults to <code>false</code> if not specified.</p></li><li><p><code>use_mercurial</code> - (Optional) Use Mercurial if <code>true</code>, otherwise uses Git.</p></li></ul>", "attributes-reference": "<h2 id=\"attributes-reference\">Attributes Reference</h2><p>In addition to the Arguments listed above - the following Attributes are exported:</p><ul><li><p><code>id</code> - The ID of the App Service.</p></li><li><p><code>custom_domain_verification_id</code> - An identifier used by App Service to perform domain ownership verification via DNS TXT record.</p></li><li><p><code>default_site_hostname</code> - The Default Hostname associated with the App Service - such as <code>mysite.azurewebsites.net</code></p></li><li><p><code>outbound_ip_addresses</code> - A comma separated list of outbound IP addresses - such as <code>52.23.25.3,52.143.43.12</code></p></li><li><p><code>outbound_ip_address_list</code> - A list of outbound IP addresses - such as <code>[\"52.23.25.3\", \"52.143.43.12\"]</code></p></li><li><p><code>possible_outbound_ip_addresses</code> - A comma separated list of outbound IP addresses - such as <code>52.23.25.3,52.143.43.12,52.143.43.17</code> - not all of which are necessarily in use. Superset of <code>outbound_ip_addresses</code>.</p></li><li><p><code>possible_outbound_ip_address_list</code> - A list of outbound IP addresses - such as <code>[\"52.23.25.3\", \"52.143.43.12\", \"52.143.43.17\"]</code> - not all of which are necessarily in use. Superset of <code>outbound_ip_address_list</code>.</p></li><li><p><code>source_control</code> - A <code>source_control</code> block as defined below, which contains the Source Control information when <code>scm_type</code> is set to <code>LocalGit</code>.</p></li><li><p><code>site_credential</code> - A <code>site_credential</code> block as defined below, which contains the site-level credentials used to publish to this App Service.</p></li><li><p><code>identity</code> - An <code>identity</code> block as defined below, which contains the Managed Service Identity information for this App Service.</p></li></ul><hr /><p>A <code>identity</code> block exports the following:</p><ul><li><p><code>principal_id</code> - The Principal ID for the Service Principal associated with the Managed Service Identity of this App Service.</p></li><li><p><code>tenant_id</code> - The Tenant ID for the Service Principal associated with the Managed Service Identity of this App Service.</p></li></ul><p>-&gt; You can access the Principal ID via <code>azurerm_app_service.example.identity.0.principal_id</code> and the Tenant ID via <code>azurerm_app_service.example.identity.0.tenant_id</code></p><hr /><p>A <code>site_credential</code> block exports the following:</p><ul><li><p><code>username</code> - The username which can be used to publish to this App Service</p></li><li><p><code>password</code> - The password associated with the username, which can be used to publish to this App Service.</p></li></ul><p>~&gt; <strong>NOTE:</strong> both <code>username</code> and <code>password</code> for the <code>site_credential</code> block are only exported when <code>scm_type</code> is set to <code>LocalGit</code></p><hr /><p>A <code>source_control</code> block exports the following:</p><ul><li><code>repo_url</code> - URL of the Git repository for this App Service.</li><li><code>branch</code> - Branch name of the Git repository for this App Service.</li></ul>", "timeouts": "<h2 id=\"timeouts\">Timeouts</h2><p>The <code>timeouts</code> block allows you to specify <a href=\"https://www.terraform.io/language/resources/syntax#operation-timeouts\">timeouts</a> for certain actions:</p><ul><li><code>create</code> - (Defaults to 30 minutes) Used when creating the App Service.</li><li><code>update</code> - (Defaults to 30 minutes) Used when updating the App Service.</li><li><code>read</code> - (Defaults to 5 minutes) Used when retrieving the App Service.</li><li><code>delete</code> - (Defaults to 30 minutes) Used when deleting the App Service.</li></ul>", "import": "<h2 id=\"import\">Import</h2><p>App Services can be imported using the <code>resource id</code>, e.g.</p><p>shell<br />terraform import azurerm_app_service.instance1 /subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/mygroup1/providers/Microsoft.Web/sites/instance1</p>", "description": "<h1 id=\"azurerm_app_service\">azurerm_app_service</h1><p>Manages an App Service (within an App Service Plan).</p><p>!&gt; <strong>NOTE:</strong> This resource has been deprecated in version 3.0 of the AzureRM provider and will be removed in version 4.0. Please use <a href=\"https://registry.terraform.io/providers/hashicorp/azurerm/latest/docs/resources/linux_web_app\"><code>azurerm_linux_web_app</code></a> and <a href=\"https://registry.terraform.io/providers/hashicorp/azurerm/latest/docs/resources/windows_web_app\"><code>azurerm_windows_web_app</code></a> resources instead.</p><p>-&gt; <strong>Note:</strong> When using Slots - the <code>app_settings</code>, <code>connection_string</code> and <code>site_config</code> blocks on the <code>azurerm_app_service</code> resource will be overwritten when promoting a Slot using the <code>azurerm_app_service_active_slot</code> resource.</p>"}