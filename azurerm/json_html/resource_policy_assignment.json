{"azurerm-resource-policy-assignment": "<h1 id=\"azurerm_resource_policy_assignment\">azurerm_resource_policy_assignment</h1><p>Manages a Policy Assignment to a Resource.</p>", "example-usage": "<h2 id=\"example-usage\">Example Usage</h2><p>data \"azurerm_virtual_network\" \"example\" {<br />  name                = \"production\"<br />  resource_group_name = \"networking\"<br />}</p><br /><p>resource \"azurerm_policy_definition\" \"example\" {<br />  name         = \"only-deploy-in-westeurope\"<br />  policy_type  = \"Custom\"<br />  mode         = \"All\"<br />  display_name = \"my-policy-definition\"</p><br /><p>policy_rule = &lt;&lt;POLICY_RULE<br /> {<br />    \"if\": {<br />      \"not\": {<br />        \"field\": \"location\",<br />        \"equals\": \"westeurope\"<br />      }<br />    },<br />    \"then\": {<br />      \"effect\": \"Deny\"<br />    }<br />  }<br />POLICY_RULE<br />}</p><br /><p>resource \"azurerm_resource_policy_assignment\" \"example\" {<br />  name                 = \"example-policy-assignment\"<br />  resource_id          = data.azurerm_virtual_network.example.id<br />  policy_definition_id = azurerm_policy_definition.example.id<br />}</p><br />", "arguments-reference": "<h2 id=\"arguments-reference\">Arguments Reference</h2><p>The following arguments are supported:</p><ul><li><p><code>name</code> - (Required) The name which should be used for this Policy Assignment. Changing this forces a new Resource Policy Assignment to be created. Cannot exceed 64 characters in length.</p></li><li><p><code>policy_definition_id</code> - (Required) The ID of the Policy Definition or Policy Definition Set. Changing this forces a new Policy Assignment to be created.</p></li><li><p><code>resource_id</code> - (Required) The ID of the Resource (or Resource Scope) where this should be applied. Changing this forces a new Resource Policy Assignment to be created.</p></li></ul><p>~&gt; To create a Policy Assignment at a Management Group use the <code>azurerm_management_group_policy_assignment</code> resource, for a Resource Group use the <code>azurerm_resource_group_policy_assignment</code> and for a Subscription use the <code>azurerm_subscription_policy_assignment</code> resource.</p><hr /><ul><li><p><code>description</code> - (Optional) A description which should be used for this Policy Assignment.</p></li><li><p><code>display_name</code> - (Optional) The Display Name for this Policy Assignment.</p></li><li><p><code>enforce</code> - (Optional) Specifies if this Policy should be enforced or not? Defaults to <code>true</code>.</p></li><li><p><code>identity</code> - (Optional) An <code>identity</code> block as defined below.</p></li></ul><p>-&gt; <strong>Note:</strong> The <code>location</code> field must also be specified when <code>identity</code> is specified.</p><ul><li><p><code>location</code> - (Optional) The Azure Region where the Policy Assignment should exist. Changing this forces a new Policy Assignment to be created.</p></li><li><p><code>metadata</code> - (Optional) A JSON mapping of any Metadata for this Policy.</p></li><li><p><code>non_compliance_message</code> - (Optional) One or more <code>non_compliance_message</code> blocks as defined below.</p></li><li><p><code>not_scopes</code> - (Optional) Specifies a list of Resource Scopes (for example a Subscription, or a Resource Group) within this Management Group which are excluded from this Policy.</p></li><li><p><code>parameters</code> - (Optional) A JSON mapping of any Parameters for this Policy.</p></li><li><p><code>overrides</code> - (Optional) One or more <code>overrides</code> blocks as defined below. More detail about <code>overrides</code> and <code>resource_selectors</code> see <a href=\"https://learn.microsoft.com/en-us/azure/governance/policy/concepts/assignment-structure#resource-selectors-preview\">policy assignment structure</a></p></li><li><p><code>resource_selectors</code> - (Optional) One or more <code>resource_selectors</code> blocks as defined below to filter polices by resource properties.</p></li></ul><hr /><p>A <code>identity</code> block supports the following:</p><ul><li><p><code>type</code> - (Required) The Type of Managed Identity which should be added to this Policy Definition. Possible values are <code>SystemAssigned</code> and <code>UserAssigned</code>.</p></li><li><p><code>identity_ids</code> - (Optional) A list of User Managed Identity IDs which should be assigned to the Policy Definition.</p></li></ul><p>~&gt; <strong>NOTE:</strong> This is required when <code>type</code> is set to <code>UserAssigned</code>.</p><hr /><p>A <code>non_compliance_message</code> block supports the following:</p><ul><li><p><code>content</code> - (Required) The non-compliance message text. When assigning policy sets (initiatives), unless <code>policy_definition_reference_id</code> is specified then this message will be the default for all policies.</p></li><li><p><code>policy_definition_reference_id</code> - (Optional) When assigning policy sets (initiatives), this is the ID of the policy definition that the non-compliance message applies to.</p></li></ul><hr /><p>A <code>overrides</code> block supports the following:</p><ul><li><p><code>value</code> - (Required) Specifies the value to override the policy property. Possible values for <code>policyEffect</code> override listed <a href=\"https://learn.microsoft.com/en-us/azure/governance/policy/concepts/effects\">policy effects</a>.</p></li><li><p><code>selectors</code> - (Optional) One or more <code>override_selector</code> as defined below.</p></li></ul><hr /><p>A <code>override_selector</code> block supports the following:</p><ul><li><p><code>in</code> - (Optional) Specify the list of policy reference id values to filter in. Cannot be used with <code>not_in</code>.</p></li><li><p><code>not_in</code> - (Optional) Specify the list of policy reference id values to filter out. Cannot be used with <code>in</code>.</p></li></ul><hr /><p>A <code>resource_selectors</code> block supports the following:</p><ul><li><p><code>name</code> - (Optional) Specifies a name for the resource selector.</p></li><li><p><code>selectors</code> - (Required) One or more <code>resource_selector</code> block as defined below.</p></li></ul><hr /><p>A <code>resource_selector</code> block supports the following:</p><ul><li><p><code>kind</code> - (Required) Specifies which characteristic will narrow down the set of evaluated resources. Possible values are <code>resourceLocation</code>,  <code>resourceType</code> and <code>resourceWithoutLocation</code>.</p></li><li><p><code>in</code> - (Optional) The list of allowed values for the specified kind. Cannot be used with <code>not_in</code>. Can contain up to 50 values.</p></li><li><p><code>not_in</code> - (Optional) The list of not-allowed values for the specified kind. Cannot be used with <code>in</code>. Can contain up to 50 values.</p></li></ul>", "attributes-reference": "<h2 id=\"attributes-reference\">Attributes Reference</h2><p>In addition to the Arguments listed above - the following Attributes are exported:</p><ul><li><code>id</code> - The ID of the Resource Policy Assignment.</li></ul><hr /><p>The <code>identity</code> block exports the following:</p><ul><li><p><code>principal_id</code> - The Principal ID of the Policy Assignment for this Resource.</p></li><li><p><code>tenant_id</code> - The Tenant ID of the Policy Assignment for this Resource.</p></li></ul>", "timeouts": "<h2 id=\"timeouts\">Timeouts</h2><p>The <code>timeouts</code> block allows you to specify <a href=\"https://www.terraform.io/language/resources/syntax#operation-timeouts\">timeouts</a> for certain actions:</p><ul><li><code>create</code> - (Defaults to 30 minutes) Used when creating the Policy Assignment for this Resource.</li><li><code>read</code> - (Defaults to 5 minutes) Used when retrieving the Policy Assignment for this Resource.</li><li><code>update</code> - (Defaults to 30 minutes) Used when updating the Policy Assignment for this Resource.</li><li><code>delete</code> - (Defaults to 30 minutes) Used when deleting the Policy Assignment for this Resource.</li></ul>", "import": "<h2 id=\"import\">Import</h2><p>Resource Policy Assignments can be imported using the <code>resource id</code>, e.g.</p><p>shell<br />terraform import azurerm_resource_policy_assignment.example \"{resource}/providers/Microsoft.Authorization/policyAssignments/assignment1\"</p><p>where <code>{resource}</code> is a Resource ID in the form <code>/subscriptions/00000000-0000-0000-000000000000/resourceGroups/group1/providers/Microsoft.Network/virtualNetworks/network1</code>.</p>", "description": "<h1 id=\"azurerm_resource_policy_assignment\">azurerm_resource_policy_assignment</h1><p>Manages a Policy Assignment to a Resource.</p>"}