{"azurerm-media-streaming-policy": "<h1 id=\"azurerm_media_streaming_policy\">azurerm_media_streaming_policy</h1><p>Manages a Streaming Policy.</p>", "example-usage": "<h2 id=\"example-usage\">Example Usage</h2><p><br />resource \"azurerm_resource_group\" \"example\" {<br />  name     = \"media-resources\"<br />  location = \"West Europe\"<br />}</p><p>resource \"azurerm_storage_account\" \"example\" {<br />  name                     = \"examplestoracc\"<br />  resource_group_name      = azurerm_resource_group.example.name<br />  location                 = azurerm_resource_group.example.location<br />  account_tier             = \"Standard\"<br />  account_replication_type = \"GRS\"<br />}</p><p>resource \"azurerm_media_services_account\" \"example\" {<br />  name                = \"examplemediaacc\"<br />  location            = azurerm_resource_group.example.location<br />  resource_group_name = azurerm_resource_group.example.name</p><p>storage_account {<br />    id         = azurerm_storage_account.example.id<br />    is_primary = true<br />  }<br />}</p><p>resource \"azurerm_media_content_key_policy\" \"example\" {<br />  name                        = \"example\"<br />  resource_group_name         = azurerm_resource_group.example.name<br />  media_services_account_name = azurerm_media_services_account.example.name<br />  policy_option {<br />    name = \"fairPlay\"<br />    fairplay_configuration {<br />      ask                       = \"bb566284cc124a21c435a92cd3c108c4\"<br />      pfx                       = \"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\"<br />      pfx_password              = \"password\"<br />      rental_duration_seconds   = 2249<br />      rental_and_lease_key_type = \"PersistentUnlimited\"</p><pre><code>}open_restriction_enabled = true</code></pre><p>}<br />}</p><p>resource \"azurerm_media_streaming_policy\" \"example\" {<br />  name                        = \"Policy-1\"<br />  resource_group_name         = azurerm_resource_group.example.name<br />  media_services_account_name = azurerm_media_services_account.example.name<br />  common_encryption_cenc {<br />    clear_track {<br />      condition {<br />        property  = \"FourCC\"<br />        operation = \"Equal\"<br />        value     = \"hev2\"<br />      }<br />    }</p><pre><code>enabled_protocols {  download         = false  dash             = true  hls              = false  smooth_streaming = false}default_content_key {  label       = \"aesDefaultKey\"  policy_name = azurerm_media_content_key_policy.example.name}drm_playready {  custom_license_acquisition_url_template = \"https://contoso.com/{AssetAlternativeId}/playready/{ContentKeyId}\"  custom_attributes                       = \"PlayReady CustomAttributes\"}drm_widevine_custom_license_acquisition_url_template = \"https://contoso.com/{AssetAlternativeId}/widevine/{ContentKeyId}\"</code></pre><p>}</p><p>common_encryption_cbcs {<br />    enabled_protocols {<br />      download         = false<br />      dash             = true<br />      hls              = false<br />      smooth_streaming = false<br />    }<br />    drm_fairplay {<br />      custom_license_acquisition_url_template = \"https://contoso.com/{AssetAlternativeId}/fairplay/{ContentKeyId}\"<br />      allow_persistent_license                = true<br />    }<br />  }<br />}<br /></p>", "arguments-reference": "<h2 id=\"arguments-reference\">Arguments Reference</h2><p>The following arguments are supported:</p><ul><li><p><code>media_services_account_name</code> - (Required) The Media Services account name. Changing this forces a new Streaming Policy to be created.</p></li><li><p><code>name</code> - (Required) The name which should be used for this Streaming Policy. Changing this forces a new Streaming Policy to be created.</p></li><li><p><code>resource_group_name</code> - (Required) The name of the Resource Group where the Streaming Policy should exist. Changing this forces a new Streaming Policy to be created.</p></li></ul><hr /><ul><li><p><code>common_encryption_cbcs</code> - (Optional) A <code>common_encryption_cbcs</code> block as defined below. Changing this forces a new Streaming Policy to be created.</p></li><li><p><code>common_encryption_cenc</code> - (Optional) A <code>common_encryption_cenc</code> block as defined below. Changing this forces a new Streaming Policy to be created.</p></li><li><p><code>default_content_key_policy_name</code> - (Optional) Default Content Key used by current Streaming Policy. Changing this forces a new Streaming Policy to be created.</p></li><li><p><code>envelope_encryption</code> - (Optional) A <code>envelope_encryption</code> block as defined below. Changing this forces a new Streaming Policy to be created. </p></li><li><p><code>no_encryption_enabled_protocols</code> - (Optional) A <code>no_encryption_enabled_protocols</code> block as defined below. Changing this forces a new Streaming Policy to be created.</p></li></ul><hr /><p>A <code>common_encryption_cbcs</code> block supports the following:</p><ul><li><p><code>clear_key_encryption</code> - (Optional) A <code>clear_key_encryption</code> block as defined below. Changing this forces a new Streaming Policy to be created.</p></li><li><p><code>default_content_key</code> - (Optional) A <code>default_content_key</code> block as defined below. Changing this forces a new Streaming Policy to be created.</p></li><li><p><code>drm_fairplay</code> - (Optional) A <code>drm_fairplay</code> block as defined below. Changing this forces a new Streaming Policy to be created.</p></li><li><p><code>enabled_protocols</code> - (Optional) A <code>enabled_protocols</code> block as defined below. Changing this forces a new Streaming Policy to be created.</p></li></ul><hr /><p>A <code>common_encryption_cenc</code> block supports the following:</p><ul><li><p><code>clear_key_encryption</code> - (Optional) A <code>clear_key_encryption</code> block as defined below. Changing this forces a new Streaming Policy to be created.</p></li><li><p><code>clear_track</code> - (Optional) One or more <code>clear_track</code> blocks as defined below. Changing this forces a new Streaming Policy to be created.</p></li><li><p><code>content_key_to_track_mapping</code> - (Optional) One or more <code>content_key_to_track_mapping</code> blocks as defined below. Changing this forces a new Streaming Policy to be created.</p></li><li><p><code>default_content_key</code> - (Optional) A <code>default_content_key</code> block as defined below. Changing this forces a new Streaming Policy to be created.</p></li><li><p><code>drm_playready</code> - (Optional) A <code>drm_playready</code> block as defined below. Changing this forces a new Streaming Policy to be created.</p></li><li><p><code>drm_widevine_custom_license_acquisition_url_template</code> - (Optional) The URL template for the custom service that delivers licenses to the end user. This is not required when using Azure Media Services for issuing licenses. Changing this forces a new Streaming Policy to be created.</p></li><li><p><code>enabled_protocols</code> - (Optional) A <code>enabled_protocols</code> block as defined below. Changing this forces a new Streaming Policy to be created.</p></li></ul><hr /><p>A <code>clear_key_encryption</code> block supports the following:</p><ul><li><code>custom_keys_acquisition_url_template</code> - (Required) The URL template for the custom service that delivers content keys to the end user. This is not required when using Azure Media Services for issuing keys. Changing this forces a new Streaming Policy to be created.</li></ul><p>-&gt; <strong>Note</strong> Either <code>clear_key_encryption</code> or <code>drm</code> must be specified.</p><hr /><p>A <code>clear_track</code> block supports the following:</p><ul><li><code>condition</code> - (Required) One or more <code>condition</code> blocks as defined below. Changing this forces a new Streaming Policy to be created. </li></ul><hr /><p>A <code>condition</code> block supports the following:</p><ul><li><p><code>operation</code> - (Required) The track property condition operation. Possible value is <code>Equal</code>. Changing this forces a new Streaming Policy to be created.</p></li><li><p><code>property</code> - (Required) The track property type. Possible value is <code>FourCC</code>. Changing this forces a new Streaming Policy to be created.</p></li><li><p><code>value</code> - (Required) The track property value. Changing this forces a new Streaming Policy to be created.</p></li></ul><hr /><p>A <code>content_key_to_track_mapping</code> block supports the following:</p><ul><li><p><code>label</code> - (Optional) Specifies the content key when creating a Streaming Locator. Changing this forces a new Streaming Policy to be created.</p></li><li><p><code>policy_name</code> - (Optional) The policy used by the default key. Changing this forces a new Streaming Policy to be created.</p></li><li><p><code>track</code> - (Optional) One or more <code>track</code> blocks as defined below. Changing this forces a new Streaming Policy to be created.</p></li></ul><hr /><p>A <code>default_content_key</code> block supports the following:</p><ul><li><p><code>label</code> - (Optional) Label can be used to specify Content Key when creating a Streaming Locator. Changing this forces a new Streaming Policy to be created.</p></li><li><p><code>policy_name</code> - (Optional) Policy used by Default Key. Changing this forces a new Streaming Policy to be created.</p></li></ul><hr /><p>A <code>drm_fairplay</code> block supports the following:</p><ul><li><p><code>allow_persistent_license</code> - (Optional) All license to be persistent or not. Changing this forces a new Streaming Policy to be created.</p></li><li><p><code>custom_license_acquisition_url_template</code> - (Optional) The URL template for the custom service that delivers licenses to the end user. This is not required when using Azure Media Services for issuing licenses. Changing this forces a new Streaming Policy to be created.</p></li></ul><hr /><p>A <code>drm_playready</code> block supports the following:</p><ul><li><p><code>custom_attributes</code> - (Optional) Custom attributes for PlayReady. Changing this forces a new Streaming Policy to be created.</p></li><li><p><code>custom_license_acquisition_url_template</code> - (Optional) The URL template for the custom service that delivers licenses to the end user. This is not required when using Azure Media Services for issuing licenses. Changing this forces a new Streaming Policy to be created.</p></li></ul><hr /><p>A <code>enabled_protocols</code> block supports the following:</p><ul><li><p><code>dash</code> - (Optional) Enable DASH protocol or not. Changing this forces a new Streaming Policy to be created.</p></li><li><p><code>download</code> - (Optional) Enable Download protocol or not. Changing this forces a new Streaming Policy to be created.</p></li><li><p><code>hls</code> - (Optional) Enable HLS protocol or not. Changing this forces a new Streaming Policy to be created.</p></li><li><p><code>smooth_streaming</code> - (Optional) Enable SmoothStreaming protocol or not. Changing this forces a new Streaming Policy to be created.</p></li></ul><hr /><p>A <code>envelope_encryption</code> block supports the following:</p><ul><li><p><code>custom_keys_acquisition_url_template</code> - (Optional) The URL template for the custom service that delivers content keys to the end user. This is not required when using Azure Media Services for issuing keys. Changing this forces a new Streaming Policy to be created.</p></li><li><p><code>default_content_key</code> - (Optional) A <code>default_content_key</code> block as defined above. Changing this forces a new Streaming Policy to be created.</p></li><li><p><code>enabled_protocols</code> - (Optional) A <code>enabled_protocols</code> block as defined above. Changing this forces a new Streaming Policy to be created.</p></li></ul><hr /><p>A <code>no_encryption_enabled_protocols</code> block supports the following:</p><ul><li><p><code>dash</code> - (Optional) Enable DASH protocol or not. Changing this forces a new Streaming Policy to be created.</p></li><li><p><code>download</code> - (Optional) Enable Download protocol or not. Changing this forces a new Streaming Policy to be created.</p></li><li><p><code>hls</code> - (Optional) Enable HLS protocol or not. Changing this forces a new Streaming Policy to be created.</p></li><li><p><code>smooth_streaming</code> - (Optional) Enable SmoothStreaming protocol or not. Changing this forces a new Streaming Policy to be created.</p></li></ul><hr /><p>A <code>track</code> block supports the following:</p><ul><li><code>condition</code> - (Required) One or more <code>condition</code> blocks as defined below. Changing this forces a new Streaming Policy to be created. </li></ul>", "attributes-reference": "<h2 id=\"attributes-reference\">Attributes Reference</h2><p>In addition to the Arguments listed above - the following Attributes are exported:</p><ul><li><code>id</code> - The ID of the Streaming Policy.</li></ul>", "timeouts": "<h2 id=\"timeouts\">Timeouts</h2><p>The <code>timeouts</code> block allows you to specify <a href=\"https://www.terraform.io/language/resources/syntax#operation-timeouts\">timeouts</a> for certain actions:</p><ul><li><code>create</code> - (Defaults to 30 minutes) Used when creating the Streaming Policy.</li><li><code>read</code> - (Defaults to 5 minutes) Used when retrieving the Streaming Policy.</li><li><code>delete</code> - (Defaults to 30 minutes) Used when deleting the Streaming Policy.</li></ul>", "import": "<h2 id=\"import\">Import</h2><p>Streaming Policies can be imported using the <code>resource id</code>, e.g.</p><p><code>shellterraform import azurerm_media_streaming_policy.example /subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/group1/providers/Microsoft.Media/mediaServices/account1/streamingPolicies/policy1</code></p>", "description": "<h1 id=\"azurerm_media_streaming_policy\">azurerm_media_streaming_policy</h1><p>Manages a Streaming Policy.</p>"}