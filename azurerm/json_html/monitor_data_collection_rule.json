{"azurerm-monitor-data-collection-rule": "<h1 id=\"azurerm_monitor_data_collection_rule\">azurerm_monitor_data_collection_rule</h1><p>Manages a Data Collection Rule.</p>", "example-usage": "<h2 id=\"example-usage\">Example Usage</h2><p>resource \"azurerm_resource_group\" \"example\" {<br />  name     = \"example-resources\"<br />  location = \"West Europe\"<br />}</p><br /><p>resource \"azurerm_user_assigned_identity\" \"example\" {<br />  name                = \"example-uai\"<br />  resource_group_name = azurerm_resource_group.example.name<br />  location            = azurerm_resource_group.example.location<br />}</p><br /><p>resource \"azurerm_log_analytics_workspace\" \"example\" {<br />  name                = \"example-workspace\"<br />  resource_group_name = azurerm_resource_group.example.name<br />  location            = azurerm_resource_group.example.location<br />}</p><br /><p>resource \"azurerm_log_analytics_solution\" \"example\" {<br />  solution_name         = \"WindowsEventForwarding\"<br />  location              = azurerm_resource_group.example.location<br />  resource_group_name   = azurerm_resource_group.example.name<br />  workspace_resource_id = azurerm_log_analytics_workspace.example.id<br />  workspace_name        = azurerm_log_analytics_workspace.example.name<br />  plan {<br />    publisher = \"Microsoft\"<br />    product   = \"OMSGallery/WindowsEventForwarding\"<br />  }<br />}</p><br /><p>resource \"azurerm_eventhub_namespace\" \"example\" {<br />  name                = \"exeventns\"<br />  location            = azurerm_resource_group.example.location<br />  resource_group_name = azurerm_resource_group.example.name<br />  sku                 = \"Standard\"<br />  capacity            = 1<br />}</p><br /><p>resource \"azurerm_eventhub\" \"example\" {<br />  name                = \"exevent2\"<br />  namespace_name      = azurerm_eventhub_namespace.example.name<br />  resource_group_name = azurerm_resource_group.example.name<br />  partition_count     = 2<br />  message_retention   = 1<br />}</p><br /><p>resource \"azurerm_storage_account\" \"example\" {<br />  name                     = \"examstorage\"<br />  resource_group_name      = azurerm_resource_group.example.name<br />  location                 = azurerm_resource_group.example.location<br />  account_tier             = \"Standard\"<br />  account_replication_type = \"LRS\"<br />}</p><br /><p>resource \"azurerm_storage_container\" \"example\" {<br />  name                  = \"examplecontainer\"<br />  storage_account_name  = azurerm_storage_account.example.name<br />  container_access_type = \"private\"<br />}</p><br /><p>resource \"azurerm_monitor_data_collection_endpoint\" \"example\" {<br />  name                = \"example-dcre\"<br />  resource_group_name = azurerm_resource_group.example.name<br />  location            = azurerm_resource_group.example.location</p><br /><p>lifecycle {<br />    create_before_destroy = true<br />  }<br />}</p><br /><p>resource \"azurerm_monitor_data_collection_rule\" \"example\" {<br />  name                        = \"example-rule\"<br />  resource_group_name         = azurerm_resource_group.example.name<br />  location                    = azurerm_resource_group.example.location<br />  data_collection_endpoint_id = azurerm_monitor_data_collection_endpoint.example.id</p><br /><p>destinations {<br />    log_analytics {<br />      workspace_resource_id = azurerm_log_analytics_workspace.example.id<br />      name                  = \"example-destination-log\"<br />    }</p><br /><pre><code>event_hub {<br />  event_hub_id = azurerm_eventhub.example.id<br />  name         = \"example-destination-eventhub\"<br />}<br /><br />storage_blob {<br />  storage_account_id = azurerm_storage_account.example.id<br />  container_name     = azurerm_storage_container.example.name<br />  name               = \"example-destination-storage\"<br />}<br /><br />azure_monitor_metrics {<br />  name = \"example-destination-metrics\"<br />}<br /></code></pre><br /><p>}</p><br /><p>data_flow {<br />    streams      = [\"Microsoft-InsightsMetrics\"]<br />    destinations = [\"example-destination-metrics\"]<br />  }</p><br /><p>data_flow {<br />    streams      = [\"Microsoft-InsightsMetrics\", \"Microsoft-Syslog\", \"Microsoft-Perf\"]<br />    destinations = [\"example-destination-log\"]<br />  }</p><br /><p>data_flow {<br />    streams       = [\"Custom-MyTableRawData\"]<br />    destinations  = [\"example-destination-log\"]<br />    output_stream = \"Microsoft-Syslog\"<br />    transform_kql = \"source | project TimeGenerated = Time, Computer, Message = AdditionalContext\"<br />  }</p><br /><p>data_sources {<br />    syslog {<br />      facility_names = [\"<em>\"]<br />      log_levels     = [\"</em>\"]<br />      name           = \"example-datasource-syslog\"<br />      streams        = [\"Microsoft-Syslog\"]<br />    }</p><br /><pre><code>iis_log {<br />  streams         = [\"Microsoft-W3CIISLog\"]<br />  name            = \"example-datasource-iis\"<br />  log_directories = [\"C:\\\\Logs\\\\W3SVC1\"]<br />}<br /><br />log_file {<br />  name          = \"example-datasource-logfile\"<br />  format        = \"text\"<br />  streams       = [\"Custom-MyTableRawData\"]<br />  file_patterns = [\"C:\\\\JavaLogs\\\\*.log\"]<br />  settings {<br />    text {<br />      record_start_timestamp_format = \"ISO 8601\"<br />    }<br />  }<br />}<br /><br />performance_counter {<br />  streams                       = [\"Microsoft-Perf\", \"Microsoft-InsightsMetrics\"]<br />  sampling_frequency_in_seconds = 60<br />  counter_specifiers            = [\"Processor(*)\\\\% Processor Time\"]<br />  name                          = \"example-datasource-perfcounter\"<br />}<br /><br />windows_event_log {<br />  streams        = [\"Microsoft-WindowsEvent\"]<br />  x_path_queries = [\"*![System/Level=1]\"]<br />  name           = \"example-datasource-wineventlog\"<br />}<br /><br />extension {<br />  streams            = [\"Microsoft-WindowsEvent\"]<br />  input_data_sources = [\"example-datasource-wineventlog\"]<br />  extension_name     = \"example-extension-name\"<br />  extension_json = jsonencode({<br />    a = 1<br />    b = \"hello\"<br />  })<br />  name = \"example-datasource-extension\"<br />}<br /></code></pre><br /><p>}</p><br /><p>stream_declaration {<br />    stream_name = \"Custom-MyTableRawData\"<br />    column {<br />      name = \"Time\"<br />      type = \"datetime\"<br />    }<br />    column {<br />      name = \"Computer\"<br />      type = \"string\"<br />    }<br />    column {<br />      name = \"AdditionalContext\"<br />      type = \"string\"<br />    }<br />  }</p><br /><p>identity {<br />    type         = \"UserAssigned\"<br />    identity_ids = [azurerm_user_assigned_identity.example.id]<br />  }</p><br /><p>description = \"data collection rule example\"<br />  tags = {<br />    foo = \"bar\"<br />  }<br />  depends_on = [<br />    azurerm_log_analytics_solution.example<br />  ]<br />}</p><br />", "arguments-reference": "<h2 id=\"arguments-reference\">Arguments Reference</h2><p>The following arguments are supported:</p><ul><li><p><code>data_flow</code> - (Required) One or more <code>data_flow</code> blocks as defined below.</p></li><li><p><code>destinations</code> - (Required) A <code>destinations</code> block as defined below.</p></li><li><p><code>location</code> - (Required) The Azure Region where the Data Collection Rule should exist. Changing this forces a new Data Collection Rule to be created.</p></li><li><p><code>name</code> - (Required) The name which should be used for this Data Collection Rule. Changing this forces a new Data Collection Rule to be created.</p></li><li><p><code>resource_group_name</code> - (Required) The name of the Resource Group where the Data Collection Rule should exist. Changing this forces a new Data Collection Rule to be created.</p></li></ul><hr /><ul><li><p><code>data_collection_endpoint_id</code> - (Optional) The resource ID of the Data Collection Endpoint that this rule can be used with.</p></li><li><p><code>data_sources</code> - (Optional) A <code>data_sources</code> block as defined below. This property is optional and can be omitted if the rule is meant to be used via direct calls to the provisioned endpoint.</p></li><li><p><code>description</code> - (Optional) The description of the Data Collection Rule.</p></li><li><p><code>identity</code> - (Optional) An <code>identity</code> block as defined below.</p></li><li><p><code>kind</code> - (Optional) The kind of the Data Collection Rule. Possible values are <code>Linux</code>, <code>Windows</code>,and <code>AgentDirectToStore</code>. A rule of kind <code>Linux</code> does not allow for <code>windows_event_log</code> data sources. And a rule of kind <code>Windows</code> does not allow for <code>syslog</code> data sources. If kind is not specified, all kinds of data sources are allowed.</p></li></ul><p>~&gt; <strong>NOTE</strong> Once <code>kind</code> has been set, changing it forces a new Data Collection Rule to be created.</p><ul><li><p><code>stream_declaration</code> - (Optional) A <code>stream_declaration</code> block as defined below.</p></li><li><p><code>tags</code> - (Optional) A mapping of tags which should be assigned to the Data Collection Rule.</p></li></ul><hr /><p>A <code>azure_monitor_metrics</code> block supports the following:</p><ul><li><code>name</code> - (Required) The name which should be used for this destination. This name should be unique across all destinations regardless of type within the Data Collection Rule.</li></ul><hr /><p>A <code>column</code> block supports the following:</p><ul><li><p><code>name</code> - (Required) The name of the column.</p></li><li><p><code>type</code> - (Required) The type of the column data. Possible values are <code>string</code>, <code>int</code>, <code>long</code>, <code>real</code>, <code>boolean</code>, <code>datetime</code>,and <code>dynamic</code>.</p></li></ul><hr /><p>A <code>data_import</code> block supports the following:</p><ul><li><code>event_hub_data_source</code> - (Required) An <code>event_hub_data_source</code> block as defined below.</li></ul><hr /><p>A <code>data_flow</code> block supports the following:</p><ul><li><p><code>destinations</code> - (Required) Specifies a list of destination names. A <code>azure_monitor_metrics</code> data source only allows for stream of kind <code>Microsoft-InsightsMetrics</code>.</p></li><li><p><code>streams</code> - (Required) Specifies a list of streams. Possible values include but not limited to <code>Microsoft-Event</code>, <code>Microsoft-InsightsMetrics</code>, <code>Microsoft-Perf</code>, <code>Microsoft-Syslog</code>,and <code>Microsoft-WindowsEvent</code>.</p></li><li><p><code>built_in_transform</code> - (Optional) The built-in transform to transform stream data.</p></li><li><p><code>output_stream</code> - (Optional) The output stream of the transform. Only required if the data flow changes data to a different stream.</p></li><li><p><code>transform_kql</code> - (Optional) The KQL query to transform stream data.</p></li></ul><hr /><p>A <code>data_sources</code> block supports the following:</p><ul><li><p><code>data_import</code> - (Optional) A <code>data_import</code> block as defined above.</p></li><li><p><code>extension</code> - (Optional) One or more <code>extension</code> blocks as defined below.</p></li><li><p><code>iis_log</code> - (Optional) One or more <code>iis_log</code> blocks as defined below.</p></li><li><p><code>log_file</code> - (Optional) One or more <code>log_file</code> blocks as defined below.</p></li><li><p><code>performance_counter</code> - (Optional) One or more <code>performance_counter</code> blocks as defined below.</p></li><li><p><code>platform_telemetry</code> - (Optional) One or more <code>platform_telemetry</code> blocks as defined below.</p></li><li><p><code>prometheus_forwarder</code> - (Optional) One or more <code>prometheus_forwarder</code> blocks as defined below.</p></li><li><p><code>syslog</code> - (Optional) One or more <code>syslog</code> blocks as defined below.</p></li><li><p><code>windows_event_log</code> - (Optional) One or more <code>windows_event_log</code> blocks as defined below.</p></li><li><p><code>windows_firewall_log</code> - (Optional) One or more <code>windows_firewall_log</code> blocks as defined below.</p></li></ul><hr /><p>A <code>destinations</code> block supports the following:</p><ul><li><p><code>azure_monitor_metrics</code> - (Optional) A <code>azure_monitor_metrics</code> block as defined above.</p></li><li><p><code>event_hub</code> - (Optional) One or more <code>event_hub</code> blocks as defined below.</p></li><li><p><code>event_hub_direct</code> - (Optional) One or more <code>event_hub</code> blocks as defined below.</p></li><li><p><code>log_analytics</code> - (Optional) One or more <code>log_analytics</code> blocks as defined below.</p></li><li><p><code>monitor_account</code> - (Optional) One or more <code>monitor_account</code> blocks as defined below.</p></li><li><p><code>storage_blob</code> - (Optional) One or more <code>storage_blob</code> blocks as defined below.</p></li><li><p><code>storage_blob_direct</code> - (Optional) One or more <code>storage_blob_direct</code> blocks as defined below.</p></li><li><p><code>storage_table_direct</code> - (Optional) One or more <code>storage_table_direct</code> blocks as defined below.</p></li></ul><p>-&gt; <strong>NOTE</strong> <code>event_hub_direct</code>, <code>storage_blob_direct</code>, and <code>storage_table_direct</code> are only available for rules of kind <code>AgentDirectToStore</code>.</p><p>-&gt; <strong>NOTE</strong> At least one of <code>azure_monitor_metrics</code>, <code>event_hub</code>, <code>event_hub_direct</code>, <code>log_analytics</code>, <code>monitor_account</code>, <code>storage_blob</code>, <code>storage_blob_direct</code>,and <code>storage_table_direct</code> blocks must be specified.</p><hr /><p>An <code>event_hub_data_source</code> block supports the following:</p><ul><li><p><code>name</code> - (Required) The name which should be used for this data source. This name should be unique across all data sources regardless of type within the Data Collection Rule.</p></li><li><p><code>stream</code> - (Required) The stream to collect from Event Hub. Possible value should be a custom stream name.</p></li><li><p><code>consumer_group</code> - (Optional) The Event Hub consumer group name.</p></li></ul><hr /><p>An <code>event_hub</code> block supports the following:</p><ul><li><p><code>event_hub_id</code> - (Required) The resource ID of the Event Hub.</p></li><li><p><code>name</code> - (Required) The name which should be used for this destination. This name should be unique across all destinations regardless of type within the Data Collection Rule.</p></li></ul><hr /><p>An <code>event_hub_direct</code> block supports the following:</p><ul><li><p><code>event_hub_id</code> - (Required) The resource ID of the Event Hub.</p></li><li><p><code>name</code> - (Required) The name which should be used for this destination. This name should be unique across all destinations regardless of type within the Data Collection Rule.</p></li></ul><hr /><p>An <code>extension</code> block supports the following:</p><ul><li><p><code>extension_name</code> - (Required) The name of the VM extension.</p></li><li><p><code>name</code> - (Required) The name which should be used for this data source. This name should be unique across all data sources regardless of type within the Data Collection Rule.</p></li><li><p><code>streams</code> - (Required) Specifies a list of streams that this data source will be sent to. A stream indicates what schema will be used for this data and usually what table in Log Analytics the data will be sent to. Possible values include but not limited to <code>Microsoft-Event</code>, <code>Microsoft-InsightsMetrics</code>, <code>Microsoft-Perf</code>, <code>Microsoft-Syslog</code>, <code>Microsoft-WindowsEvent</code>.</p></li><li><p><code>extension_json</code> - (Optional) A JSON String which specifies the extension setting.</p></li><li><p><code>input_data_sources</code> - (Optional) Specifies a list of data sources this extension needs data from. An item should be a name of a supported data source which produces only one stream. Supported data sources type: <code>performance_counter</code>, <code>windows_event_log</code>,and <code>syslog</code>.</p></li></ul><hr /><p>An <code>iis_log</code> block supports the following:</p><ul><li><p><code>name</code> - (Required) The name which should be used for this data source. This name should be unique across all data sources regardless of type within the Data Collection Rule.</p></li><li><p><code>streams</code> - (Required) Specifies a list of streams that this data source will be sent to. A stream indicates what schema will be used for this data and usually what table in Log Analytics the data will be sent to. Possible value is <code>Microsoft-W3CIISLog</code>.</p></li><li><p><code>log_directories</code> - (Optional) Specifies a list of absolute paths where the log files are located.</p></li></ul><hr /><p>An <code>identity</code> block supports the following:</p><ul><li><p><code>type</code> - (Required) Specifies the type of Managed Service Identity that should be configured on this Data Collection Rule. Possible values are <code>SystemAssigned</code> and <code>UserAssigned</code>.</p></li><li><p><code>identity_ids</code> - (Optional) A list of User Assigned Managed Identity IDs to be assigned to this Data Collection Rule. Currently, up to 1 identity is supported.</p></li></ul><p>~&gt; <strong>NOTE:</strong> This is required when <code>type</code> is set to <code>UserAssigned</code>.</p><hr /><p>A <code>label_include_filter</code> block supports the following:</p><ul><li><p><code>label</code> - (Required) The label of the filter. This label should be unique across all <code>label_include_fileter</code> block. Possible value is <code>microsoft_metrics_include_label</code>.</p></li><li><p><code>value</code> - (Required) The value of the filter.</p></li></ul><hr /><p>A <code>log_analytics</code> block supports the following:</p><ul><li><p><code>name</code> - (Required) The name which should be used for this destination. This name should be unique across all destinations regardless of type within the Data Collection Rule.</p></li><li><p><code>workspace_resource_id</code> - (Required) The ID of a Log Analytic Workspace resource.</p></li></ul><hr /><p>An <code>log_file</code> block supports the following:</p><ul><li><p><code>name</code> - (Required) The name which should be used for this data source. This name should be unique across all data sources regardless of type within the Data Collection Rule.</p></li><li><p><code>streams</code> - (Required) Specifies a list of streams that this data source will be sent to. A stream indicates what schema will be used for this data and usually what table in Log Analytics the data will be sent to. Possible value should be custom stream names.</p></li><li><p><code>file_patterns</code> - (Required) Specifies a list of file patterns where the log files are located. For example, <code>C:\\\\JavaLogs\\\\*.log</code>.</p></li><li><p><code>format</code> - (Required) The data format of the log files. possible value is <code>text</code>.</p></li><li><p><code>settings</code> - (Optional) A <code>settings</code> block as defined below.</p></li></ul><hr /><p>A <code>monitor_account</code> block supports the following:</p><ul><li><p><code>monitor_account_id</code> - (Required) The resource ID of the Monitor Account.</p></li><li><p><code>name</code> - (Required) The name which should be used for this destination. This name should be unique across all destinations regardless of type within the Data Collection Rule.</p></li></ul><hr /><p>A <code>performance_counter</code> block supports the following:</p><ul><li><p><code>counter_specifiers</code> - (Required) Specifies a list of specifier names of the performance counters you want to collect. To get a list of performance counters on Windows, run the command <code>typeperf</code>. Please see <a href=\"https://learn.microsoft.com/en-us/azure/azure-monitor/agents/data-sources-performance-counters#configure-performance-counters\">this document</a> for more information.</p></li><li><p><code>name</code> - (Required) The name which should be used for this data source. This name should be unique across all data sources regardless of type within the Data Collection Rule.</p></li><li><p><code>sampling_frequency_in_seconds</code> - (Required) The number of seconds between consecutive counter measurements (samples). The value should be integer between <code>1</code> and <code>300</code> inclusive. <code>sampling_frequency_in_seconds</code> must be equal to <code>60</code> seconds for counters collected with <code>Microsoft-InsightsMetrics</code> stream.</p></li><li><p><code>streams</code> - (Required) Specifies a list of streams that this data source will be sent to. A stream indicates what schema will be used for this data and usually what table in Log Analytics the data will be sent to. Possible values include but not limited to <code>Microsoft-InsightsMetrics</code>,and <code>Microsoft-Perf</code>.</p></li></ul><hr /><p>A <code>platform_telemetry</code> block supports the following:</p><ul><li><p><code>name</code> - (Required) The name which should be used for this data source. This name should be unique across all data sources regardless of type within the Data Collection Rule.</p></li><li><p><code>streams</code> - (Required) Specifies a list of streams that this data source will be sent to. A stream indicates what schema will be used for this data and usually what table in Log Analytics the data will be sent to. Possible values include but not limited to <code>Microsoft.Cache/redis:Metrics-Group-All</code>.</p></li></ul><hr /><p>A <code>prometheus_forwarder</code> block supports the following:</p><ul><li><p><code>name</code> - (Required) The name which should be used for this data source. This name should be unique across all data sources regardless of type within the Data Collection Rule.</p></li><li><p><code>streams</code> - (Required) Specifies a list of streams that this data source will be sent to. A stream indicates what schema will be used for this data and usually what table in Log Analytics the data will be sent to. Possible value is <code>Microsoft-PrometheusMetrics</code>.</p></li><li><p><code>label_include_filter</code> - (Optional) One or more <code>label_include_filter</code> blocks as defined above.</p></li></ul><hr /><p>A <code>settings</code> block within the <code>log_file</code> block supports the following:</p><ul><li><code>text</code> - (Required) A <code>text</code> block as defined below.</li></ul><hr /><p>A <code>storage_blob</code> block supports the following:</p><ul><li><p><code>container_name</code> - (Required) The Storage Container name.</p></li><li><p><code>name</code> - (Required) The name which should be used for this destination. This name should be unique across all destinations regardless of type within the Data Collection Rule.</p></li><li><p><code>storage_account_id</code> - (Required) The resource ID of the Storage Account.</p></li></ul><hr /><p>A <code>storage_blob_direct</code> block supports the following:</p><ul><li><p><code>container_name</code> - (Required) The Storage Container name.</p></li><li><p><code>name</code> - (Required) The name which should be used for this destination. This name should be unique across all destinations regardless of type within the Data Collection Rule.</p></li><li><p><code>storage_account_id</code> - (Required) The resource ID of the Storage Account.</p></li></ul><hr /><p>A <code>storage_table_direct</code> block supports the following:</p><ul><li><p><code>table_name</code> - (Required) The Storage Table name.</p></li><li><p><code>name</code> - (Required) The name which should be used for this destination. This name should be unique across all destinations regardless of type within the Data Collection Rule.</p></li><li><p><code>storage_account_id</code> - (Required) The resource ID of the Storage Account.</p></li></ul><hr /><p>A <code>stream_declaration</code> block supports the following:</p><ul><li><p><code>stream_name</code> - (Required) The name of the custom stream. This name should be unique across all <code>stream_declaration</code> blocks.</p></li><li><p><code>column</code> - (Required) One or more <code>column</code> blocks as defined above.</p></li></ul><hr /><p>A <code>syslog</code> block supports the following:</p><ul><li><p><code>facility_names</code> - (Required) Specifies a list of facility names. Use a wildcard <code>*</code> to collect logs for all facility names. Possible values are <code>auth</code>, <code>authpriv</code>, <code>cron</code>, <code>daemon</code>, <code>kern</code>, <code>lpr</code>, <code>mail</code>, <code>mark</code>, <code>news</code>, <code>syslog</code>, <code>user</code>, <code>uucp</code>, <code>local0</code>, <code>local1</code>, <code>local2</code>, <code>local3</code>, <code>local4</code>, <code>local5</code>, <code>local6</code>, <code>local7</code>,and <code>*</code>.</p></li><li><p><code>log_levels</code> - (Required) Specifies a list of log levels. Use a wildcard <code>*</code> to collect logs for all log levels. Possible values are <code>Debug</code>, <code>Info</code>, <code>Notice</code>, <code>Warning</code>, <code>Error</code>, <code>Critical</code>, <code>Alert</code>, <code>Emergency</code>,and <code>*</code>.</p></li><li><p><code>name</code> - (Required) The name which should be used for this data source. This name should be unique across all data sources regardless of type within the Data Collection Rule.</p></li><li><p><code>streams</code> - (Optional) Specifies a list of streams that this data source will be sent to. A stream indicates what schema will be used for this data and usually what table in Log Analytics the data will be sent to. Possible values include but not limited to <code>Microsoft-Syslog</code>,and <code>Microsoft-CiscoAsa</code>, and <code>Microsoft-CommonSecurityLog</code>.</p></li></ul><p>-&gt; <strong>Note:</strong> In 4.0 or later version of the provider, <code>streams</code> will be required. In 3.x version of provider, if <code>streams</code> is not specified in creation, it is default to <code>[\"Microsoft-Syslog\"]</code>. if <code>streams</code> need to be modified (include change other value to the default value), it must be explicitly specified.</p><hr /><p>A <code>text</code> block within the <code>log_file.settings</code> block supports the following:</p><ul><li><code>record_start_timestamp_format</code> - (Required) The timestamp format of the text log files. Possible values are <code>ISO 8601</code>, <code>YYYY-MM-DD HH:MM:SS</code>, <code>M/D/YYYY HH:MM:SS AM/PM</code>, <code>Mon DD, YYYY HH:MM:SS</code>, <code>yyMMdd HH:mm:ss</code>, <code>ddMMyy HH:mm:ss</code>, <code>MMM d hh:mm:ss</code>, <code>dd/MMM/yyyy:HH:mm:ss zzz</code>,and <code>yyyy-MM-ddTHH:mm:ssK</code>.</li></ul><hr /><p>A <code>windows_event_log</code> block supports the following:</p><ul><li><p><code>name</code> - (Required) The name which should be used for this data source. This name should be unique across all data sources regardless of type within the Data Collection Rule.</p></li><li><p><code>streams</code> - (Required) Specifies a list of streams that this data source will be sent to. A stream indicates what schema will be used for this data and usually what table in Log Analytics the data will be sent to. Possible values include but not limited to <code>Microsoft-Event</code>,and <code>Microsoft-WindowsEvent</code>, <code>Microsoft-RomeDetectionEvent</code>, and <code>Microsoft-SecurityEvent</code>.</p></li><li><p><code>x_path_queries</code> - (Required) Specifies a list of Windows Event Log queries in XPath expression. Please see <a href=\"https://learn.microsoft.com/en-us/azure/azure-monitor/agents/data-collection-rule-azure-monitor-agent?tabs=cli#filter-events-using-xpath-queries\">this document</a> for more information.</p></li></ul><hr /><p>A <code>windows_firewall_log</code> block supports the following:</p><ul><li><p><code>name</code> - (Required) The name which should be used for this data source. This name should be unique across all data sources regardless of type within the Data Collection Rule.</p></li><li><p><code>streams</code> - (Required) Specifies a list of streams that this data source will be sent to. A stream indicates what schema will be used for this data and usually what table in Log Analytics the data will be sent to.</p></li></ul>", "attributes-reference": "<h2 id=\"attributes-reference\">Attributes Reference</h2><p>In addition to the Arguments listed above - the following Attributes are exported:</p><ul><li><p><code>id</code> - The ID of the Data Collection Rule.</p></li><li><p><code>immutable_id</code> - The immutable ID of the Data Collection Rule.</p></li></ul><hr /><p>An <code>identity</code> block exports the following:</p><ul><li><p><code>principal_id</code> - The Principal ID associated with this Managed Service Identity.</p></li><li><p><code>tenant_id</code> - The Tenant ID associated with this Managed Service Identity.</p></li></ul>", "timeouts": "<h2 id=\"timeouts\">Timeouts</h2><p>The <code>timeouts</code> block allows you to specify <a href=\"https://www.terraform.io/language/resources/syntax#operation-timeouts\">timeouts</a> for certain actions:</p><ul><li><code>create</code> - (Defaults to 30 minutes) Used when creating the Data Collection Rule.</li><li><code>read</code> - (Defaults to 5 minutes) Used when retrieving the Data Collection Rule.</li><li><code>update</code> - (Defaults to 30 minutes) Used when updating the Data Collection Rule.</li><li><code>delete</code> - (Defaults to 30 minutes) Used when deleting the Data Collection Rule.</li></ul>", "import": "<h2 id=\"import\">Import</h2><p>Data Collection Rules can be imported using the <code>resource id</code>, e.g.</p><p>shell<br />terraform import azurerm_monitor_data_collection_rule.example /subscriptions/12345678-1234-9876-4563-123456789012/resourceGroups/group1/providers/Microsoft.Insights/dataCollectionRules/rule1</p>", "description": "<h1 id=\"azurerm_monitor_data_collection_rule\">azurerm_monitor_data_collection_rule</h1><p>Manages a Data Collection Rule.</p>"}