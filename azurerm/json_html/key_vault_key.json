{"azurerm-key-vault-key": "<h1 id=\"azurerm_key_vault_key\">azurerm_key_vault_key</h1><p>Manages a Key Vault Key.</p>", "example-usage": "<h2 id=\"example-usage_1\">Example Usage</h2><p>provider \"azurerm\" {<br />  features {<br />    key_vault {<br />      purge_soft_deleted_keys_on_destroy = true<br />      recover_soft_deleted_keys          = true<br />    }<br />  }<br />}</p><br /><p>data \"azurerm_client_config\" \"current\" {}</p><br /><p>resource \"azurerm_resource_group\" \"example\" {<br />  name     = \"example-resources\"<br />  location = \"West Europe\"<br />}</p><br /><p>resource \"azurerm_key_vault\" \"example\" {<br />  name                       = \"examplekeyvault\"<br />  location                   = azurerm_resource_group.example.location<br />  resource_group_name        = azurerm_resource_group.example.name<br />  tenant_id                  = data.azurerm_client_config.current.tenant_id<br />  sku_name                   = \"premium\"<br />  soft_delete_retention_days = 7</p><br /><p>access_policy {<br />    tenant_id = data.azurerm_client_config.current.tenant_id<br />    object_id = data.azurerm_client_config.current.object_id</p><br /><pre><code>key_permissions = [<br />  \"Create\",<br />  \"Delete\",<br />  \"Get\",<br />  \"Purge\",<br />  \"Recover\",<br />  \"Update\",<br />  \"GetRotationPolicy\",<br />  \"SetRotationPolicy\"<br />]<br /><br />secret_permissions = [<br />  \"Set\",<br />]<br /></code></pre><br /><p>}<br />}</p><br /><p>resource \"azurerm_key_vault_key\" \"generated\" {<br />  name         = \"generated-certificate\"<br />  key_vault_id = azurerm_key_vault.example.id<br />  key_type     = \"RSA\"<br />  key_size     = 2048</p><br /><p>key_opts = [<br />    \"decrypt\",<br />    \"encrypt\",<br />    \"sign\",<br />    \"unwrapKey\",<br />    \"verify\",<br />    \"wrapKey\",<br />  ]</p><br /><p>rotation_policy {<br />    automatic {<br />      time_before_expiry = \"P30D\"<br />    }</p><br /><pre><code>expire_after         = \"P90D\"<br />notify_before_expiry = \"P29D\"<br /></code></pre><br /><p>}<br />}</p><br />", "argument-reference": "<h2 id=\"argument-reference\">Argument Reference</h2><p>The following arguments are supported:</p><ul><li><p><code>name</code> - (Required) Specifies the name of the Key Vault Key. Changing this forces a new resource to be created.</p></li><li><p><code>key_vault_id</code> - (Required) The ID of the Key Vault where the Key should be created. Changing this forces a new resource to be created.</p></li><li><p><code>key_type</code> - (Required) Specifies the Key Type to use for this Key Vault Key. Possible values are <code>EC</code> (Elliptic Curve), <code>EC-HSM</code>, <code>RSA</code> and <code>RSA-HSM</code>. Changing this forces a new resource to be created.</p></li><li><p><code>key_size</code> - (Optional) Specifies the Size of the RSA key to create in bytes. For example, 1024 or 2048. <em>Note</em>: This field is required if <code>key_type</code> is <code>RSA</code> or <code>RSA-HSM</code>. Changing this forces a new resource to be created.</p></li><li><p><code>curve</code> - (Optional) Specifies the curve to use when creating an <code>EC</code> key. Possible values are <code>P-256</code>, <code>P-256K</code>, <code>P-384</code>, and <code>P-521</code>. This field will be required in a future release if <code>key_type</code> is <code>EC</code> or <code>EC-HSM</code>. The API will default to <code>P-256</code> if nothing is specified. Changing this forces a new resource to be created.</p></li><li><p><code>key_opts</code> - (Required) A list of JSON web key operations. Possible values include: <code>decrypt</code>, <code>encrypt</code>, <code>sign</code>, <code>unwrapKey</code>, <code>verify</code> and <code>wrapKey</code>. Please note these values are case sensitive.</p></li><li><p><code>not_before_date</code> - (Optional) Key not usable before the provided UTC datetime (Y-m-d'T'H:M:S'Z').</p></li><li><p><code>expiration_date</code> - (Optional) Expiration UTC datetime (Y-m-d'T'H:M:S'Z').</p></li><li><p><code>tags</code> - (Optional) A mapping of tags to assign to the resource.</p></li><li><p><code>rotation_policy</code> - (Optional) A <code>rotation_policy</code> block as defined below.</p></li></ul><hr /><p>A <code>rotation_policy</code> block supports the following:</p><ul><li><p><code>expire_after</code> - (Optional) Expire a Key Vault Key after given duration as an <a href=\"https://en.wikipedia.org/wiki/ISO_8601#Durations\">ISO 8601 duration</a>.</p></li><li><p><code>automatic</code> - (Optional) An <code>automatic</code> block as defined below.</p></li><li><p><code>notify_before_expiry</code> - (Optional) Notify at a given duration before expiry as an <a href=\"https://en.wikipedia.org/wiki/ISO_8601#Durations\">ISO 8601 duration</a>. Default is <code>P30D</code>.</p></li></ul><hr /><p>An <code>automatic</code> block supports the following:</p><ul><li><p><code>time_after_creation</code> - (Optional) Rotate automatically at a duration after create as an <a href=\"https://en.wikipedia.org/wiki/ISO_8601#Durations\">ISO 8601 duration</a>.</p></li><li><p><code>time_before_expiry</code> - (Optional) Rotate automatically at a duration before expiry as an <a href=\"https://en.wikipedia.org/wiki/ISO_8601#Durations\">ISO 8601 duration</a>.</p></li></ul>", "attributes-reference": "<h2 id=\"attributes-reference\">Attributes Reference</h2><p>In addition to the Arguments listed above - the following Attributes are exported:</p><ul><li><code>id</code> - The Key Vault Key ID.</li><li><code>resource_id</code> - The (Versioned) ID for this Key Vault Key. This property points to a specific version of a Key Vault Key, as such using this won't auto-rotate values if used in other Azure Services.</li><li><code>resource_versionless_id</code> - The Versionless ID of the Key Vault Key. This property allows other Azure Services (that support it) to auto-rotate their value when the Key Vault Key is updated.</li><li><code>version</code> - The current version of the Key Vault Key.</li><li><code>versionless_id</code> - The Base ID of the Key Vault Key.</li><li><code>n</code> - The RSA modulus of this Key Vault Key.</li><li><code>e</code> - The RSA public exponent of this Key Vault Key.</li><li><code>x</code> - The EC X component of this Key Vault Key.</li><li><code>y</code> - The EC Y component of this Key Vault Key.</li><li><code>public_key_pem</code> - The PEM encoded public key of this Key Vault Key.</li><li><code>public_key_openssh</code> - The OpenSSH encoded public key of this Key Vault Key.</li></ul>", "timeouts": "<h2 id=\"timeouts\">Timeouts</h2><p>The <code>timeouts</code> block allows you to specify <a href=\"https://www.terraform.io/language/resources/syntax#operation-timeouts\">timeouts</a> for certain actions:</p><ul><li><code>create</code> - (Defaults to 30 minutes) Used when creating the Key Vault Key.</li><li><code>update</code> - (Defaults to 30 minutes) Used when updating the Key Vault Key.</li><li><code>read</code> - (Defaults to 30 minutes) Used when retrieving the Key Vault Key.</li><li><code>delete</code> - (Defaults to 30 minutes) Used when deleting the Key Vault Key.</li></ul>", "import": "<h2 id=\"import\">Import</h2><p>Key Vault Key which is Enabled can be imported using the <code>resource id</code>, e.g.</p><p>shell<br />terraform import azurerm_key_vault_key.example \"https://example-keyvault.vault.azure.net/keys/example/fdf067c93bbb4b22bff4d8b7a9a56217\"</p>", "description": "<h1 id=\"azurerm_key_vault_key\">azurerm_key_vault_key</h1><p>Manages a Key Vault Key.</p>"}