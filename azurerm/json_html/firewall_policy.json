{"azurerm-firewall-policy": "<h1 id=\"azurerm_firewall_policy\">azurerm_firewall_policy</h1><p>Manages a Firewall Policy.</p>", "example-usage": "<h2 id=\"example-usage\">Example Usage</h2><p><br />resource \"azurerm_resource_group\" \"example\" {<br />  name     = \"example-resources\"<br />  location = \"West Europe\"<br />}</p><p>resource \"azurerm_firewall_policy\" \"example\" {<br />  name                = \"example-policy\"<br />  resource_group_name = azurerm_resource_group.example.name<br />  location            = azurerm_resource_group.example.location<br />}<br /></p>", "arguments-reference": "<h2 id=\"arguments-reference\">Arguments Reference</h2><p>The following arguments are supported:</p><ul><li><p><code>location</code> - (Required) The Azure Region where the Firewall Policy should exist. Changing this forces a new Firewall Policy to be created.</p></li><li><p><code>name</code> - (Required) The name which should be used for this Firewall Policy. Changing this forces a new Firewall Policy to be created.</p></li><li><p><code>resource_group_name</code> - (Required) The name of the Resource Group where the Firewall Policy should exist. Changing this forces a new Firewall Policy to be created.</p></li></ul><hr /><ul><li><p><code>base_policy_id</code> - (Optional) The ID of the base Firewall Policy.</p></li><li><p><code>dns</code> - (Optional) A <code>dns</code> block as defined below.</p></li><li><p><code>identity</code> - (Optional) An <code>identity</code> block as defined below.</p></li><li><p><code>insights</code> - (Optional) An <code>insights</code> block as defined below.</p></li><li><p><code>intrusion_detection</code> - (Optional) A <code>intrusion_detection</code> block as defined below.</p></li><li><p><code>private_ip_ranges</code> - (Optional) A list of private IP ranges to which traffic will not be SNAT.</p></li><li><p><code>auto_learn_private_ranges_enabled</code> - (Optional) Whether enable auto learn private ip range.</p></li><li><p><code>sku</code> - (Optional) The SKU Tier of the Firewall Policy. Possible values are <code>Standard</code>, <code>Premium</code> and <code>Basic</code>. Changing this forces a new Firewall Policy to be created.</p></li><li><p><code>tags</code> - (Optional) A mapping of tags which should be assigned to the Firewall Policy.</p></li><li><p><code>threat_intelligence_allowlist</code> - (Optional) A <code>threat_intelligence_allowlist</code> block as defined below.</p></li><li><p><code>threat_intelligence_mode</code> - (Optional) The operation mode for Threat Intelligence. Possible values are <code>Alert</code>, <code>Deny</code> and <code>Off</code>. Defaults to <code>Alert</code>.</p></li><li><p><code>tls_certificate</code> - (Optional) A <code>tls_certificate</code> block as defined below.</p></li><li><p><code>sql_redirect_allowed</code> - (Optional) Whether SQL Redirect traffic filtering is allowed. Enabling this flag requires no rule using ports between <code>11000</code>-<code>11999</code>.</p></li><li><p><code>explicit_proxy</code> - (Optional) A <code>explicit_proxy</code> block as defined below.</p></li></ul><hr /><p>A <code>dns</code> block supports the following:</p><ul><li><p><code>proxy_enabled</code> - (Optional) Whether to enable DNS proxy on Firewalls attached to this Firewall Policy? Defaults to <code>false</code>.</p></li><li><p><code>servers</code> - (Optional) A list of custom DNS servers' IP addresses.</p></li></ul><hr /><p>A <code>identity</code> block supports the following:</p><ul><li><p><code>type</code> - (Required) Specifies the type of Managed Service Identity that should be configured on this Firewall Policy. Only possible value is <code>UserAssigned</code>.</p></li><li><p><code>identity_ids</code> - (Required) Specifies a list of User Assigned Managed Identity IDs to be assigned to this Firewall Policy.</p></li></ul><hr /><p>An <code>insights</code> block supports the following:</p><ul><li><p><code>enabled</code> - (Required) Whether the insights functionality is enabled for this Firewall Policy.</p></li><li><p><code>default_log_analytics_workspace_id</code> - (Required) The ID of the default Log Analytics Workspace that the Firewalls associated with this Firewall Policy will send their logs to, when there is no location matches in the <code>log_analytics_workspace</code>.</p></li><li><p><code>retention_in_days</code> - (Optional) The log retention period in days.</p></li><li><p><code>log_analytics_workspace</code> - (Optional) A list of <code>log_analytics_workspace</code> block as defined below.</p></li></ul><hr /><p>A <code>intrusion_detection</code> block supports the following:</p><ul><li><p><code>mode</code> - (Optional) In which mode you want to run intrusion detection: <code>Off</code>, <code>Alert</code> or <code>Deny</code>.</p></li><li><p><code>signature_overrides</code> - (Optional) One or more <code>signature_overrides</code> blocks as defined below.</p></li><li><p><code>traffic_bypass</code> - (Optional) One or more <code>traffic_bypass</code> blocks as defined below.</p></li><li><p><code>private_ranges</code> - (Optional) A list of Private IP address ranges to identify traffic direction. By default, only ranges defined by IANA RFC 1918 are considered private IP addresses.</p></li></ul><hr /><p>A <code>log_analytics_workspace</code> block supports the following:</p><ul><li><p><code>id</code> - (Required) The ID of the Log Analytics Workspace that the Firewalls associated with this Firewall Policy will send their logs to when their locations match the <code>firewall_location</code>.</p></li><li><p><code>firewall_location</code> - (Required) The location of the Firewalls, that when matches this Log Analytics Workspace will be used to consume their logs.</p></li></ul><hr /><p>A <code>signature_overrides</code> block supports the following:</p><ul><li><p><code>id</code> - (Optional) 12-digit number (id) which identifies your signature.</p></li><li><p><code>state</code> - (Optional) state can be any of <code>Off</code>, <code>Alert</code> or <code>Deny</code>.</p></li></ul><hr /><p>A <code>threat_intelligence_allowlist</code> block supports the following:</p><ul><li><p><code>fqdns</code> - (Optional) A list of FQDNs that will be skipped for threat detection.</p></li><li><p><code>ip_addresses</code> - (Optional) A list of IP addresses or CIDR ranges that will be skipped for threat detection.</p></li></ul><hr /><p>A <code>tls_certificate</code> block supports the following:</p><ul><li><p><code>key_vault_secret_id</code> - (Required) The ID of the Key Vault, where the secret or certificate is stored.</p></li><li><p><code>name</code> - (Required) The name of the certificate.</p></li></ul><hr /><p>A <code>traffic_bypass</code> block supports the following:</p><ul><li><p><code>name</code> - (Required) The name which should be used for this bypass traffic setting.</p></li><li><p><code>protocol</code> - (Required) The protocols any of <code>ANY</code>, <code>TCP</code>, <code>ICMP</code>, <code>UDP</code> that shall be bypassed by intrusion detection.</p></li><li><p><code>description</code> - (Optional) The description for this bypass traffic setting.</p></li><li><p><code>destination_addresses</code> - (Optional) Specifies a list of destination IP addresses that shall be bypassed by intrusion detection.</p></li><li><p><code>destination_ip_groups</code> - (Optional) Specifies a list of destination IP groups that shall be bypassed by intrusion detection.</p></li><li><p><code>destination_ports</code> - (Optional) Specifies a list of destination IP ports that shall be bypassed by intrusion detection.</p></li><li><p><code>source_addresses</code> - (Optional) Specifies a list of source addresses that shall be bypassed by intrusion detection.</p></li><li><p><code>source_ip_groups</code> - (Optional) Specifies a list of source IP groups that shall be bypassed by intrusion detection.</p></li></ul><hr /><p>A <code>explicit_proxy</code> block supports the following:</p><ul><li><p><code>enabled</code> - (Optional) Whether the explicit proxy is enabled for this Firewall Policy.</p></li><li><p><code>http_port</code> - (Optional) The port number for explicit http protocol.</p></li><li><p><code>https_port</code> - (Optional) The port number for explicit proxy https protocol.</p></li><li><p><code>enable_pac_file</code> - (Optional) Whether the pac file port and url need to be provided.</p></li><li><p><code>pac_file_port</code> - (Optional) Specifies a port number for firewall to serve PAC file.</p></li><li><p><code>pac_file</code> - (Optional) Specifies a SAS URL for PAC file.</p></li></ul>", "attributes-reference": "<h2 id=\"attributes-reference\">Attributes Reference</h2><p>In addition to the Arguments listed above - the following Attributes are exported:</p><ul><li><p><code>id</code> - The ID of the Firewall Policy.</p></li><li><p><code>child_policies</code> - A list of reference to child Firewall Policies of this Firewall Policy.</p></li><li><p><code>firewalls</code> - A list of references to Azure Firewalls that this Firewall Policy is associated with.</p></li><li><p><code>rule_collection_groups</code> - A list of references to Firewall Policy Rule Collection Groups that belongs to this Firewall Policy.</p></li></ul>", "timeouts": "<h2 id=\"timeouts\">Timeouts</h2><p>The <code>timeouts</code> block allows you to specify <a href=\"https://www.terraform.io/language/resources/syntax#operation-timeouts\">timeouts</a> for certain actions:</p><ul><li><code>create</code> - (Defaults to 30 minutes) Used when creating the Firewall Policy.</li><li><code>read</code> - (Defaults to 5 minutes) Used when retrieving the Firewall Policy.</li><li><code>update</code> - (Defaults to 30 minutes) Used when updating the Firewall Policy.</li><li><code>delete</code> - (Defaults to 30 minutes) Used when deleting the Firewall Policy.</li></ul>", "import": "<h2 id=\"import\">Import</h2><p>Firewall Policies can be imported using the <code>resource id</code>, e.g.</p><p><code>shellterraform import azurerm_firewall_policy.example /subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/mygroup1/providers/Microsoft.Network/firewallPolicies/policy1</code></p>", "description": "<h1 id=\"azurerm_firewall_policy\">azurerm_firewall_policy</h1><p>Manages a Firewall Policy.</p>"}