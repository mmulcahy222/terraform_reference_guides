{"azurerm-firewall": "<h1 id=\"azurerm_firewall\">azurerm_firewall</h1><p>Manages an Azure Firewall.</p>", "example-usage": "<h2 id=\"example-usage\">Example Usage</h2><p>resource \"azurerm_resource_group\" \"example\" {<br />  name     = \"example-resources\"<br />  location = \"West Europe\"<br />}</p><br /><p>resource \"azurerm_virtual_network\" \"example\" {<br />  name                = \"testvnet\"<br />  address_space       = [\"10.0.0.0/16\"]<br />  location            = azurerm_resource_group.example.location<br />  resource_group_name = azurerm_resource_group.example.name<br />}</p><br /><p>resource \"azurerm_subnet\" \"example\" {<br />  name                 = \"AzureFirewallSubnet\"<br />  resource_group_name  = azurerm_resource_group.example.name<br />  virtual_network_name = azurerm_virtual_network.example.name<br />  address_prefixes     = [\"10.0.1.0/24\"]<br />}</p><br /><p>resource \"azurerm_public_ip\" \"example\" {<br />  name                = \"testpip\"<br />  location            = azurerm_resource_group.example.location<br />  resource_group_name = azurerm_resource_group.example.name<br />  allocation_method   = \"Static\"<br />  sku                 = \"Standard\"<br />}</p><br /><p>resource \"azurerm_firewall\" \"example\" {<br />  name                = \"testfirewall\"<br />  location            = azurerm_resource_group.example.location<br />  resource_group_name = azurerm_resource_group.example.name<br />  sku_name            = \"AZFW_VNet\"<br />  sku_tier            = \"Standard\"</p><br /><p>ip_configuration {<br />    name                 = \"configuration\"<br />    subnet_id            = azurerm_subnet.example.id<br />    public_ip_address_id = azurerm_public_ip.example.id<br />  }<br />}</p><br />", "argument-reference": "<h2 id=\"argument-reference\">Argument Reference</h2><p>The following arguments are supported:</p><ul><li><p><code>name</code> - (Required) Specifies the name of the Firewall. Changing this forces a new resource to be created.</p></li><li><p><code>resource_group_name</code> - (Required) The name of the resource group in which to create the resource. Changing this forces a new resource to be created.</p></li><li><p><code>location</code> - (Required) Specifies the supported Azure location where the resource exists. Changing this forces a new resource to be created.</p></li><li><p><code>sku_name</code> - (Required) SKU name of the Firewall. Possible values are <code>AZFW_Hub</code> and <code>AZFW_VNet</code>. Changing this forces a new resource to be created.</p></li><li><p><code>sku_tier</code> - (Required) SKU tier of the Firewall. Possible values are <code>Premium</code>, <code>Standard</code> and <code>Basic</code>.</p></li><li><p><code>firewall_policy_id</code> - (Optional) The ID of the Firewall Policy applied to this Firewall.</p></li><li><p><code>ip_configuration</code> - (Optional) An <code>ip_configuration</code> block as documented below.</p></li><li><p><code>dns_servers</code> - (Optional) A list of DNS servers that the Azure Firewall will direct DNS traffic to the for name resolution.</p></li><li><p><code>private_ip_ranges</code> - (Optional) A list of SNAT private CIDR IP ranges, or the special string <code>IANAPrivateRanges</code>, which indicates Azure Firewall does not SNAT when the destination IP address is a private range per IANA RFC 1918.</p></li><li><p><code>management_ip_configuration</code> - (Optional) A <code>management_ip_configuration</code> block as documented below, which allows force-tunnelling of traffic to be performed by the firewall. Adding or removing this block or changing the <code>subnet_id</code> in an existing block forces a new resource to be created. Changing this forces a new resource to be created.</p></li><li><p><code>threat_intel_mode</code> - (Optional) The operation mode for threat intelligence-based filtering. Possible values are: <code>Off</code>, <code>Alert</code> and <code>Deny</code>. Defaults to <code>Alert</code>.</p></li><li><p><code>virtual_hub</code> - (Optional) A <code>virtual_hub</code> block as documented below.</p></li><li><p><code>zones</code> - (Optional) Specifies a list of Availability Zones in which this Azure Firewall should be located. Changing this forces a new Azure Firewall to be created.</p></li></ul><p>-&gt; <strong>Please Note</strong>: Availability Zones are <a href=\"https://docs.microsoft.com/azure/availability-zones/az-overview\">only supported in several regions at this time</a>.</p><ul><li><code>tags</code> - (Optional) A mapping of tags to assign to the resource.</li></ul><hr /><p>An <code>ip_configuration</code> block supports the following:</p><ul><li><p><code>name</code> - (Required) Specifies the name of the IP Configuration.</p></li><li><p><code>subnet_id</code> - (Optional) Reference to the subnet associated with the IP Configuration. Changing this forces a new resource to be created.</p></li></ul><p>-&gt; <strong>NOTE</strong> The Subnet used for the Firewall must have the name <code>AzureFirewallSubnet</code> and the subnet mask must be at least a <code>/26</code>.</p><p>-&gt; <strong>NOTE</strong> At least one and only one <code>ip_configuration</code> block may contain a <code>subnet_id</code>.</p><ul><li><code>public_ip_address_id</code> - (Optional) The ID of the Public IP Address associated with the firewall.</li></ul><p>-&gt; <strong>NOTE</strong> A public ip address is required unless a <code>management_ip_configuration</code> block is specified.</p><p>-&gt; <strong>NOTE</strong> When multiple <code>ip_configuration</code> blocks with <code>public_ip_address_id</code> are configured, <code>terraform apply</code> will raise an error when one or some of these <code>ip_configuration</code> blocks are removed. because the <code>public_ip_address_id</code> is still used by the <code>firewall</code> resource until the <code>firewall</code> resource is updated. and the destruction of <code>azurerm_public_ip</code> happens before the update of firewall by default. to destroy of <code>azurerm_public_ip</code> will cause the error. The workaround is to set <code>create_before_destroy=true</code> to the <code>azurerm_public_ip</code> resource <code>lifecycle</code> block. See more detail: <a href=\"https://github.com/hashicorp/terraform/blob/main/docs/destroying.md#create-before-destroy\">destroying.md#create-before-destroy</a></p><p>-&gt; <strong>NOTE</strong> The Public IP must have a <code>Static</code> allocation and <code>Standard</code> SKU.</p><hr /><p>A <code>management_ip_configuration</code> block supports the following:</p><ul><li><p><code>name</code> - (Required) Specifies the name of the IP Configuration.</p></li><li><p><code>subnet_id</code> - (Required) Reference to the subnet associated with the IP Configuration. Changing this forces a new resource to be created.</p></li></ul><p>-&gt; <strong>NOTE</strong> The Management Subnet used for the Firewall must have the name <code>AzureFirewallManagementSubnet</code> and the subnet mask must be at least a <code>/26</code>.</p><ul><li><code>public_ip_address_id</code> - (Required) The ID of the Public IP Address associated with the firewall.</li></ul><p>-&gt; <strong>NOTE</strong> The Public IP must have a <code>Static</code> allocation and <code>Standard</code> SKU.</p><hr /><p>A <code>virtual_hub</code> block supports the following:</p><ul><li><p><code>virtual_hub_id</code> - (Required) Specifies the ID of the Virtual Hub where the Firewall resides in.</p></li><li><p><code>public_ip_count</code> - (Optional) Specifies the number of public IPs to assign to the Firewall. Defaults to <code>1</code>.</p></li></ul>", "attributes-reference": "<h2 id=\"attributes-reference\">Attributes Reference</h2><p>In addition to the Arguments listed above - the following Attributes are exported:</p><ul><li><p><code>id</code> - The ID of the Azure Firewall.</p></li><li><p><code>ip_configuration</code> - A <code>ip_configuration</code> block as defined below.</p></li><li><p><code>virtual_hub</code> - A <code>virtual_hub</code> block as defined below.</p></li></ul><hr /><p>A <code>ip_configuration</code> block exports the following:</p><ul><li><code>private_ip_address</code> - The Private IP address of the Azure Firewall.</li></ul><hr /><p>A <code>virtual_hub</code> block exports the following:</p><ul><li><p><code>private_ip_address</code> - The private IP address associated with the Firewall.</p></li><li><p><code>public_ip_addresses</code> - The list of public IP addresses associated with the Firewall.</p></li></ul>", "timeouts": "<h2 id=\"timeouts\">Timeouts</h2><p>The <code>timeouts</code> block allows you to specify <a href=\"https://www.terraform.io/language/resources/syntax#operation-timeouts\">timeouts</a> for certain actions:</p><ul><li><code>create</code> - (Defaults to 90 minutes) Used when creating the Firewall.</li><li><code>update</code> - (Defaults to 90 minutes) Used when updating the Firewall.</li><li><code>read</code> - (Defaults to 5 minutes) Used when retrieving the Firewall.</li><li><code>delete</code> - (Defaults to 90 minutes) Used when deleting the Firewall.</li></ul>", "import": "<h2 id=\"import\">Import</h2><p>Azure Firewalls can be imported using the <code>resource id</code>, e.g.</p><p>shell<br />terraform import azurerm_firewall.example /subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/group1/providers/Microsoft.Network/azureFirewalls/testfirewall</p>", "description": "<h1 id=\"azurerm_firewall\">azurerm_firewall</h1><p>Manages an Azure Firewall.</p>"}