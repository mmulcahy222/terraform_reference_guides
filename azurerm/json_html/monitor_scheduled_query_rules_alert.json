{"azurerm-monitor-scheduled-query-rules-alert": "<h1 id=\"azurerm_monitor_scheduled_query_rules_alert\">azurerm_monitor_scheduled_query_rules_alert</h1><p>Manages an AlertingAction Scheduled Query Rules resource within Azure Monitor.</p>", "example-usage": "<h2 id=\"example-usage\">Example Usage</h2><p>resource \"azurerm_resource_group\" \"example\" {<br />  name     = \"monitoring-resources\"<br />  location = \"West Europe\"<br />}</p><br /><p>resource \"azurerm_application_insights\" \"example\" {<br />  name                = \"appinsights\"<br />  location            = azurerm_resource_group.example.location<br />  resource_group_name = azurerm_resource_group.example.name<br />  application_type    = \"web\"<br />}</p><br /><p>resource \"azurerm_application_insights\" \"example2\" {<br />  name                = \"appinsights2\"<br />  location            = azurerm_resource_group.example.location<br />  resource_group_name = azurerm_resource_group.example.name<br />  application_type    = \"web\"<br />}</p><br />", "example-alerting-action-with-result-count-trigger": "<h1 id=\"example-alerting-action-with-result-count-trigger\">Example: Alerting Action with result count trigger</h1><p>resource \"azurerm_monitor_scheduled_query_rules_alert\" \"example\" {<br />  name                = \"example\"<br />  location            = azurerm_resource_group.example.location<br />  resource_group_name = azurerm_resource_group.example.name</p><p>action {<br />    action_group           = []<br />    email_subject          = \"Email Header\"<br />    custom_webhook_payload = \"{}\"<br />  }<br />  data_source_id = azurerm_application_insights.example.id<br />  description    = \"Alert when total results cross threshold\"<br />  enabled        = true<br />  # Count all requests with server error result code grouped into 5-minute bins<br />  query       = &lt;&lt;-QUERY<br />  requests<br />    | where tolong(resultCode) &gt;= 500<br />    | summarize count() by bin(timestamp, 5m)<br />  QUERY<br />  severity    = 1<br />  frequency   = 5<br />  time_window = 30<br />  trigger {<br />    operator  = \"GreaterThan\"<br />    threshold = 3<br />  }<br />  tags = {<br />    foo = \"bar\"<br />  }<br />}</p>", "example-alerting-action-cross-resource": "<h1 id=\"example-alerting-action-cross-resource\">Example: Alerting Action Cross-Resource</h1><p>resource \"azurerm_monitor_scheduled_query_rules_alert\" \"example2\" {<br />  name                = \"example\"<br />  location            = azurerm_resource_group.example.location<br />  resource_group_name = azurerm_resource_group.example.name</p><p>authorized_resource_ids = [azurerm_application_insights.example2.id]<br />  action {<br />    action_group           = []<br />    email_subject          = \"Email Header\"<br />    custom_webhook_payload = \"{}\"<br />  }<br />  data_source_id = azurerm_application_insights.example.id<br />  description    = \"Query may access data within multiple resources\"<br />  enabled        = true<br />  # Count requests in multiple log resources and group into 5-minute bins by HTTP operation<br />  query = format(&lt;&lt;-QUERY<br />  let a=requests<br />    | where toint(resultCode) &gt;= 500<br />    | extend fail=1; let b=app('%s').requests<br />    | where toint(resultCode) &gt;= 500 | extend fail=1; a<br />    | join b on fail<br />QUERY<br />  , azurerm_application_insights.example2.id)<br />  severity    = 1<br />  frequency   = 5<br />  time_window = 30<br />  trigger {<br />    operator  = \"GreaterThan\"<br />    threshold = 3<br />  }<br />  tags = {<br />    foo = \"bar\"<br />  }<br />}</p>", "argument-reference": "<h2 id=\"argument-reference\">Argument Reference</h2><p>The following arguments are supported:</p><ul><li><code>name</code> - (Required) The name of the scheduled query rule. Changing this forces a new resource to be created.</li><li><code>resource_group_name</code> - (Required) The name of the resource group in which to create the scheduled query rule instance. Changing this forces a new resource to be created.</li><li><code>location</code> - (Required) Specifies the Azure Region where the resource should exist. Changing this forces a new resource to be created.</li><li><code>data_source_id</code> - (Required) The resource URI over which log search query is to be run.</li><li><code>frequency</code> - (Required) Frequency (in minutes) at which rule condition should be evaluated. Values must be between 5 and 1440 (inclusive).</li><li><code>query</code> - (Required) Log search query.</li><li><code>time_window</code> - (Required) Time window for which data needs to be fetched for query (must be greater than or equal to <code>frequency</code>). Values must be between 5 and 2880 (inclusive).</li><li><code>trigger</code> - (Required) A <code>trigger</code> block as defined below.</li><li><code>action</code> - (Required) An <code>action</code> block as defined below.</li><li><code>authorized_resource_ids</code> - (Optional) List of Resource IDs referred into query.</li><li><code>auto_mitigation_enabled</code> - (Optional) Should the alerts in this Metric Alert be auto resolved? Defaults to <code>false</code>.<br />-&gt; <strong>NOTE</strong> <code>auto_mitigation_enabled</code> and <code>throttling</code> are mutually exclusive and cannot both be set.</li><li><code>description</code> - (Optional) The description of the scheduled query rule.</li><li><code>enabled</code> - (Optional) Whether this scheduled query rule is enabled. Default is <code>true</code>.</li><li><code>query_type</code> - (Optional) The type of query results. Possible values are <code>ResultCount</code> and <code>Number</code>. Default is <code>ResultCount</code>. If set to <code>Number</code>, <code>query</code> must include an <code>AggregatedValue</code> column of a numeric type, for example, <code>Heartbeat | summarize AggregatedValue = count() by bin(TimeGenerated, 5m)</code>.</li><li><code>severity</code> - (Optional) Severity of the alert. Possible values include: 0, 1, 2, 3, or 4.</li><li><code>throttling</code> - (Optional) Time (in minutes) for which Alerts should be throttled or suppressed. Values must be between 0 and 10000 (inclusive).</li><li><code>tags</code> - (Optional) A mapping of tags to assign to the resource.</li></ul><hr /><p>The <code>action</code> block supports the following:</p><ul><li><code>action_group</code> - (Required) List of action group reference resource IDs.</li><li><code>custom_webhook_payload</code> - (Optional) Custom payload to be sent for all webhook payloads in alerting action.</li><li><code>email_subject</code> - (Optional) Custom subject override for all email ids in Azure action group.</li></ul><hr /><p>The <code>metric_trigger</code> block supports the following:</p><ul><li><code>metric_trigger_type</code> - (Required) Metric Trigger Type - 'Consecutive' or 'Total'.</li><li><code>operator</code> - (Required) Evaluation operation for rule - 'Equal', 'GreaterThan', GreaterThanOrEqual', 'LessThan', or 'LessThanOrEqual'.</li><li><code>threshold</code> - (Required) The threshold of the metric trigger. Values must be between 0 and 10000 inclusive.</li><li><code>metric_column</code> - (Optional) Evaluation of metric on a particular column.</li></ul><hr /><p>The <code>trigger</code> block supports the following:</p><ul><li><code>metric_trigger</code> - (Optional) A <code>metric_trigger</code> block as defined above. Trigger condition for metric query rule.</li><li><code>operator</code> - (Required) Evaluation operation for rule - 'GreaterThan', GreaterThanOrEqual', 'LessThan', or 'LessThanOrEqual'.</li><li><code>threshold</code> - (Required) Result or count threshold based on which rule should be triggered. Values must be between 0 and 10000 inclusive.</li></ul>", "attributes-reference": "<h2 id=\"attributes-reference\">Attributes Reference</h2><p>In addition to the Arguments listed above - the following Attributes are exported:</p><ul><li><code>id</code> - The ID of the scheduled query rule.</li></ul>", "timeouts": "<h2 id=\"timeouts\">Timeouts</h2><p>The <code>timeouts</code> block allows you to specify <a href=\"https://www.terraform.io/language/resources/syntax#operation-timeouts\">timeouts</a> for certain actions:</p><ul><li><code>create</code> - (Defaults to 30 minutes) Used when creating the Scheduled Query Rule Alert.</li><li><code>update</code> - (Defaults to 30 minutes) Used when updating the Scheduled Query Rule Alert.</li><li><code>read</code> - (Defaults to 5 minutes) Used when retrieving the Scheduled Query Rule Alert.</li><li><code>delete</code> - (Defaults to 30 minutes) Used when deleting the Scheduled Query Rule Alert.</li></ul>", "import": "<h2 id=\"import\">Import</h2><p>Scheduled Query Rule Alerts can be imported using the <code>resource id</code>, e.g.</p><p>shell<br />terraform import azurerm_monitor_scheduled_query_rules_alert.example /subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/group1/providers/Microsoft.Insights/scheduledQueryRules/myrulename</p>", "description": "<h1 id=\"azurerm_monitor_scheduled_query_rules_alert\">azurerm_monitor_scheduled_query_rules_alert</h1><p>Manages an AlertingAction Scheduled Query Rules resource within Azure Monitor.</p>"}