{"azurerm-monitor-log-profile": "<h1 id=\"azurerm_monitor_log_profile\">azurerm_monitor_log_profile</h1><p>Manages a <a href=\"https://docs.microsoft.com/azure/monitoring-and-diagnostics/monitoring-overview-activity-logs#export-the-activity-log-with-a-log-profile\">Log Profile</a>. A Log Profile configures how Activity Logs are exported.</p><p>-&gt; <strong>NOTE:</strong> It's only possible to configure one Log Profile per Subscription. If you are trying to create more than one Log Profile, an error with <code>StatusCode=409</code> will occur.</p><p>!&gt; <strong>NOTE:</strong> Azure Log Profiles will be retired on 30th September 2026 and will be removed in v4.0 of the AzureRM Provider. More information on the deprecation can be found <a href=\"https://learn.microsoft.com/azure/azure-monitor/essentials/activity-log?tabs=powershell#legacy-collection-methods\">in the Azure documentation</a>.</p>", "example-usage": "<h2 id=\"example-usage\">Example Usage</h2><p><br />resource \"azurerm_resource_group\" \"example\" {<br />  name     = \"logprofiletest-rg\"<br />  location = \"West Europe\"<br />}</p><p>resource \"azurerm_storage_account\" \"example\" {<br />  name                     = \"afscsdfytw\"<br />  resource_group_name      = azurerm_resource_group.example.name<br />  location                 = azurerm_resource_group.example.location<br />  account_tier             = \"Standard\"<br />  account_replication_type = \"GRS\"<br />}</p><p>resource \"azurerm_eventhub_namespace\" \"example\" {<br />  name                = \"logprofileeventhub\"<br />  location            = azurerm_resource_group.example.location<br />  resource_group_name = azurerm_resource_group.example.name<br />  sku                 = \"Standard\"<br />  capacity            = 2<br />}</p><p>resource \"azurerm_monitor_log_profile\" \"example\" {<br />  name = \"default\"</p><p>categories = [<br />    \"Action\",<br />    \"Delete\",<br />    \"Write\",<br />  ]</p><p>locations = [<br />    \"westus\",<br />    \"global\",<br />  ]</p><p># RootManageSharedAccessKey is created by default with listen, send, manage permissions<br />  servicebus_rule_id = \"${azurerm_eventhub_namespace.example.id}/authorizationrules/RootManageSharedAccessKey\"<br />  storage_account_id = azurerm_storage_account.example.id</p><p>retention_policy {<br />    enabled = true<br />    days    = 7<br />  }<br />}<br /></p>", "argument-reference": "<h2 id=\"argument-reference\">Argument Reference</h2><p>The following arguments are supported:</p><ul><li><p><code>name</code> - (Required) The name of the Log Profile. Changing this forces a new resource to be created.</p></li><li><p><code>categories</code> - (Required) List of categories of the logs.</p></li><li><p><code>locations</code> - (Required) List of regions for which Activity Log events are stored or streamed.</p></li><li><p><code>storage_account_id</code> - (Optional) The resource ID of the storage account in which the Activity Log is stored. At least one of <code>storage_account_id</code> or <code>servicebus_rule_id</code> must be set.</p></li><li><p><code>servicebus_rule_id</code> - (Optional) The service bus (or event hub) rule ID of the service bus (or event hub) namespace in which the Activity Log is streamed to. At least one of <code>storage_account_id</code> or <code>servicebus_rule_id</code> must be set.</p></li><li><p><code>retention_policy</code> - (Required) A <code>retention_policy</code> block as documented below. A retention policy for how long Activity Logs are retained in the storage account.</p></li></ul><hr /><p>The <code>retention_policy</code> block supports:</p><ul><li><p><code>enabled</code> - (Required) A boolean value to indicate whether the retention policy is enabled.</p></li><li><p><code>days</code> - (Optional) The number of days for the retention policy. Defaults to <code>0</code>.</p></li></ul>", "attributes-reference": "<h2 id=\"attributes-reference\">Attributes Reference</h2><p>In addition to the Arguments listed above - the following Attributes are exported:</p><ul><li><code>id</code> - The ID of the Log Profile.</li></ul>", "timeouts": "<h2 id=\"timeouts\">Timeouts</h2><p>The <code>timeouts</code> block allows you to specify <a href=\"https://www.terraform.io/language/resources/syntax#operation-timeouts\">timeouts</a> for certain actions:</p><ul><li><code>create</code> - (Defaults to 30 minutes) Used when creating the Log Profile.</li><li><code>update</code> - (Defaults to 30 minutes) Used when updating the Log Profile.</li><li><code>read</code> - (Defaults to 5 minutes) Used when retrieving the Log Profile.</li><li><code>delete</code> - (Defaults to 30 minutes) Used when deleting the Log Profile.</li></ul>", "import": "<h2 id=\"import\">Import</h2><p>A Log Profile can be imported using the <code>resource id</code>, e.g.</p><p><code>shellterraform import azurerm_monitor_log_profile.example /subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Insights/logProfiles/test</code></p>", "description": "<h1 id=\"azurerm_monitor_log_profile\">azurerm_monitor_log_profile</h1><p>Manages a <a href=\"https://docs.microsoft.com/azure/monitoring-and-diagnostics/monitoring-overview-activity-logs#export-the-activity-log-with-a-log-profile\">Log Profile</a>. A Log Profile configures how Activity Logs are exported.</p><p>-&gt; <strong>NOTE:</strong> It's only possible to configure one Log Profile per Subscription. If you are trying to create more than one Log Profile, an error with <code>StatusCode=409</code> will occur.</p><p>!&gt; <strong>NOTE:</strong> Azure Log Profiles will be retired on 30th September 2026 and will be removed in v4.0 of the AzureRM Provider. More information on the deprecation can be found <a href=\"https://learn.microsoft.com/azure/azure-monitor/essentials/activity-log?tabs=powershell#legacy-collection-methods\">in the Azure documentation</a>.</p>"}