{"azurerm-web-pubsub-custom-certificate": "<h1 id=\"azurerm_web_pubsub_custom_certificate\">azurerm_web_pubsub_custom_certificate</h1><p>Manages an Azure Web PubSub Custom Certificate.</p>", "example-usage": "<h2 id=\"example-usage\">Example Usage</h2><p><br />data \"azurerm_client_config\" \"current\" {}</p><p>resource \"azurerm_resource_group\" \"example\" {<br />  name     = \"example-resources\"<br />  location = \"West Europe\"<br />}</p><p>resource \"azurerm_web_pubsub_service\" \"example\" {<br />  name                = \"example-webpubsub\"<br />  location            = azurerm_resource_group.test.location<br />  resource_group_name = azurerm_resource_group.test.name</p><p>sku {<br />    name     = \"Premium_P1\"<br />    capacity = 1<br />  }</p><p>identity {<br />    type = \"SystemAssigned\"<br />  }<br />}</p><p>resource \"azurerm_key_vault\" \"example\" {<br />  name                = \"examplekeyvault\"<br />  location            = azurerm_resource_group.example.location<br />  resource_group_name = azurerm_resource_group.example.name<br />  tenant_id           = data.azurerm_client_config.current.tenant_id<br />  sku_name            = \"premium\"</p><p>access_policy {<br />    tenant_id = data.azurerm_client_config.current.tenant_id<br />    object_id = data.azurerm_client_config.current.object_id</p><pre><code>certificate_permissions = [  \"Create\",  \"Get\",  \"List\",]secret_permissions = [  \"Get\",  \"List\",]</code></pre><p>}</p><p>access_policy {<br />    tenant_id = data.azurerm_client_config.current.tenant_id<br />    object_id = azurerm_web_pubsub_service.test.identity[0].principal_id</p><pre><code>certificate_permissions = [  \"Create\",  \"Get\",  \"List\",]secret_permissions = [  \"Get\",  \"List\",]</code></pre><p>}<br />}</p><p>resource \"azurerm_key_vault_certificate\" \"example\" {<br />  name         = \"imported-cert\"<br />  key_vault_id = azurerm_key_vault.example.id</p><p>certificate {<br />    contents = filebase64(\"certificate-to-import.pfx\")<br />    password = \"\"<br />  }<br />}</p><p>resource \"azurerm_web_pubsub_custom_certificate\" \"test\" {<br />  name                  = \"example-cert\"<br />  web_pubsub_id         = azurerm_web_pubsub_service.example.id<br />  custom_certificate_id = azurerm_key_vault_certificate.example.id</p><p>depends_on = [azurerm_key_vault_access_policy.example]<br />}<br /></p>", "argument-reference": "<h2 id=\"argument-reference\">Argument Reference</h2><p>The following arguments are supported:</p><ul><li><p><code>name</code> - (Required) The name of the Web PubSub Custom Certificate. Changing this forces a new resource to be created.</p></li><li><p><code>web_pubsub_id</code> - (Required) The Web PubSub ID of the Web PubSub Custom Certificate. Changing this forces a new resource to be created.</p></li></ul><p>-&gt; <strong>Note:</strong> custom certificate is only available for Web PubSub Premium tier. Please enable managed identity in the corresponding Web PubSub Service and give the managed identity access to the key vault, the required permission is Get Certificate and Secret.</p><ul><li><code>custom_certificate_id</code> - (Required) The certificate ID of the Web PubSub Custom Certificate. Changing this forces a new resource to be created.</li></ul><p>-&gt; <strong>Note:</strong> Self assigned certificate is not supported and the provisioning status will fail.</p>", "attributes-reference": "<h2 id=\"attributes-reference\">Attributes Reference</h2><p>The following attributes are exported:</p><ul><li><p><code>id</code> - The ID of the Web PubSub Custom Certificate.</p></li><li><p><code>certificate_version</code> - The certificate version of the Web PubSub Custom Certificate.</p></li></ul>", "timeouts": "<h2 id=\"timeouts\">Timeouts</h2><p>The <code>timeouts</code> block allows you to specify <a href=\"https://www.terraform.io/language/resources/syntax#operation-timeouts\">timeouts</a> for certain actions:</p><ul><li><code>create</code> - (Defaults to 30 minutes) Used when creating the Custom Certificate of the Web PubSub service</li><li><code>read</code> - (Defaults to 5 minutes) Used when retrieving the Custom Certificate of the Web PubSub service</li><li><code>delete</code> - (Defaults to 30 minutes) Used when deleting the Custom Certificate of the Web PubSub service</li></ul>", "import": "<h2 id=\"import\">Import</h2><p>Custom Certificate for a Web PubSub service can be imported using the <code>resource id</code>, e.g.</p><p><code>shellterraform import azurerm_web_pubsub_custom_certificate.example /subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/group1/providers/Microsoft.SignalRService/webPubSub/WebPubsub1/customCertificates/cert1</code></p>", "description": "<h1 id=\"azurerm_web_pubsub_custom_certificate\">azurerm_web_pubsub_custom_certificate</h1><p>Manages an Azure Web PubSub Custom Certificate.</p>"}