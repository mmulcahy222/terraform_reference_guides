{"azurerm-cdn-frontdoor-security-policy": "<h1 id=\"azurerm_cdn_frontdoor_security_policy\">azurerm_cdn_frontdoor_security_policy</h1><p>Manages a Front Door (standard/premium) Security Policy.</p>", "example-usage": "<h2 id=\"example-usage\">Example Usage</h2><p><br />resource \"azurerm_resource_group\" \"example\" {<br />  name     = \"example-cdn-frontdoor\"<br />  location = \"West Europe\"<br />}</p><p>resource \"azurerm_cdn_frontdoor_profile\" \"example\" {<br />  name                = \"example-profile\"<br />  resource_group_name = azurerm_resource_group.example.name<br />  sku_name            = \"Standard_AzureFrontDoor\"<br />}</p><p>resource \"azurerm_cdn_frontdoor_firewall_policy\" \"example\" {<br />  name                              = \"exampleWAF\"<br />  resource_group_name               = azurerm_resource_group.example.name<br />  sku_name                          = azurerm_cdn_frontdoor_profile.example.sku_name<br />  enabled                           = true<br />  mode                              = \"Prevention\"<br />  redirect_url                      = \"https://www.contoso.com\"<br />  custom_block_response_status_code = 403<br />  custom_block_response_body        = \"PGh0bWw+CjxoZWFkZXI+PHRpdGxlPkhlbGxvPC90aXRsZT48L2hlYWRlcj4KPGJvZHk+CkhlbGxvIHdvcmxkCjwvYm9keT4KPC9odG1sPg==\"</p><p>custom_rule {<br />    name                           = \"Rule1\"<br />    enabled                        = true<br />    priority                       = 1<br />    rate_limit_duration_in_minutes = 1<br />    rate_limit_threshold           = 10<br />    type                           = \"MatchRule\"<br />    action                         = \"Block\"</p><pre><code>match_condition {  match_variable     = \"RemoteAddr\"  operator           = \"IPMatch\"  negation_condition = false  match_values       = [\"192.168.1.0/24\", \"10.0.1.0/24\"]}</code></pre><p>}<br />}</p><p>resource \"azurerm_dns_zone\" \"example\" {<br />  name                = \"sub-domain.domain.com\"<br />  resource_group_name = azurerm_resource_group.example.name<br />}</p><p>resource \"azurerm_cdn_frontdoor_custom_domain\" \"example\" {<br />  name                     = \"example-customDomain\"<br />  cdn_frontdoor_profile_id = azurerm_cdn_frontdoor_profile.example.id<br />  dns_zone_id              = azurerm_dns_zone.example.id<br />  host_name                = \"contoso.fabrikam.com\"</p><p>tls {<br />    certificate_type    = \"ManagedCertificate\"<br />    minimum_tls_version = \"TLS12\"<br />  }<br />}</p><p>resource \"azurerm_cdn_frontdoor_security_policy\" \"example\" {<br />  name                     = \"Example-Security-Policy\"<br />  cdn_frontdoor_profile_id = azurerm_cdn_frontdoor_profile.example.id</p><p>security_policies {<br />    firewall {<br />      cdn_frontdoor_firewall_policy_id = azurerm_cdn_frontdoor_firewall_policy.example.id</p><pre><code>  association {    domain {      cdn_frontdoor_domain_id = azurerm_cdn_frontdoor_custom_domain.example.id    }    patterns_to_match = [\"/*\"]  }}</code></pre><p>}<br />}<br /></p>", "arguments-reference": "<h2 id=\"arguments-reference\">Arguments Reference</h2><p>The following arguments are supported:</p><ul><li><p><code>name</code> - (Required) The name which should be used for this Front Door Security Policy. Possible values must not be an empty string. Changing this forces a new Front Door Security Policy to be created.</p></li><li><p><code>cdn_frontdoor_profile_id</code> - (Required) The Front Door Profile Resource Id that is linked to this Front Door Security Policy. Changing this forces a new Front Door Security Policy to be created.</p></li><li><p><code>security_policies</code> - (Required) An <code>security_policies</code> block as defined below. Changing this forces a new Front Door Security Policy to be created.</p></li></ul><hr /><p>A <code>security_policies</code> block supports the following:</p><ul><li><code>firewall</code> - (Required) An <code>firewall</code> block as defined below. Changing this forces a new Front Door Security Policy to be created.</li></ul><hr /><p>A <code>firewall</code> block supports the following:</p><ul><li><p><code>cdn_frontdoor_firewall_policy_id</code> - (Required) The Resource Id of the Front Door Firewall Policy that should be linked to this Front Door Security Policy. Changing this forces a new Front Door Security Policy to be created.</p></li><li><p><code>association</code> - (Required) An <code>association</code> block as defined below. Changing this forces a new Front Door Security Policy to be created.</p></li></ul><hr /><p>An <code>association</code> block supports the following:</p><ul><li><p><code>domain</code> - (Required) One or more <code>domain</code> blocks as defined below. Changing this forces a new Front Door Security Policy to be created.</p></li><li><p><code>patterns_to_match</code> - (Required) The list of paths to match for this firewall policy. Possible value includes <code>/*</code>. Changing this forces a new Front Door Security Policy to be created.</p></li></ul><hr /><p>A <code>domain</code> block supports the following:</p><p>~&gt; <strong>NOTE:</strong> The number of <code>domain</code> blocks that maybe included in the configuration file varies depending on the <code>sku_name</code> field of the linked Front Door Profile. The <code>Standard_AzureFrontDoor</code> sku may contain up to 100 <code>domain</code> blocks and a <code>Premium_AzureFrontDoor</code> sku may contain up to 500 <code>domain</code> blocks.</p><ul><li><p><code>cdn_frontdoor_domain_id</code> - (Required) The Resource Id of the <strong>Front Door Custom Domain</strong> or <strong>Front Door Endpoint</strong> that should be bound to this Front Door Security Policy. Changing this forces a new Front Door Security Policy to be created.</p></li><li><p><code>active</code> - (Computed) Is the Front Door Custom Domain/Endpoint activated?</p></li></ul><hr />", "attributes-reference": "<h2 id=\"attributes-reference\">Attributes Reference</h2><p>In addition to the Arguments listed above - the following Attributes are exported:</p><ul><li><code>id</code> - The ID of the Front Door Security Policy.</li></ul>", "timeouts": "<h2 id=\"timeouts\">Timeouts</h2><p>The <code>timeouts</code> block allows you to specify <a href=\"https://www.terraform.io/docs/configuration/resources.html#timeouts\">timeouts</a> for certain actions:</p><ul><li><code>create</code> - (Defaults to 30 minutes) Used when creating the Front Door Security Policy.</li><li><code>read</code> - (Defaults to 5 minutes) Used when retrieving the Front Door Security Policy.</li><li><code>delete</code> - (Defaults to 30 minutes) Used when deleting the Front Door Security Policy.</li></ul>", "import": "<h2 id=\"import\">Import</h2><p>Front Door Security Policies can be imported using the <code>resource id</code>, e.g.</p><p><code>shellterraform import azurerm_cdn_frontdoor_security_policy.example /subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/resourceGroup1/providers/Microsoft.Cdn/profiles/profile1/securityPolicies/policy1</code></p>", "description": "<h1 id=\"azurerm_cdn_frontdoor_security_policy\">azurerm_cdn_frontdoor_security_policy</h1><p>Manages a Front Door (standard/premium) Security Policy.</p>"}