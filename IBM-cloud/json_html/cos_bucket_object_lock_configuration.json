{"ibm-cos-bucket-object-lock-configuration": "<h1 id=\"ibm_cos_bucket_object_lock_configuration\">ibm_cos_bucket_object_lock_configuration</h1><p>Provides an  Object Lock configuration resource. This resource is used to configure a default retention period for objects placed in the specified bucket. To enable Object Lock for a new bucket see <a href=\"https://registry.terraform.io/providers/IBM-Cloud/ibm/latest/docs/resources/cos_bucket\">ibm_cos_bucket</a>. To configure legal hold and retention period on an object please refer <a href=\"https://registry.terraform.io/providers/IBM-Cloud/ibm/latest/docs/resources/cm_object\">ibm_cos_bucket_object</a>.</p><p><strong>Note:</strong><br />To configure Object Lock on a bucket, you must  first enable object versioning on bucket by using the <a href=\"https://cloud.ibm.com/docs/cloud-object-storage?topic=cloud-object-storage-versioning\">Versioning objects</a>.</p><hr />", "example-usage": "<h2 id=\"example-usage_1\">Example usage</h2><p>terraform<br />// To only enable Object Lock configuration on an existing bucket</p><p>resource \"ibm_cos_bucket\" \"cos_bucket\" {<br />  bucket_name          = \"a-standard-bucket\"<br />  resource_instance_id = data.ibm_resource_instance.cos_instance.id<br />  bucket_region        = \"us-south\"<br />  storage_class        = \"Standard\"<br />  object_versioning {<br />    enable  = true<br />  }<br />}</p><p>resource ibm_cos_bucket_object_lock_configuration \"objectlock\" {<br /> bucket_crn      = ibm_cos_bucket.cos_bucket.crn<br /> bucket_location = ibm_cos_bucket.cos_bucket.bucket_region<br /> object_lock_configuration{<br />   object_lock_enabled = \"Enabled\"<br />  }<br />}</p><p>// To enable object lock configuration and set default retention on a bucket</p><p>resource ibm_cos_bucket_object_lock_configuration \"objectlock\" {<br /> bucket_crn      = ibm_cos_bucket.cos_bucket.crn<br /> bucket_location = ibm_cos_bucket.cos_bucket.bucket_region<br /> object_lock_configuration{<br />   object_lock_enabled = \"Enabled\"<br />   object_lock_rule{<br />     default_retention{<br />        mode = \"COMPLIANCE\"<br />        days = 4<br />      }<br />    }<br />  }<br />}</p><p></p>", "enabling-object-lock-configuration-on-an-existing-bucket": "<h1 id=\"enabling-object-lock-configuration-on-an-existing-bucket\">Enabling Object Lock configuration on an existing bucket</h1><p>To enable  Object Lock configuration on an existing bucket, create a COS bucket with object versioning enabled and pass the crn of the COS bucket and location of the bucket to <code>ibm_cos_bucket_object_lock_configuration.bucket_crn</code> and <code>ibm_cos_bucket_object_lock_configuration.bucket_location</code> as shown in the example.</p>", "argument-reference": "<h2 id=\"argument-reference\">Argument reference</h2><p>Review the argument references that you can specify for your resource. <br />- <code>bucket_crn</code> - (Required, Forces new resource, String) The CRN of the COS bucket.<br />- <code>bucket_location</code> - (Required, Forces new resource, String) The location of the COS bucket.<br />- <code>endpoint_type</code>- (Optional, String) The type of the endpoint either <code>public</code> or <code>private</code> or <code>direct</code> to be used for buckets. Default value is <code>public</code>.<br />- <code>object_lock_configuration</code>- (Required, List) Nested block have the following structure:</p><p>Nested scheme for <code>object_lock_configuration</code>:<br />  - <code>object_lock_enabled</code>- (String) Indicates whether this bucket has an Object Lock configuration enabled. Defaults to Enabled. Valid values: Enabled.<br />  - <code>object_lock_rule</code>- (List) Object Lock rule has following argument:</p><p>Nested scheme for <code>object_lock_rule</code>:<br />  - <code>default_retention</code>- (Required) Configuration block for specifying the default Object Lock retention settings for new objects placed in the specified bucket<br />  Nested scheme for <code>default_retention</code>:<br />  - <code>mode</code>- (String)  Default Object Lock retention mode you want to apply to new objects placed in the specified bucket. Supported values: COMPLIANCE.<br />  - <code>days</code>- (Int) Specifies number of days after which the object can be deleted from the COS bucket.<br />  - <code>years</code>- (Int) Specifies number of years after which the object can be deleted from the COS bucket.</p>", "attribute-reference": "<h2 id=\"attribute-reference\">Attribute reference</h2><p>In addition to all argument reference list, you can access the following attribute reference after your resource is created.</p><ul><li><code>crn</code> - (String) The CRN of the bucket.</li><li><code>id</code> - (String) The ID of the bucket.</li></ul>", "import-ibm-cos-bucket": "<h2 id=\"import-ibm-cos-bucket\">Import IBM COS Bucket</h2><p>The <code>ibm_cos_bucket_object_lock_configuration</code> resource can be imported by using the <code>id</code>. The ID is formed from the <code>CRN</code> (Cloud Resource Name). The <code>CRN</code> and bucket location can be found on the portal.</p><p>id = <code>$CRN:meta:$bucketlocation:$endpointtype</code></p><p><strong>Syntax</strong></p><p><code>``$ terraform import ibm_cos_bucket_object_lock_configuration.objectlock</code>$CRN:meta:$bucketlocation:public`</p><p></p><p><strong>Example</strong></p><p></p><p>$ terraform import ibm_cos_bucket_object_lock_configuration.objectlock crn:v1:bluemix:public:cloud-object-storage:global:a/4ea1882a2d3401ed1e459979941966ea:31fa970d-51d0-4b05-893e-251cba75a7b3:bucket:mybucketname:meta:us-south:public</p><p></p>", "description": "<h1 id=\"ibm_cos_bucket_object_lock_configuration\">ibm_cos_bucket_object_lock_configuration</h1><p>Provides an  Object Lock configuration resource. This resource is used to configure a default retention period for objects placed in the specified bucket. To enable Object Lock for a new bucket see <a href=\"https://registry.terraform.io/providers/IBM-Cloud/ibm/latest/docs/resources/cos_bucket\">ibm_cos_bucket</a>. To configure legal hold and retention period on an object please refer <a href=\"https://registry.terraform.io/providers/IBM-Cloud/ibm/latest/docs/resources/cm_object\">ibm_cos_bucket_object</a>.</p><p><strong>Note:</strong><br />To configure Object Lock on a bucket, you must  first enable object versioning on bucket by using the <a href=\"https://cloud.ibm.com/docs/cloud-object-storage?topic=cloud-object-storage-versioning\">Versioning objects</a>.</p><hr />"}