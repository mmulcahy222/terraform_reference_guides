{"ibm-resource-key": "<h1 id=\"ibm_resource_key\">ibm_resource_key</h1><p>Create, update, or delete service credentials for an IAM-enabled service. By default, the <code>ibm_resource_key</code> resource creates service credentials that use the public service endpoint of a service. To create service credentials that use the private service endpoint instead, you must explicitly define that by using the <code>parameter</code> argument parameter. Note that your service might not support private service endpoints yet. For more information, about resource key, see <a href=\"https://cloud.ibm.com/docs/account?topic=account-service_credentials\">adding and viewing credentials</a>.</p>", "example-usage": "<h2 id=\"example-usage\">Example usage</h2><p>The following example enables to create credentials for a resource without a service ID.</p><p>terraform<br />data \"ibm_resource_instance\" \"resource_instance\" {<br />  name = \"myobjectsotrage\"<br />}</p><p>resource \"ibm_resource_key\" \"resourceKey\" {<br />  name                 = \"myobjectkey\"<br />  role                 = \"Viewer\"<br />  resource_instance_id = data.ibm_resource_instance.resource_instance.id</p><p>//User can increase timeouts<br />  timeouts {<br />    create = \"15m\"<br />    delete = \"15m\"<br />  }<br />}<br /></p><p><strong>Note</strong> The current <code>ibm_resource_key</code> resource doesn't have support for service_id argument but the service_id can be passed as one of the parameter.</p><h3 id=\"example-to-create-by-using-serviceid\">Example to create by using serviceID</h3><p>terraform<br />data \"ibm_resource_instance\" \"resource_instance\" {<br />  name = \"myobjectsotrage\"<br />}</p><p>resource \"ibm_iam_service_id\" \"serviceID\" {<br />  name        = \"test\"<br />  description = \"New ServiceID\"<br />}</p><p>resource \"ibm_resource_key\" \"resourceKey\" {<br />  name                 = \"myobjectkey\"<br />  role                 = \"Viewer\"<br />  resource_instance_id = data.ibm_resource_instance.resource_instance.id<br />  parameters = {<br />    \"serviceid_crn\" = ibm_iam_service_id.serviceID.crn<br />  }</p><p>//User can increase timeouts<br />  timeouts {<br />    create = \"15m\"<br />    delete = \"15m\"<br />  }<br />}<br /></p><h3 id=\"example-to-create-by-using-hmac\">Example to create by using HMAC</h3><p>terraform<br />data \"ibm_resource_group\" \"group\" {<br />    name =\"Default\"<br />}<br />resource \"ibm_resource_instance\" \"resource_instance\" {<br />  name              = \"test-21\"<br />  service           = \"cloud-object-storage\"<br />  plan              = \"lite\"<br />  location          = \"global\"<br />  resource_group_id = data.ibm_resource_group.group.id<br />  tags              = [\"tag1\", \"tag2\"]</p><p>//User can increase timeouts<br />  timeouts {<br />    create = \"15m\"<br />    update = \"15m\"<br />    delete = \"15m\"<br />  }<br />}<br />resource \"ibm_resource_key\" \"resourceKey\" {<br />  name                 = \"my-cos-bucket-xx-key\"<br />  resource_instance_id = ibm_resource_instance.resource_instance.id<br />  parameters           = { \"HMAC\" = true }<br />  role                 = \"Manager\"<br />}</p><p></p><h3 id=\"example-to-access-resource-credentials-using-credentials-attribute\">Example to access resource credentials using credentials attribute:</h3><p><code>terraformresource \"ibm_resource_key\" \"key\" {  name                 = \"my-cos-bucket-xx-key\"  resource_instance_id = ibm_resource_instance.resource_instance.id  role                 = \"Manager\"}output \"access_key_id\" {  value = ibm_resource_key.key.credentials[\"cos_hmac_keys.access_key_id\"]}output \"secret_access_key\" {  value = ibm_resource_key.key.credentials[\"cos_hmac_keys.secret_access_key\"]}</code></p><h3 id=\"example-to-access-resource-credentials-using-credentials_json-attribute\">Example to access resource credentials using credentials_json attribute:</h3><p><code>terraformresource \"ibm_resource_key\" \"key\" {  name                 = \"my-cos-bucket-xx-key\"  resource_instance_id = ibm_resource_instance.resource_instance.id  role                 = \"Manager\"}locals {  resource_credentials =jsondecode(ibm_resource_key.key.credentials_json)}output \"access_key_id\" {  value = local.resource_credentials.cos_hmac_keys.access_key_id}output \"secret_access_key\" {  value = local.resource_credentials.cos_hmac_keys.secret_access_key}</code></p>", "timeouts": "<h2 id=\"timeouts\">Timeouts</h2><p>The <code>ibm_resource_key</code> provides the following <a href=\"https://www.terraform.io/docs/language/resources/syntax.html\">Timeouts</a> configuration options:</p><ul><li><strong>create</strong> - (Default 10 minutes) Used for Creating Key.</li><li><strong>delete</strong> - (Default 10 minutes) Used for Deleting Key.</li></ul>", "argument-reference": "<h2 id=\"argument-reference\">Argument reference</h2><p>Review the argument references that you can specify for your resource. </p><ul><li><code>name</code> - (Required, Forces new resource, String)  A descriptive name used to identify a resource key.</li><li><code>parameters</code> (Optional, Map) Arbitrary parameters to pass to the resource in JSON format. If you want to create service credentials by using the private service endpoint, include the <code>service-endpoints =  \"private\"</code> parameter.</li><li><code>role</code> - (Optional, Forces new resource, String) The name of the user role. Valid roles are <code>Writer</code>, <code>Reader</code>, <code>Manager</code>, <code>Administrator</code>, <code>Operator</code>, <code>Viewer</code>, and <code>Editor</code>. This argument is Optional only during creation of service credentials for Cloud Databases and other non-IAM-enabled services and is Required for all other IAM-enabled services.</li><li><code>resource_instance_id</code> - (Optional, Forces new resource, String) The ID of the resource instance associated with the resource key. <strong>Note</strong> Conflicts with <code>resource_alias_id</code>.</li><li><code>resource_alias_id</code> - (Optional, Forces new resource, String) The ID of the resource alias associated with the resource key. <strong>Note</strong> Conflicts with <code>resource_instance_id</code>.</li><li><code>tags</code> (Optional, Array of strings) Tags associated with the resource key instance. <strong>Note</strong> Tags are managed locally and not stored on the IBM Cloud Service Endpoint at this moment.</li></ul>", "attribute-reference": "<h2 id=\"attribute-reference\">Attribute reference</h2><p>In addition to all argument reference list, you can access the following attribute reference after your resource is created.</p><ul><li><code>account_id</code> - (String) An alpha-numeric value identifying the account ID.</li><li><code>credentials</code> - (Map) The credentials associated with the key.</li><li><code>credentials_json</code> - (String) The credentials associated with the key in json format.</li><li><code>created_at</code> - (Timestamp) The date when the key was created.</li><li><code>created_by</code> - (String) The subject who created the key.</li><li><code>crn</code> - (String) The full Cloud Resource Name (CRN) associated with the key.</li><li><code>deleted_at</code> - (Timestamp) The date when the key was deleted.</li><li><code>deleted_by</code> - (String) The subject who deleted the key.</li><li><code>id</code> - (String) The unique identifier of the new resource key.</li><li><code>status</code> - (String) The status of the resource key.</li><li><code>guid</code> - (String) A unique internal identifier GUID managed by the resource controller that corresponds to the key.</li><li><code>iam_compatible</code> - (String) Specifies whether the key\u2019s credentials support IAM.</li><li><code>resource_group_id</code> - (String) The short ID of the resource group.</li><li><code>source_crn</code> - (String) The CRN of resource instance or alias associated to the key.</li><li><code>state</code> - (String) The state of the key.</li><li><code>resource_instance_url</code> - (String) The relative path to the resource.</li><li><code>updated_at</code> - (Timestamp) The date when the key was last updated.</li><li><code>updated_by</code> - (String) The subject who updated the key.</li><li><code>url</code> - (String) When you created a new key, a relative URL path is created identifying the location of the key.</li></ul>", "note": "<h2 id=\"note\">Note</h2><p>Credentials will be seen as redacted, if the user does not have access equal to or greater than the access of the service credentials. Please refer to the documentation to access credentials - https://cloud.ibm.com/docs/account?topic=account-service_credentials&amp;interface=ui#viewing-credentials-ui.</p>", "description": "<h1 id=\"ibm_resource_key\">ibm_resource_key</h1><p>Create, update, or delete service credentials for an IAM-enabled service. By default, the <code>ibm_resource_key</code> resource creates service credentials that use the public service endpoint of a service. To create service credentials that use the private service endpoint instead, you must explicitly define that by using the <code>parameter</code> argument parameter. Note that your service might not support private service endpoints yet. For more information, about resource key, see <a href=\"https://cloud.ibm.com/docs/account?topic=account-service_credentials\">adding and viewing credentials</a>.</p>"}