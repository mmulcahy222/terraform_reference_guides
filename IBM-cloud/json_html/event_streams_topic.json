{"ibm-event-streams-topic": "<h1 id=\"ibm_event_streams_topic\">ibm_event_streams_topic</h1><p>Create and update the Event Streams. For more information, about Event Streams topics, see <a href=\"https://cloud.ibm.com/docs/openwhisk?topic=openwhisk-pkg_event_streams\">Event Streams</a>.</p>", "example-usage": "<h2 id=\"example-usage\">Example usage</h2><h3 id=\"sample-1-create-an-event-streams-service-instance-and-topic\">Sample 1 create an Event Streams service instance and topic</h3><br /><p>terraform<br />resource \"ibm_resource_instance\" \"es_instance_1\" {<br />  name              = \"terraform-integration-1\"<br />  service           = \"messagehub\"<br />  plan              = \"standard\" # \"lite\", \"enterprise-3nodes-2tb\"<br />  location          = \"us-south\" # \"us-east\", \"eu-gb\", \"eu-de\", \"jp-tok\", \"au-syd\"<br />  resource_group_id = data.ibm_resource_group.group.id</p><br /><p># parameters = {<br />  #   service-endpoints     = \"private\"                    # for enterprise instance only, Options are: \"public\", \"public-and-private\", \"private\". Default is \"public\" when not specified.<br />  #   private_ip_allowlist = \"[10.0.0.0/32,10.0.0.1/32]\" # for enterprise instance only. Specify 1 or more IP range in CIDR format.<br />  #   # Refer private service endpoint and IP allow list to restrict access documentation, (<br />/docs/EventStreams?topic=EventStreams-restrict_access) for more details.<br />  #   throughput   = \"150\"  # for enterprise instance only. Options are: \"150\", \"300\", \"450\". Default is \"150\".<br />  #   storage_size = \"2048\" # for enterprise instance only. Options are: \"2048\", \"4096\", \"6144\", \"8192\", \"10240\", \"12288\". Default is \"2048\".<br />  #   Note: When throughput is \"300\", storage_size starts from \"4096\",  when throughput is \"450\", storage_size starts from \"6144\".<br />  #   Refer support combinations of throughput and storage_size documentation (<br />/docs/EventStreams?topic=EventStreams-ES_scaling_capacity#ES_scaling_combinations) for more details.<br />  # }</p><br /><p># timeouts {<br />  #   create = \"15m\" # use 3h when creating enterprise instance, add more 1h for each level of non-default throughput, add more 30m for each level of non-default storage_size<br />  #   update = \"15m\" # use 1h when updating enterprise instance, add more 1h for each level of non-default throughput, add more 30m for each level of non-default storage_size<br />  #   delete = \"15m\"<br />  # }<br />}</p><br /><p>resource \"ibm_event_streams_topic\" \"es_topic_1\" {<br />  resource_instance_id = ibm_resource_instance.es_instance_1.id<br />  name                 = \"my-es-topic\"<br />  partitions           = 1<br />  config = {<br />    \"cleanup.policy\"  = \"compact,delete\"<br />    \"retention.ms\"    = \"86400000\"<br />    \"retention.bytes\" = \"1073741824\"<br />    \"segment.bytes\"   = \"536870912\"<br />  }<br />}</p><br /><h3 id=\"sample-2-create-a-topic-on-an-existing-event-streams-instance\">Sample 2 create a topic on an existing Event Streams instance</h3><br /><p>Create topic on an existing Event Streams instance.The owner of the <code>ibmcloud_api_key</code> has permission to create Event Streams instance in a specified resource group. However, you need the manager role to create the instance in order to create topic.</p><br /><p>terraform<br />data \"ibm_resource_instance\" \"es_instance_2\" {<br />  name              = \"terraform-integration-2\"<br />  resource_group_id = data.ibm_resource_group.group.id<br />}</p><br /><p>resource \"ibm_event_streams_topic\" \"es_topic_2\" {<br />  resource_instance_id = data.ibm_resource_instance.es_instance_2.id<br />  name                 = \"my-es-topic\"<br />  partitions           = 1<br />  config = {<br />    \"cleanup.policy\"  = \"compact,delete\"<br />    \"retention.ms\"    = \"86400000\"<br />    \"retention.bytes\" = \"1073741824\"<br />    \"segment.bytes\"   = \"536870912\"<br />  }<br />}</p><br /><h3 id=\"sample-3-create-a-kafka-consumer-application-connection-to-an-event-streams-instance-and-its-topics\">Sample 3 create a Kafka consumer application connection to an Event Streams instance and its topics</h3><br /><p>terraform<br />data \"ibm_resource_instance\" \"es_instance_3\" {<br />  name              = \"terraform-integration-3\"<br />  resource_group_id = data.ibm_resource_group.group.id<br />}</p><br /><p>data \"ibm_event_streams_topic\" \"es_topic_3\" {<br />  resource_instance_id = data.ibm_resource_instance.es_instance_3.id<br />  name                 = \"my-es-topic\"<br />}</p><br /><p>resource \"kafka_consumer_app\" \"es_kafka_app\" {<br />  bootstrap_server = lookup(data.ibm_resource_instance.es_instance_3.extensions, \"kafka_brokers_sasl\", [])<br />  topics           = [data.ibm_event_streams_topic.es_topic_3.name]<br />  apikey           = var.es_reader_api_key<br />}</p><br />", "timeouts": "<h2 id=\"timeouts\">Timeouts</h2><p>Event Streams topic provides the following timeouts:</p><ul><li><code>create</code>- Defaults to 15 minutes. <br /><strong>Note</strong> Use <code>3h</code> to create enterprise instance. Add more <code>1h</code> for each level of non-default through put and add extra <code>30m</code> for each level of non-default storage size.|</li><li><code>delete</code> - Defaults to 15 minutes.</li><li><code>update</code>- Defaults to 15 minutes. <br /><strong>Note</strong> Use <code>1h</code> to update enterprise instance. Add more <code>1h</code> for each level of non-default through put and add extra <code>30m</code> for each level of non-default storage size.|</li></ul>", "argument-reference": "<h2 id=\"argument-reference\">Argument reference</h2><p>Review the argument reference that you can specify for your resource. </p><ul><li><code>config</code> - (Optional, Map) The configuration parameters of the topic. Supported configurations are: <code>cleanup.policy</code>, <code>retention.ms</code>, <code>retention.bytes</code>, <code>segment.bytes</code>, <code>segment.ms</code>, <code>segment.index.bytes</code>.</li><li><code>name</code> - (Required, String) The name of the topic.</li><li><code>partitions</code> - (Optional, Integer) The number of partitions of the topic. Default value is 1.</li><li><code>resource_instance_id</code> - (Required, String) The ID or the CRN of the Event Streams service instance.</li></ul>", "attribute-reference": "<h2 id=\"attribute-reference\">Attribute reference</h2><p>In addition to all argument reference list, you can access the following attribute references after your resource is created. </p><ul><li><code>id</code> - (String) The ID of the topic in CRN format. For example, `crn:v1:bluemix:public:messagehub:us-south:a/6db1b0d0b5c54ee5c201552547febcd8:cb5a0252-8b8d-4390-b017-80b743d32839:topic:my-es-topic.</li><li><code>kafka_brokers_sasl</code> - (Array of Strings) Kafka brokers use for interacting with Kafka native API.</li><li><code>kafka_http_url</code> - (String) The API endpoint for interacting with Event Streams REST API.</li></ul>", "import": "<h2 id=\"import\">Import</h2><p>The <code>ibm_event_streams_topic</code> resource can be imported by using <code>CRN</code>. The three parameters of the <code>CRN</code> with the colon separator are<br />  - ID = CRN <br />  - resource type = topic<br />  - resource = name of the topic.</p><p><strong>Syntax</strong></p><p>$ terraform import ibm_event_streams_topic.es_topic <crn></p><p><strong>Example</strong></p><p>$ terraform import ibm_event_streams_topic.es_topic crn:v1:bluemix:public:messagehub:us-south:a/6db1b0d0b5c54ee5c201552547febcd8:cb5a0252-8b8d-4390-b017-80b743d32839:topic:my-es-topic</p>", "description": "<h1 id=\"ibm_event_streams_topic\">ibm_event_streams_topic</h1><p>Create and update the Event Streams. For more information, about Event Streams topics, see <a href=\"https://cloud.ibm.com/docs/openwhisk?topic=openwhisk-pkg_event_streams\">Event Streams</a>.</p>"}