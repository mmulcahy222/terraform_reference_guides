{"ibm-satellite-cluster": "<h1 id=\"ibm_satellite_cluster\">ibm_satellite_cluster</h1><p>Create, update, or delete <a href=\"https://cloud.ibm.com/docs/openshift?topic=openshift-satellite-clusters\">IBM Cloud Satellite Cluster</a>. Set up an Red Hat OpenShift\u00ae on IBM Cloud clusters in an IBM Cloud Satellite location, and use the hosts of your own infrastructure that you added to your location as the worker nodes for the cluster.</p>", "example-usage": "<h2 id=\"example-usage\">Example usage</h2><h3 id=\"create-satellite-cluster\">Create satellite cluster</h3><br /><p>terraform<br />resource \"ibm_satellite_cluster\" \"create_cluster\" {<br />    name                   = \"%s\"<br />    location               = var.location<br />    enable_config_admin    = true<br />    kube_version           = \"4.6_openshift\"<br />    resource_group_id      = data.ibm_resource_group.rg.id<br />    wait_for_worker_update = true<br />    dynamic \"zones\" {<br />        for_each = var.zones<br />        content {<br />            id  = zones.value<br />        }<br />    }<br />}</p><br />", "timeouts": "<h2 id=\"timeouts\">Timeouts</h2><p>The <code>ibm_satellite_cluster</code> provides the following <a href=\"https://www.terraform.io/docs/language/resources/syntax.html\">Timeouts</a> configuration options:</p><ul><li><code>create</code> - (Default 120 minutes) Used for creating instance.</li><li><code>read</code>   - (Default 10 minutes) Used for reading instance.</li><li><code>update</code> - (Default 120 minutes) Used for updating instance.</li><li><code>delete</code> - (Default 30 minutes) Used for deleting instance.</li></ul>", "argument-reference": "<h2 id=\"argument-reference\">Argument reference</h2><p>Review the argument references that you can specify for your resource. </p><ul><li><code>name</code> - (Required, String) The unique name for the new IBM Cloud Satellite cluster.</li><li><code>location</code> - (Required, String) The name or ID of the Satellite location.</li><li><code>kube_version</code> - (Optional, String) The Red Hart OpenShift Container Platform version.</li><li><code>operating_system</code> - (Optional, String) Operating system of the default worker pool. Options are REDHAT_7_64, REDHAT_8_64, or RHCOS.</li><li><code>zones</code> - (Optional, Array of Strings)  The name of the zones to create the default worker pool.</li><li><code>worker_count</code> - (Optional, String) The number of worker nodes to create per zone in the default worker pool.</li><li><code>enable_config_admin</code> - (Optional, Bool) User provided value to indicate opt-in agreement to SatCon admin agent.</li><li><code>host_labels</code> - (Optional, Set(Strings)) Labels to add to the default worker pool, formatted as <code>cpu:4</code> key-value pairs. Satellite uses host labels to automatically assign hosts to worker pools with matching labels.</li><li><code>default_worker_pool_labels</code> - (Optional, String) The labels on all the workers in the default worker pool.</li><li><code>pull_secret</code> - (Optional, String) The Red Hat pull secret to create the OpenShift cluster.</li><li><code>zone</code> - (Optional, List) The zone for the worker pool in a multi-zone cluster. </li><li><code>infrastructure_topology</code> - (Optional, String) Specify whether the cluster should run a single worker node or the default number of worker nodes. Only works with kube version 4.11 and newer. To create a single-node cluster, specify 'single-replica'. To create a default cluster with multiple worker nodes, specify 'highly-available'. The 'highly-available' option is applied by default. Available options: single-replica, highly-available (default: \"highly-available\")</li></ul><p>Nested scheme for <code>zone</code>:<br />    - <code>id</code> - The name of the zone.<br />- <code>resource_group_id</code> - (Optional, String) The ID of the resource group.  You can retrieve the value from data source <code>ibm_resource_group</code>.<br />- <code>tags</code> - (Optional, Array of Strings) List of tags associated with this cluster.<br />-  <code>wait_for_worker_update</code> - (Optional, Bool) Set to <strong>true</strong> to wait for kube version of woker nodes to update during the worker node kube version update. <strong>NOTE</strong> setting <code>wait_for_worker_update</code> to <strong>false</strong> is not recommended. This results in upgrading all the worker nodes in the cluster at the same time causing the cluster downtime.<br />- <code>patch_version</code> - (Optional, String) Set this to update the worker nodes with the required patch version. <br />   The <code>patch_version</code> should be in the format - <code>patch_version_fixpack_version</code>. For more information, see <a href=\"https://cloud.ibm.com/docs/containers?topic=containers-cs_versions\">Kuberentes version</a>.<br /><strong>NOTE</strong>: To update the patch/fixpack versions of the worker nodes, Run the command <code>ibmcloud ks workers -c &lt;cluster_name_or_id&gt; --output json</code>, fetch the required patch &amp; fixpack versions from <code>kubeVersion.target</code> and set the patch_version parameter.<br />- <code>retry_patch_version</code> - (Optional, Integer) This argument helps to retry the update of <code>patch_version</code> if the previous update fails. Increment the value to retry the update of <code>patch_version</code> on worker nodes.<br />- <code>tags</code> - (Optional, Array of Strings) Tags associated with the container cluster instance.<br />- <code>pod_subnet</code> - Specify a custom subnet CIDR to provide private IP addresses for pods. The subnet must be at least <code>/23</code> or larger. For more information, see <a href=\"https://cloud.ibm.com/docs/containers?topic=containers-vpc-subnets\">Configuring VPC subnets</a>.<br />- <code>service_subnet</code> -  Specify a custom subnet CIDR to provide private IP addresses for services. The subnet must be at least <code>/24</code> or larger. For more information, see <a href=\"https://cloud.ibm.com/docs/containers?topic=containers-vpc-subnets#vpc_basics\">Configuring VPC subnets</a>.</p>", "attributes-reference": "<h2 id=\"attributes-reference\">Attributes reference</h2><p>In addition to all argument reference list, you can access the following attribute reference after your resource is created.</p><ul><li><code>id</code> - (String) The unique identifier of the cluster.</li><li><code>crn</code> - (String) The CRN of the cluster.</li><li><code>ingress_hostname</code> - (String) The Ingress hostname.</li><li><code>ingress_secret</code> - (String) The Ingress secret.</li><li><code>state</code> - (String) State.</li><li><code>master_status</code> - (String) The status of the Kubernetes master.</li><li><code>master_url</code> - (String) The master server URL.</li><li><code>private_service_endpoint_url</code> - (String) The private service endpoint URL.</li><li><code>public_service_endpoint_url</code> - (String) The public service endpoint URL.</li><li><code>private_service_endpoint_enabled</code> - (String) The private service endpoint status.</li><li><code>public_service_endpoint_enabled</code> - (String) The public service endpoint status.</li><li><code>state</code> - (String) The lifecycle state of the cluster.</li><li><code>resource_group_name</code> - (String) The lifecycle state of the cluster.</li></ul><p><strong>Note</strong></p><ol><li><p>The following arguments are immutable and cannot be changed:</p></li><li><p><code>name</code> -  The unique name for the new IBM Cloud Satellite cluster.</p></li><li><code>location</code> -  The name or ID of the Satellite location.</li><li><p><code>resource_group_id</code> -  The ID of the resource group.</p></li><li><p>Host assignment to workerpool:</p></li><li><p>When you attach a host to a Satellite location, the host automatically assigned to worker pools in satellite resources.<br />   Auto-assignment works based on matching host labels (https://cloud.ibm.com/docs/satellite?topic=satellite-assigning-hosts#host-autoassign-ov).</p></li><li>For manual assignment, Use <code>ibm_satellite_host</code> resource to assign the host to workerpools.</li></ol>", "import": "<h2 id=\"import\">Import</h2><p>The <code>ibm_satellite_cluster</code> can be imported using the location id or name.</p><p>Example:</p><p>$ terraform import ibm_satellite_cluster.cluster cluster</p>", "description": "<h1 id=\"ibm_satellite_cluster\">ibm_satellite_cluster</h1><p>Create, update, or delete <a href=\"https://cloud.ibm.com/docs/openshift?topic=openshift-satellite-clusters\">IBM Cloud Satellite Cluster</a>. Set up an Red Hat OpenShift\u00ae on IBM Cloud clusters in an IBM Cloud Satellite location, and use the hosts of your own infrastructure that you added to your location as the worker nodes for the cluster.</p>"}