{"": "<h1 id=\"-_2\">----------------------------------------------------------------------------</h1><p>subcategory: \"OS Config\"<br />description: |-<br />  An OS Config resource representing a guest configuration policy.</p><hr />", "auto-generated-code-type-mmv1": "<h1 id=\"auto-generated-code-type-mmv1\"><strong><em>     AUTO GENERATED CODE    </em></strong>    Type: MMv1     ***</h1>", "this-file-is-automatically-generated-by-magic-modules-and-manual": "<h1 id=\"this-file-is-automatically-generated-by-magic-modules-and-manual\">This file is automatically generated by Magic Modules and manual</h1>", "changes-will-be-clobbered-when-the-file-is-regenerated": "<h1 id=\"changes-will-be-clobbered-when-the-file-is-regenerated\">changes will be clobbered when the file is regenerated.</h1>", "please-read-more-about-how-to-change-this-file-in": "<h1 id=\"please-read-more-about-how-to-change-this-file-in\">Please read more about how to change this file in</h1>", "github-contributing-md": "<h1 id=\"githubcontributingmd\">.github/CONTRIBUTING.md.</h1>", "google-os-config-guest-policies": "<h1 id=\"google_os_config_guest_policies\">google_os_config_guest_policies</h1><p>An OS Config resource representing a guest configuration policy. These policies represent<br />the desired state for VM instance guest environments including packages to install or remove,<br />package repository configurations, and software to install.</p><p>~&gt; <strong>Warning:</strong> This resource is in beta, and should be used with the terraform-provider-google-beta provider.<br />See <a href=\"https://terraform.io/docs/providers/google/guides/provider_versions.html\">Provider Versions</a> for more details on beta resources.</p><p>To get more information about GuestPolicies, see:</p><ul><li><a href=\"https://cloud.google.com/compute/docs/osconfig/rest\">API documentation</a></li><li>How-to Guides<ul><li><a href=\"https://cloud.google.com/compute/docs/os-config-management\">Official Documentation</a></li></ul></li></ul><div class = \"oics-button\" style=\"float: right; margin: 0 0 -15px\">  <a href=\"https://console.cloud.google.com/cloudshell/open?cloudshell_git_repo=https%3A%2F%2Fgithub.com%2Fterraform-google-modules%2Fdocs-examples.git&cloudshell_working_dir=os_config_guest_policies_basic&cloudshell_image=gcr.io%2Fcloudshell-images%2Fcloudshell%3Alatest&open_in_editor=main.tf&cloudshell_print=.%2Fmotd&cloudshell_tutorial=.%2Ftutorial.md\" target=\"_blank\">    <img alt=\"Open in Cloud Shell\" src=\"//gstatic.com/cloudssh/images/open-btn.svg\" style=\"max-height: 44px; margin: 32px auto; max-width: 100%;\">  </a></div>", "example-usage---os-config-guest-policies-basic": "<h2 id=\"example-usage-os-config-guest-policies-basic\">Example Usage - Os Config Guest Policies Basic</h2><p><br />data \"google_compute_image\" \"my_image\" {<br />  provider = google-beta<br />  family  = \"debian-11\"<br />  project = \"debian-cloud\"<br />}</p><p>resource \"google_compute_instance\" \"foobar\" {<br />  provider = google-beta<br />  name           = \"guest-policy-inst\"<br />  machine_type   = \"e2-medium\"<br />  zone           = \"us-central1-a\"<br />  can_ip_forward = false<br />  tags           = [\"foo\", \"bar\"]</p><p>boot_disk {<br />    initialize_params {<br />      image = data.google_compute_image.my_image.self_link<br />    }<br />  }</p><p>network_interface {<br />    network = \"default\"<br />  }</p><p>metadata = {<br />    foo = \"bar\"<br />  }<br />}</p><p>resource \"google_os_config_guest_policies\" \"guest_policies\" {<br />  provider = google-beta<br />  guest_policy_id = \"guest-policy\"</p><p>assignment {<br />    instances = [google_compute_instance.foobar.id]<br />  }</p><p>packages {<br />    name = \"my-package\"<br />    desired_state = \"UPDATED\"<br />  }<br />}<br /></p><div class = \"oics-button\" style=\"float: right; margin: 0 0 -15px\">  <a href=\"https://console.cloud.google.com/cloudshell/open?cloudshell_git_repo=https%3A%2F%2Fgithub.com%2Fterraform-google-modules%2Fdocs-examples.git&cloudshell_working_dir=os_config_guest_policies_packages&cloudshell_image=gcr.io%2Fcloudshell-images%2Fcloudshell%3Alatest&open_in_editor=main.tf&cloudshell_print=.%2Fmotd&cloudshell_tutorial=.%2Ftutorial.md\" target=\"_blank\">    <img alt=\"Open in Cloud Shell\" src=\"//gstatic.com/cloudssh/images/open-btn.svg\" style=\"max-height: 44px; margin: 32px auto; max-width: 100%;\">  </a></div>", "example-usage---os-config-guest-policies-packages": "<h2 id=\"example-usage-os-config-guest-policies-packages\">Example Usage - Os Config Guest Policies Packages</h2><p><br />resource \"google_os_config_guest_policies\" \"guest_policies\" {<br />  provider = google-beta<br />  guest_policy_id = \"guest-policy\"</p><p>assignment {<br />    group_labels {<br />      labels = {<br />        color = \"red\",<br />        env = \"test\"<br />      }<br />    }</p><pre><code>group_labels {  labels = {    color = \"blue\",    env = \"test\"  }}</code></pre><p>}</p><p>packages {<br />    name          = \"my-package\"<br />    desired_state = \"INSTALLED\"<br />  }</p><p>packages {<br />    name          = \"bad-package-1\"<br />    desired_state = \"REMOVED\"<br />  }</p><p>packages {<br />    name          = \"bad-package-2\"<br />    desired_state = \"REMOVED\"<br />    manager       = \"APT\"<br />  }</p><p>package_repositories {<br />    apt {<br />      uri          = \"https://packages.cloud.google.com/apt\"<br />      archive_type = \"DEB\"<br />      distribution = \"cloud-sdk-stretch\"<br />      components   = [\"main\"]<br />    }<br />  }</p><p>package_repositories {<br />    yum {<br />      id           = \"google-cloud-sdk\"<br />      display_name = \"Google Cloud SDK\"<br />      base_url     = \"https://packages.cloud.google.com/yum/repos/cloud-sdk-el7-x86_64\"<br />      gpg_keys     = [\"https://packages.cloud.google.com/yum/doc/yum-key.gpg\", \"https://packages.cloud.google.com/yum/doc/rpm-package-key.gpg\"]<br />    }<br />  }<br />}<br /></p><div class = \"oics-button\" style=\"float: right; margin: 0 0 -15px\">  <a href=\"https://console.cloud.google.com/cloudshell/open?cloudshell_git_repo=https%3A%2F%2Fgithub.com%2Fterraform-google-modules%2Fdocs-examples.git&cloudshell_working_dir=os_config_guest_policies_recipes&cloudshell_image=gcr.io%2Fcloudshell-images%2Fcloudshell%3Alatest&open_in_editor=main.tf&cloudshell_print=.%2Fmotd&cloudshell_tutorial=.%2Ftutorial.md\" target=\"_blank\">    <img alt=\"Open in Cloud Shell\" src=\"//gstatic.com/cloudssh/images/open-btn.svg\" style=\"max-height: 44px; margin: 32px auto; max-width: 100%;\">  </a></div>", "example-usage---os-config-guest-policies-recipes": "<h2 id=\"example-usage-os-config-guest-policies-recipes\">Example Usage - Os Config Guest Policies Recipes</h2><p><br />resource \"google_os_config_guest_policies\" \"guest_policies\" {<br />  provider = google-beta<br />  guest_policy_id = \"guest-policy\"</p><p>assignment {<br />    zones = [\"us-east1-b\", \"us-east1-d\"]<br />  }</p><p>recipes {<br />    name          = \"guest-policy-recipe\"<br />    desired_state = \"INSTALLED\"</p><pre><code>artifacts {  id = \"guest-policy-artifact-id\"  gcs {    bucket     = \"my-bucket\"    object     = \"executable.msi\"    generation = 1546030865175603  }}install_steps {  msi_installation {    artifact_id = \"guest-policy-artifact-id\"  }}</code></pre><p>}<br />}<br /></p>", "argument-reference": "<h2 id=\"argument-reference\">Argument Reference</h2><p>The following arguments are supported:</p><ul><li><p><code>assignment</code> -<br />  (Required)<br />  Specifies the VM instances that are assigned to this policy. This allows you to target sets<br />  or groups of VM instances by different parameters such as labels, names, OS, or zones.<br />  If left empty, all VM instances underneath this policy are targeted.<br />  At the same level in the resource hierarchy (that is within a project), the service prevents<br />  the creation of multiple policies that conflict with each other.<br />  For more information, see how the service<br /><a href=\"https://cloud.google.com/compute/docs/os-config-management/create-guest-policy#handle-conflicts\">handles assignment conflicts</a>.<br />  Structure is <a href=\"#nested_assignment\">documented below</a>.</p></li><li><p><code>guest_policy_id</code> -<br />  (Required)<br />  The logical name of the guest policy in the project with the following restrictions:</p></li><li>Must contain only lowercase letters, numbers, and hyphens.</li><li>Must start with a letter.</li><li>Must be between 1-63 characters.</li><li>Must end with a number or a letter.</li><li>Must be unique within the project.</li></ul><p><a name=\"nested_assignment\"></a>The <code>assignment</code> block supports:</p><ul><li><p><code>group_labels</code> -<br />  (Optional)<br />  Targets instances matching at least one of these label sets. This allows an assignment to target disparate groups,<br />  for example \"env=prod or env=staging\".<br />  Structure is <a href=\"#nested_group_labels\">documented below</a>.</p></li><li><p><code>zones</code> -<br />  (Optional)<br />  Targets instances in any of these zones. Leave empty to target instances in any zone.<br />  Zonal targeting is uncommon and is supported to facilitate the management of changes by zone.</p></li><li><p><code>instances</code> -<br />  (Optional)<br />  Targets any of the instances specified. Instances are specified by their URI in the form<br />  zones/[ZONE]/instances/[INSTANCE_NAME].<br />  Instance targeting is uncommon and is supported to facilitate the management of changes<br />  by the instance or to target specific VM instances for development and testing.<br />  Only supported for project-level policies and must reference instances within this project.</p></li><li><p><code>instance_name_prefixes</code> -<br />  (Optional)<br />  Targets VM instances whose name starts with one of these prefixes.<br />  Like labels, this is another way to group VM instances when targeting configs,<br />  for example prefix=\"prod-\".<br />  Only supported for project-level policies.</p></li><li><p><code>os_types</code> -<br />  (Optional)<br />  Targets VM instances matching at least one of the following OS types.<br />  VM instances must match all supplied criteria for a given OsType to be included.<br />  Structure is <a href=\"#nested_os_types\">documented below</a>.</p></li></ul><p><a name=\"nested_group_labels\"></a>The <code>group_labels</code> block supports:</p><ul><li><code>labels</code> -<br />  (Required)<br />  Google Compute Engine instance labels that must be present for an instance to be included in this assignment group.</li></ul><p><a name=\"nested_os_types\"></a>The <code>os_types</code> block supports:</p><ul><li><p><code>os_short_name</code> -<br />  (Optional)<br />  Targets VM instances with OS Inventory enabled and having the following OS short name, for example \"debian\" or \"windows\".</p></li><li><p><code>os_version</code> -<br />  (Optional)<br />  Targets VM instances with OS Inventory enabled and having the following following OS version.</p></li><li><p><code>os_architecture</code> -<br />  (Optional)<br />  Targets VM instances with OS Inventory enabled and having the following OS architecture.</p></li></ul><hr /><ul><li><p><code>description</code> -<br />  (Optional)<br />  Description of the guest policy. Length of the description is limited to 1024 characters.</p></li><li><p><code>packages</code> -<br />  (Optional)<br />  The software packages to be managed by this policy.<br />  Structure is <a href=\"#nested_packages\">documented below</a>.</p></li><li><p><code>package_repositories</code> -<br />  (Optional)<br />  A list of package repositories to configure on the VM instance.<br />  This is done before any other configs are applied so they can use these repos.<br />  Package repositories are only configured if the corresponding package manager(s) are available.<br />  Structure is <a href=\"#nested_package_repositories\">documented below</a>.</p></li><li><p><code>recipes</code> -<br />  (Optional)<br />  A list of Recipes to install on the VM instance.<br />  Structure is <a href=\"#nested_recipes\">documented below</a>.</p></li><li><p><code>etag</code> -<br />  (Optional)<br />  The etag for this guest policy. If this is provided on update, it must match the server's etag.</p></li><li><p><code>project</code> - (Optional) The ID of the project in which the resource belongs.<br />    If it is not provided, the provider project is used.</p></li></ul><p><a name=\"nested_packages\"></a>The <code>packages</code> block supports:</p><ul><li><p><code>name</code> -<br />  (Required)<br />  The name of the package. A package is uniquely identified for conflict validation<br />  by checking the package name and the manager(s) that the package targets.</p></li><li><p><code>desired_state</code> -<br />  (Optional)<br />  The desiredState the agent should maintain for this package. The default is to ensure the package is installed.<br />  Possible values are: <code>INSTALLED</code>, <code>UPDATED</code>, <code>REMOVED</code>.</p></li><li><p><code>manager</code> -<br />  (Optional)<br />  Type of package manager that can be used to install this package. If a system does not have the package manager,<br />  the package is not installed or removed no error message is returned. By default, or if you specify ANY,<br />  the agent attempts to install and remove this package using the default package manager.<br />  This is useful when creating a policy that applies to different types of systems.<br />  The default behavior is ANY.<br />  Default value is <code>ANY</code>.<br />  Possible values are: <code>ANY</code>, <code>APT</code>, <code>YUM</code>, <code>ZYPPER</code>, <code>GOO</code>.</p></li></ul><p><a name=\"nested_package_repositories\"></a>The <code>package_repositories</code> block supports:</p><ul><li><p><code>apt</code> -<br />  (Optional)<br />  An Apt Repository.<br />  Structure is <a href=\"#nested_apt\">documented below</a>.</p></li><li><p><code>yum</code> -<br />  (Optional)<br />  A Yum Repository.<br />  Structure is <a href=\"#nested_yum\">documented below</a>.</p></li><li><p><code>zypper</code> -<br />  (Optional)<br />  A Zypper Repository.<br />  Structure is <a href=\"#nested_zypper\">documented below</a>.</p></li><li><p><code>goo</code> -<br />  (Optional)<br />  A Goo Repository.<br />  Structure is <a href=\"#nested_goo\">documented below</a>.</p></li></ul><p><a name=\"nested_apt\"></a>The <code>apt</code> block supports:</p><ul><li><p><code>archive_type</code> -<br />  (Optional)<br />  Type of archive files in this repository. The default behavior is DEB.<br />  Default value is <code>DEB</code>.<br />  Possible values are: <code>DEB</code>, <code>DEB_SRC</code>.</p></li><li><p><code>uri</code> -<br />  (Required)<br />  URI for this repository.</p></li><li><p><code>distribution</code> -<br />  (Required)<br />  Distribution of this repository.</p></li><li><p><code>components</code> -<br />  (Required)<br />  List of components for this repository. Must contain at least one item.</p></li><li><p><code>gpg_key</code> -<br />  (Optional)<br />  URI of the key file for this repository. The agent maintains a keyring at<br />  /etc/apt/trusted.gpg.d/osconfig_agent_managed.gpg containing all the keys in any applied guest policy.</p></li></ul><p><a name=\"nested_yum\"></a>The <code>yum</code> block supports:</p><ul><li><p><code>id</code> -<br />  (Required)<br />  A one word, unique name for this repository. This is the repo id in the Yum config file and also the displayName<br />  if displayName is omitted. This id is also used as the unique identifier when checking for guest policy conflicts.</p></li><li><p><code>display_name</code> -<br />  (Optional)<br />  The display name of the repository.</p></li><li><p><code>base_url</code> -<br />  (Required)<br />  The location of the repository directory.</p></li><li><p><code>gpg_keys</code> -<br />  (Optional)<br />  URIs of GPG keys.</p></li></ul><p><a name=\"nested_zypper\"></a>The <code>zypper</code> block supports:</p><ul><li><p><code>id</code> -<br />  (Required)<br />  A one word, unique name for this repository. This is the repo id in the zypper config file and also the displayName<br />  if displayName is omitted. This id is also used as the unique identifier when checking for guest policy conflicts.</p></li><li><p><code>display_name</code> -<br />  (Optional)<br />  The display name of the repository.</p></li><li><p><code>base_url</code> -<br />  (Required)<br />  The location of the repository directory.</p></li><li><p><code>gpg_keys</code> -<br />  (Optional)<br />  URIs of GPG keys.</p></li></ul><p><a name=\"nested_goo\"></a>The <code>goo</code> block supports:</p><ul><li><p><code>name</code> -<br />  (Required)<br />  The name of the repository.</p></li><li><p><code>url</code> -<br />  (Required)<br />  The url of the repository.</p></li></ul><p><a name=\"nested_recipes\"></a>The <code>recipes</code> block supports:</p><ul><li><p><code>name</code> -<br />  (Required)<br />  Unique identifier for the recipe. Only one recipe with a given name is installed on an instance.<br />  Names are also used to identify resources which helps to determine whether guest policies have conflicts.<br />  This means that requests to create multiple recipes with the same name and version are rejected since they<br />  could potentially have conflicting assignments.</p></li><li><p><code>version</code> -<br />  (Optional)<br />  The version of this software recipe. Version can be up to 4 period separated numbers (e.g. 12.34.56.78).</p></li><li><p><code>artifacts</code> -<br />  (Optional)<br />  Resources available to be used in the steps in the recipe.<br />  Structure is <a href=\"#nested_artifacts\">documented below</a>.</p></li><li><p><code>install_steps</code> -<br />  (Optional)<br />  Actions to be taken for installing this recipe. On failure it stops executing steps and does not attempt another installation.<br />  Any steps taken (including partially completed steps) are not rolled back.<br />  Structure is <a href=\"#nested_install_steps\">documented below</a>.</p></li><li><p><code>update_steps</code> -<br />  (Optional)<br />  Actions to be taken for updating this recipe. On failure it stops executing steps and does not attempt another update for this recipe.<br />  Any steps taken (including partially completed steps) are not rolled back.<br />  Structure is <a href=\"#nested_update_steps\">documented below</a>.</p></li><li><p><code>desired_state</code> -<br />  (Optional)<br />  Default is INSTALLED. The desired state the agent should maintain for this recipe.<br />  INSTALLED: The software recipe is installed on the instance but won't be updated to new versions.<br />  INSTALLED_KEEP_UPDATED: The software recipe is installed on the instance. The recipe is updated to a higher version,<br />  if a higher version of the recipe is assigned to this instance.<br />  REMOVE: Remove is unsupported for software recipes and attempts to create or update a recipe to the REMOVE state is rejected.<br />  Default value is <code>INSTALLED</code>.<br />  Possible values are: <code>INSTALLED</code>, <code>UPDATED</code>, <code>REMOVED</code>.</p></li></ul><p><a name=\"nested_artifacts\"></a>The <code>artifacts</code> block supports:</p><ul><li><p><code>id</code> -<br />  (Required)<br />  Id of the artifact, which the installation and update steps of this recipe can reference.<br />  Artifacts in a recipe cannot have the same id.</p></li><li><p><code>allow_insecure</code> -<br />  (Optional)<br />  Defaults to false. When false, recipes are subject to validations based on the artifact type:<br />  Remote: A checksum must be specified, and only protocols with transport-layer security are permitted.<br />  GCS: An object generation number must be specified.</p></li><li><p><code>remote</code> -<br />  (Optional)<br />  A generic remote artifact.<br />  Structure is <a href=\"#nested_remote\">documented below</a>.</p></li><li><p><code>gcs</code> -<br />  (Optional)<br />  A Google Cloud Storage artifact.<br />  Structure is <a href=\"#nested_gcs\">documented below</a>.</p></li></ul><p><a name=\"nested_remote\"></a>The <code>remote</code> block supports:</p><ul><li><p><code>uri</code> -<br />  (Optional)<br />  URI from which to fetch the object. It should contain both the protocol and path following the format {protocol}://{location}.</p></li><li><p><code>check_sum</code> -<br />  (Optional)<br />  Must be provided if allowInsecure is false. SHA256 checksum in hex format, to compare to the checksum of the artifact.<br />  If the checksum is not empty and it doesn't match the artifact then the recipe installation fails before running any<br />  of the steps.</p></li></ul><p><a name=\"nested_gcs\"></a>The <code>gcs</code> block supports:</p><ul><li><p><code>bucket</code> -<br />  (Optional)<br />  Bucket of the Google Cloud Storage object. Given an example URL: https://storage.googleapis.com/my-bucket/foo/bar#1234567<br />  this value would be my-bucket.</p></li><li><p><code>object</code> -<br />  (Optional)<br />  Name of the Google Cloud Storage object. Given an example URL: https://storage.googleapis.com/my-bucket/foo/bar#1234567<br />  this value would be foo/bar.</p></li><li><p><code>generation</code> -<br />  (Optional)<br />  Must be provided if allowInsecure is false. Generation number of the Google Cloud Storage object.<br />  https://storage.googleapis.com/my-bucket/foo/bar#1234567 this value would be 1234567.</p></li></ul><p><a name=\"nested_install_steps\"></a>The <code>install_steps</code> block supports:</p><ul><li><p><code>file_copy</code> -<br />  (Optional)<br />  Copies a file onto the instance.<br />  Structure is <a href=\"#nested_file_copy\">documented below</a>.</p></li><li><p><code>archive_extraction</code> -<br />  (Optional)<br />  Extracts an archive into the specified directory.<br />  Structure is <a href=\"#nested_archive_extraction\">documented below</a>.</p></li><li><p><code>msi_installation</code> -<br />  (Optional)<br />  Installs an MSI file.<br />  Structure is <a href=\"#nested_msi_installation\">documented below</a>.</p></li><li><p><code>dpkg_installation</code> -<br />  (Optional)<br />  Installs a deb file via dpkg.<br />  Structure is <a href=\"#nested_dpkg_installation\">documented below</a>.</p></li><li><p><code>rpm_installation</code> -<br />  (Optional)<br />  Installs an rpm file via the rpm utility.<br />  Structure is <a href=\"#nested_rpm_installation\">documented below</a>.</p></li><li><p><code>file_exec</code> -<br />  (Optional)<br />  Executes an artifact or local file.<br />  Structure is <a href=\"#nested_file_exec\">documented below</a>.</p></li><li><p><code>script_run</code> -<br />  (Optional)<br />  Runs commands in a shell.<br />  Structure is <a href=\"#nested_script_run\">documented below</a>.</p></li></ul><p><a name=\"nested_file_copy\"></a>The <code>file_copy</code> block supports:</p><ul><li><p><code>artifact_id</code> -<br />  (Required)<br />  The id of the relevant artifact in the recipe.</p></li><li><p><code>destination</code> -<br />  (Required)<br />  The absolute path on the instance to put the file.</p></li><li><p><code>overwrite</code> -<br />  (Optional)<br />  Whether to allow this step to overwrite existing files.If this is false and the file already exists the file<br />  is not overwritten and the step is considered a success. Defaults to false.</p></li><li><p><code>permissions</code> -<br />  (Optional)<br />  Consists of three octal digits which represent, in order, the permissions of the owner, group, and other users<br />  for the file (similarly to the numeric mode used in the linux chmod utility). Each digit represents a three bit<br />  number with the 4 bit corresponding to the read permissions, the 2 bit corresponds to the write bit, and the one<br />  bit corresponds to the execute permission. Default behavior is 755.<br />  Below are some examples of permissions and their associated values:<br />  read, write, and execute: 7 read and execute: 5 read and write: 6 read only: 4</p></li></ul><p><a name=\"nested_archive_extraction\"></a>The <code>archive_extraction</code> block supports:</p><ul><li><p><code>artifact_id</code> -<br />  (Required)<br />  The id of the relevant artifact in the recipe.</p></li><li><p><code>destination</code> -<br />  (Optional)<br />  Directory to extract archive to. Defaults to / on Linux or C:\\ on Windows.</p></li><li><p><code>type</code> -<br />  (Required)<br />  The type of the archive to extract.<br />  Possible values are: <code>TAR</code>, <code>TAR_GZIP</code>, <code>TAR_BZIP</code>, <code>TAR_LZMA</code>, <code>TAR_XZ</code>, <code>ZIP</code>.</p></li></ul><p><a name=\"nested_msi_installation\"></a>The <code>msi_installation</code> block supports:</p><ul><li><p><code>artifact_id</code> -<br />  (Required)<br />  The id of the relevant artifact in the recipe.</p></li><li><p><code>flags</code> -<br />  (Optional)<br />  The flags to use when installing the MSI. Defaults to the install flag.</p></li><li><p><code>allowed_exit_codes</code> -<br />  (Optional)<br />  Return codes that indicate that the software installed or updated successfully. Behaviour defaults to [0]</p></li></ul><p><a name=\"nested_dpkg_installation\"></a>The <code>dpkg_installation</code> block supports:</p><ul><li><code>artifact_id</code> -<br />  (Required)<br />  The id of the relevant artifact in the recipe.</li></ul><p><a name=\"nested_rpm_installation\"></a>The <code>rpm_installation</code> block supports:</p><ul><li><code>artifact_id</code> -<br />  (Required)<br />  The id of the relevant artifact in the recipe.</li></ul><p><a name=\"nested_file_exec\"></a>The <code>file_exec</code> block supports:</p><ul><li><p><code>args</code> -<br />  (Optional)<br />  Arguments to be passed to the provided executable.</p></li><li><p><code>allowed_exit_codes</code> -<br />  (Optional)<br />  A list of possible return values that the program can return to indicate a success. Defaults to [0].</p></li><li><p><code>artifact_id</code> -<br />  (Optional)<br />  The id of the relevant artifact in the recipe.</p></li><li><p><code>local_path</code> -<br />  (Optional)<br />  The absolute path of the file on the local filesystem.</p></li></ul><p><a name=\"nested_script_run\"></a>The <code>script_run</code> block supports:</p><ul><li><p><code>script</code> -<br />  (Required)<br />  The shell script to be executed.</p></li><li><p><code>allowed_exit_codes</code> -<br />  (Optional)<br />  Return codes that indicate that the software installed or updated successfully. Behaviour defaults to [0]</p></li><li><p><code>interpreter</code> -<br />  (Optional)<br />  The script interpreter to use to run the script. If no interpreter is specified the script is executed directly,<br />  which likely only succeed for scripts with shebang lines.<br />  Possible values are: <code>SHELL</code>, <code>POWERSHELL</code>.</p></li></ul><p><a name=\"nested_update_steps\"></a>The <code>update_steps</code> block supports:</p><ul><li><p><code>file_copy</code> -<br />  (Optional)<br />  Copies a file onto the instance.<br />  Structure is <a href=\"#nested_file_copy\">documented below</a>.</p></li><li><p><code>archive_extraction</code> -<br />  (Optional)<br />  Extracts an archive into the specified directory.<br />  Structure is <a href=\"#nested_archive_extraction\">documented below</a>.</p></li><li><p><code>msi_installation</code> -<br />  (Optional)<br />  Installs an MSI file.<br />  Structure is <a href=\"#nested_msi_installation\">documented below</a>.</p></li><li><p><code>dpkg_installation</code> -<br />  (Optional)<br />  Installs a deb file via dpkg.<br />  Structure is <a href=\"#nested_dpkg_installation\">documented below</a>.</p></li><li><p><code>rpm_installation</code> -<br />  (Optional)<br />  Installs an rpm file via the rpm utility.<br />  Structure is <a href=\"#nested_rpm_installation\">documented below</a>.</p></li><li><p><code>file_exec</code> -<br />  (Optional)<br />  Executes an artifact or local file.<br />  Structure is <a href=\"#nested_file_exec\">documented below</a>.</p></li><li><p><code>script_run</code> -<br />  (Optional)<br />  Runs commands in a shell.<br />  Structure is <a href=\"#nested_script_run\">documented below</a>.</p></li></ul><p><a name=\"nested_file_copy\"></a>The <code>file_copy</code> block supports:</p><ul><li><p><code>artifact_id</code> -<br />  (Required)<br />  The id of the relevant artifact in the recipe.</p></li><li><p><code>destination</code> -<br />  (Required)<br />  The absolute path on the instance to put the file.</p></li><li><p><code>overwrite</code> -<br />  (Optional)<br />  Whether to allow this step to overwrite existing files.If this is false and the file already exists the file<br />  is not overwritten and the step is considered a success. Defaults to false.</p></li><li><p><code>permissions</code> -<br />  (Optional)<br />  Consists of three octal digits which represent, in order, the permissions of the owner, group, and other users<br />  for the file (similarly to the numeric mode used in the linux chmod utility). Each digit represents a three bit<br />  number with the 4 bit corresponding to the read permissions, the 2 bit corresponds to the write bit, and the one<br />  bit corresponds to the execute permission. Default behavior is 755.<br />  Below are some examples of permissions and their associated values:<br />  read, write, and execute: 7 read and execute: 5 read and write: 6 read only: 4</p></li></ul><p><a name=\"nested_archive_extraction\"></a>The <code>archive_extraction</code> block supports:</p><ul><li><p><code>artifact_id</code> -<br />  (Required)<br />  The id of the relevant artifact in the recipe.</p></li><li><p><code>destination</code> -<br />  (Optional)<br />  Directory to extract archive to. Defaults to / on Linux or C:\\ on Windows.</p></li><li><p><code>type</code> -<br />  (Required)<br />  The type of the archive to extract.<br />  Possible values are: <code>TAR</code>, <code>TAR_GZIP</code>, <code>TAR_BZIP</code>, <code>TAR_LZMA</code>, <code>TAR_XZ</code>, <code>ZIP</code>.</p></li></ul><p><a name=\"nested_msi_installation\"></a>The <code>msi_installation</code> block supports:</p><ul><li><p><code>artifact_id</code> -<br />  (Required)<br />  The id of the relevant artifact in the recipe.</p></li><li><p><code>flags</code> -<br />  (Optional)<br />  The flags to use when installing the MSI. Defaults to the install flag.</p></li><li><p><code>allowed_exit_codes</code> -<br />  (Optional)<br />  Return codes that indicate that the software installed or updated successfully. Behaviour defaults to [0]</p></li></ul><p><a name=\"nested_dpkg_installation\"></a>The <code>dpkg_installation</code> block supports:</p><ul><li><code>artifact_id</code> -<br />  (Required)<br />  The id of the relevant artifact in the recipe.</li></ul><p><a name=\"nested_rpm_installation\"></a>The <code>rpm_installation</code> block supports:</p><ul><li><code>artifact_id</code> -<br />  (Required)<br />  The id of the relevant artifact in the recipe.</li></ul><p><a name=\"nested_file_exec\"></a>The <code>file_exec</code> block supports:</p><ul><li><p><code>args</code> -<br />  (Optional)<br />  Arguments to be passed to the provided executable.</p></li><li><p><code>allowed_exit_codes</code> -<br />  (Optional)<br />  A list of possible return values that the program can return to indicate a success. Defaults to [0].</p></li><li><p><code>artifact_id</code> -<br />  (Optional)<br />  The id of the relevant artifact in the recipe.</p></li><li><p><code>local_path</code> -<br />  (Optional)<br />  The absolute path of the file on the local filesystem.</p></li></ul><p><a name=\"nested_script_run\"></a>The <code>script_run</code> block supports:</p><ul><li><p><code>script</code> -<br />  (Required)<br />  The shell script to be executed.</p></li><li><p><code>allowed_exit_codes</code> -<br />  (Optional)<br />  Return codes that indicate that the software installed or updated successfully. Behaviour defaults to [0]</p></li><li><p><code>interpreter</code> -<br />  (Optional)<br />  The script interpreter to use to run the script. If no interpreter is specified the script is executed directly,<br />  which likely only succeed for scripts with shebang lines.<br />  Possible values are: <code>SHELL</code>, <code>POWERSHELL</code>.</p></li></ul>", "attributes-reference": "<h2 id=\"attributes-reference\">Attributes Reference</h2><p>In addition to the arguments listed above, the following computed attributes are exported:</p><ul><li><p><code>id</code> - an identifier for the resource with format <code>projects/{{project}}/guestPolicies/{{guest_policy_id}}</code></p></li><li><p><code>name</code> -<br />  Unique name of the resource in this project using one of the following forms: projects/{project_number}/guestPolicies/{guestPolicyId}.</p></li><li><p><code>create_time</code> -<br />  Time this guest policy was created. A timestamp in RFC3339 UTC \"Zulu\" format, accurate to nanoseconds.<br />  Example: \"2014-10-02T15:01:23.045123456Z\".</p></li><li><p><code>update_time</code> -<br />  Last time this guest policy was updated. A timestamp in RFC3339 UTC \"Zulu\" format, accurate to nanoseconds.<br />  Example: \"2014-10-02T15:01:23.045123456Z\".</p></li></ul>", "timeouts": "<h2 id=\"timeouts\">Timeouts</h2><p>This resource provides the following<br /><a href=\"https://developer.hashicorp.com/terraform/plugin/sdkv2/resources/retries-and-customizable-timeouts\">Timeouts</a> configuration options:</p><ul><li><code>create</code> - Default is 20 minutes.</li><li><code>update</code> - Default is 20 minutes.</li><li><code>delete</code> - Default is 20 minutes.</li></ul>", "import": "<h2 id=\"import\">Import</h2><p>GuestPolicies can be imported using any of these accepted formats:</p><p><code>$ terraform import google_os_config_guest_policies.default projects/{{project}}/guestPolicies/{{guest_policy_id}}$ terraform import google_os_config_guest_policies.default {{project}}/{{guest_policy_id}}$ terraform import google_os_config_guest_policies.default {{guest_policy_id}}</code></p>", "user-project-overrides": "<h2 id=\"user-project-overrides\">User Project Overrides</h2><p>This resource supports <a href=\"https://registry.terraform.io/providers/hashicorp/google/latest/docs/guides/provider_reference#user_project_override\">User Project Overrides</a>.</p>", "description": "<h1 id=\"google_os_config_guest_policies\">google_os_config_guest_policies</h1><p>An OS Config resource representing a guest configuration policy. These policies represent<br />the desired state for VM instance guest environments including packages to install or remove,<br />package repository configurations, and software to install.</p><p>~&gt; <strong>Warning:</strong> This resource is in beta, and should be used with the terraform-provider-google-beta provider.<br />See <a href=\"https://terraform.io/docs/providers/google/guides/provider_versions.html\">Provider Versions</a> for more details on beta resources.</p><p>To get more information about GuestPolicies, see:</p><ul><li><a href=\"https://cloud.google.com/compute/docs/osconfig/rest\">API documentation</a></li><li>How-to Guides<ul><li><a href=\"https://cloud.google.com/compute/docs/os-config-management\">Official Documentation</a></li></ul></li></ul><div class = \"oics-button\" style=\"float: right; margin: 0 0 -15px\">  <a href=\"https://console.cloud.google.com/cloudshell/open?cloudshell_git_repo=https%3A%2F%2Fgithub.com%2Fterraform-google-modules%2Fdocs-examples.git&cloudshell_working_dir=os_config_guest_policies_basic&cloudshell_image=gcr.io%2Fcloudshell-images%2Fcloudshell%3Alatest&open_in_editor=main.tf&cloudshell_print=.%2Fmotd&cloudshell_tutorial=.%2Ftutorial.md\" target=\"_blank\">    <img alt=\"Open in Cloud Shell\" src=\"//gstatic.com/cloudssh/images/open-btn.svg\" style=\"max-height: 44px; margin: 32px auto; max-width: 100%;\">  </a></div>"}