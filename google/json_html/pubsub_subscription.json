{"": "<h1 id=\"-_2\">----------------------------------------------------------------------------</h1><p>subcategory: \"Cloud Pub/Sub\"<br />description: |-<br />  A named resource representing the stream of messages from a single,<br />  specific topic, to be delivered to the subscribing application.</p><hr />", "auto-generated-code-type-mmv1": "<h1 id=\"auto-generated-code-type-mmv1\"><strong><em>     AUTO GENERATED CODE    </em></strong>    Type: MMv1     ***</h1>", "this-file-is-automatically-generated-by-magic-modules-and-manual": "<h1 id=\"this-file-is-automatically-generated-by-magic-modules-and-manual\">This file is automatically generated by Magic Modules and manual</h1>", "changes-will-be-clobbered-when-the-file-is-regenerated": "<h1 id=\"changes-will-be-clobbered-when-the-file-is-regenerated\">changes will be clobbered when the file is regenerated.</h1>", "please-read-more-about-how-to-change-this-file-in": "<h1 id=\"please-read-more-about-how-to-change-this-file-in\">Please read more about how to change this file in</h1>", "github-contributing-md": "<h1 id=\"githubcontributingmd\">.github/CONTRIBUTING.md.</h1>", "google-pubsub-subscription": "<h1 id=\"google_pubsub_subscription\">google_pubsub_subscription</h1><p>A named resource representing the stream of messages from a single,<br />specific topic, to be delivered to the subscribing application.</p><p>To get more information about Subscription, see:</p><ul><li><a href=\"https://cloud.google.com/pubsub/docs/reference/rest/v1/projects.subscriptions\">API documentation</a></li><li>How-to Guides<ul><li><a href=\"https://cloud.google.com/pubsub/docs/admin#managing_subscriptions\">Managing Subscriptions</a></li></ul></li></ul><p>~&gt; <strong>Note:</strong> You can retrieve the email of the Google Managed Pub/Sub Service Account used for forwarding<br />by using the <code>google_project_service_identity</code> resource.</p><div class = \"oics-button\" style=\"float: right; margin: 0 0 -15px\">  <a href=\"https://console.cloud.google.com/cloudshell/open?cloudshell_git_repo=https%3A%2F%2Fgithub.com%2Fterraform-google-modules%2Fdocs-examples.git&cloudshell_working_dir=pubsub_subscription_push&cloudshell_image=gcr.io%2Fcloudshell-images%2Fcloudshell%3Alatest&open_in_editor=main.tf&cloudshell_print=.%2Fmotd&cloudshell_tutorial=.%2Ftutorial.md\" target=\"_blank\">    <img alt=\"Open in Cloud Shell\" src=\"//gstatic.com/cloudssh/images/open-btn.svg\" style=\"max-height: 44px; margin: 32px auto; max-width: 100%;\">  </a></div>", "example-usage---pubsub-subscription-push": "<h2 id=\"example-usage-pubsub-subscription-push\">Example Usage - Pubsub Subscription Push</h2><p><br />resource \"google_pubsub_topic\" \"example\" {<br />  name = \"example-topic\"<br />}</p><p>resource \"google_pubsub_subscription\" \"example\" {<br />  name  = \"example-subscription\"<br />  topic = google_pubsub_topic.example.name</p><p>ack_deadline_seconds = 20</p><p>labels = {<br />    foo = \"bar\"<br />  }</p><p>push_config {<br />    push_endpoint = \"https://example.com/push\"</p><pre><code>attributes = {  x-goog-version = \"v1\"}</code></pre><p>}<br />}<br /></p><div class = \"oics-button\" style=\"float: right; margin: 0 0 -15px\">  <a href=\"https://console.cloud.google.com/cloudshell/open?cloudshell_git_repo=https%3A%2F%2Fgithub.com%2Fterraform-google-modules%2Fdocs-examples.git&cloudshell_working_dir=pubsub_subscription_pull&cloudshell_image=gcr.io%2Fcloudshell-images%2Fcloudshell%3Alatest&open_in_editor=main.tf&cloudshell_print=.%2Fmotd&cloudshell_tutorial=.%2Ftutorial.md\" target=\"_blank\">    <img alt=\"Open in Cloud Shell\" src=\"//gstatic.com/cloudssh/images/open-btn.svg\" style=\"max-height: 44px; margin: 32px auto; max-width: 100%;\">  </a></div>", "example-usage---pubsub-subscription-pull": "<h2 id=\"example-usage-pubsub-subscription-pull\">Example Usage - Pubsub Subscription Pull</h2><p><br />resource \"google_pubsub_topic\" \"example\" {<br />  name = \"example-topic\"<br />}</p><p>resource \"google_pubsub_subscription\" \"example\" {<br />  name  = \"example-subscription\"<br />  topic = google_pubsub_topic.example.name</p><p>labels = {<br />    foo = \"bar\"<br />  }</p><p># 20 minutes<br />  message_retention_duration = \"1200s\"<br />  retain_acked_messages      = true</p><p>ack_deadline_seconds = 20</p><p>expiration_policy {<br />    ttl = \"300000.5s\"<br />  }<br />  retry_policy {<br />    minimum_backoff = \"10s\"<br />  }</p><p>enable_message_ordering    = false<br />}<br /></p>", "example-usage---pubsub-subscription-different-project": "<h2 id=\"example-usage-pubsub-subscription-different-project\">Example Usage - Pubsub Subscription Different Project</h2><p><br />resource \"google_pubsub_topic\" \"example\" {<br />  project = \"topic-project\"<br />  name    = \"example-topic\"<br />}</p><p>resource \"google_pubsub_subscription\" \"example\" {<br />  project = \"subscription-project\"<br />  name    = \"example-subscription\"<br />  topic   = google_pubsub_topic.example.name<br />}<br /></p><div class = \"oics-button\" style=\"float: right; margin: 0 0 -15px\">  <a href=\"https://console.cloud.google.com/cloudshell/open?cloudshell_git_repo=https%3A%2F%2Fgithub.com%2Fterraform-google-modules%2Fdocs-examples.git&cloudshell_working_dir=pubsub_subscription_dead_letter&cloudshell_image=gcr.io%2Fcloudshell-images%2Fcloudshell%3Alatest&open_in_editor=main.tf&cloudshell_print=.%2Fmotd&cloudshell_tutorial=.%2Ftutorial.md\" target=\"_blank\">    <img alt=\"Open in Cloud Shell\" src=\"//gstatic.com/cloudssh/images/open-btn.svg\" style=\"max-height: 44px; margin: 32px auto; max-width: 100%;\">  </a></div>", "example-usage---pubsub-subscription-dead-letter": "<h2 id=\"example-usage-pubsub-subscription-dead-letter\">Example Usage - Pubsub Subscription Dead Letter</h2><p><br />resource \"google_pubsub_topic\" \"example\" {<br />  name = \"example-topic\"<br />}</p><p>resource \"google_pubsub_topic\" \"example_dead_letter\" {<br />  name = \"example-topic-dead-letter\"<br />}</p><p>resource \"google_pubsub_subscription\" \"example\" {<br />  name  = \"example-subscription\"<br />  topic = google_pubsub_topic.example.name</p><p>dead_letter_policy {<br />    dead_letter_topic = google_pubsub_topic.example_dead_letter.id<br />    max_delivery_attempts = 10<br />  }<br />}<br /></p><div class = \"oics-button\" style=\"float: right; margin: 0 0 -15px\">  <a href=\"https://console.cloud.google.com/cloudshell/open?cloudshell_git_repo=https%3A%2F%2Fgithub.com%2Fterraform-google-modules%2Fdocs-examples.git&cloudshell_working_dir=pubsub_subscription_push_bq&cloudshell_image=gcr.io%2Fcloudshell-images%2Fcloudshell%3Alatest&open_in_editor=main.tf&cloudshell_print=.%2Fmotd&cloudshell_tutorial=.%2Ftutorial.md\" target=\"_blank\">    <img alt=\"Open in Cloud Shell\" src=\"//gstatic.com/cloudssh/images/open-btn.svg\" style=\"max-height: 44px; margin: 32px auto; max-width: 100%;\">  </a></div>", "example-usage---pubsub-subscription-push-bq": "<h2 id=\"example-usage-pubsub-subscription-push-bq\">Example Usage - Pubsub Subscription Push Bq</h2><p><br />resource \"google_pubsub_topic\" \"example\" {<br />  name = \"example-topic\"<br />}</p><p>resource \"google_pubsub_subscription\" \"example\" {<br />  name  = \"example-subscription\"<br />  topic = google_pubsub_topic.example.name</p><p>bigquery_config {<br />    table = \"${google_bigquery_table.test.project}.${google_bigquery_table.test.dataset_id}.${google_bigquery_table.test.table_id}\"<br />  }</p><p>depends_on = [google_project_iam_member.viewer, google_project_iam_member.editor]<br />}</p><p>data \"google_project\" \"project\" {<br />}</p><p>resource \"google_project_iam_member\" \"viewer\" {<br />  project = data.google_project.project.project_id<br />  role   = \"roles/bigquery.metadataViewer\"<br />  member = \"serviceAccount:service-${data.google_project.project.number}@gcp-sa-pubsub.iam.gserviceaccount.com\"<br />}</p><p>resource \"google_project_iam_member\" \"editor\" {<br />  project = data.google_project.project.project_id<br />  role   = \"roles/bigquery.dataEditor\"<br />  member = \"serviceAccount:service-${data.google_project.project.number}@gcp-sa-pubsub.iam.gserviceaccount.com\"<br />}</p><p>resource \"google_bigquery_dataset\" \"test\" {<br />  dataset_id = \"example_dataset\"<br />}</p><p>resource \"google_bigquery_table\" \"test\" {<br />  deletion_protection = false<br />  table_id   = \"example_table\"<br />  dataset_id = google_bigquery_dataset.test.dataset_id</p><p>schema = &lt;&lt;EOF<br />[<br />  {<br />    \"name\": \"data\",<br />    \"type\": \"STRING\",<br />    \"mode\": \"NULLABLE\",<br />    \"description\": \"The data\"<br />  }<br />]<br />EOF<br />}<br /></p><div class = \"oics-button\" style=\"float: right; margin: 0 0 -15px\">  <a href=\"https://console.cloud.google.com/cloudshell/open?cloudshell_git_repo=https%3A%2F%2Fgithub.com%2Fterraform-google-modules%2Fdocs-examples.git&cloudshell_working_dir=pubsub_subscription_push_cloudstorage&cloudshell_image=gcr.io%2Fcloudshell-images%2Fcloudshell%3Alatest&open_in_editor=main.tf&cloudshell_print=.%2Fmotd&cloudshell_tutorial=.%2Ftutorial.md\" target=\"_blank\">    <img alt=\"Open in Cloud Shell\" src=\"//gstatic.com/cloudssh/images/open-btn.svg\" style=\"max-height: 44px; margin: 32px auto; max-width: 100%;\">  </a></div>", "example-usage---pubsub-subscription-push-cloudstorage": "<h2 id=\"example-usage-pubsub-subscription-push-cloudstorage\">Example Usage - Pubsub Subscription Push Cloudstorage</h2><p><br />resource \"google_storage_bucket\" \"example\" {<br />  name  = \"example-bucket\"<br />  location = \"US\"<br />  uniform_bucket_level_access = true<br />}</p><p>resource \"google_pubsub_topic\" \"example\" {<br />  name = \"example-topic\"<br />}</p><p>resource \"google_pubsub_subscription\" \"example\" {<br />  name  = \"example-subscription\"<br />  topic = google_pubsub_topic.example.name</p><p>cloud_storage_config {<br />    bucket = google_storage_bucket.example.name</p><pre><code>filename_prefix = \"pre-\"filename_suffix = \"-%{random_suffix}\"max_bytes = 1000max_duration = \"300s\"</code></pre><p>}<br />  depends_on = [ <br />    google_storage_bucket.example,<br />    google_storage_bucket_iam_member.admin,<br />  ]<br />}</p><p>data \"google_project\" \"project\" {<br />}</p><p>resource \"google_storage_bucket_iam_member\" \"admin\" {<br />  bucket = google_storage_bucket.example.name<br />  role   = \"roles/storage.admin\"<br />  member = \"serviceAccount:service-${data.google_project.project.number}@gcp-sa-pubsub.iam.gserviceaccount.com\"<br />}<br /></p><div class = \"oics-button\" style=\"float: right; margin: 0 0 -15px\">  <a href=\"https://console.cloud.google.com/cloudshell/open?cloudshell_git_repo=https%3A%2F%2Fgithub.com%2Fterraform-google-modules%2Fdocs-examples.git&cloudshell_working_dir=pubsub_subscription_push_cloudstorage_avro&cloudshell_image=gcr.io%2Fcloudshell-images%2Fcloudshell%3Alatest&open_in_editor=main.tf&cloudshell_print=.%2Fmotd&cloudshell_tutorial=.%2Ftutorial.md\" target=\"_blank\">    <img alt=\"Open in Cloud Shell\" src=\"//gstatic.com/cloudssh/images/open-btn.svg\" style=\"max-height: 44px; margin: 32px auto; max-width: 100%;\">  </a></div>", "example-usage---pubsub-subscription-push-cloudstorage-avro": "<h2 id=\"example-usage-pubsub-subscription-push-cloudstorage-avro\">Example Usage - Pubsub Subscription Push Cloudstorage Avro</h2><p><br />resource \"google_storage_bucket\" \"example\" {<br />  name  = \"example-bucket\"<br />  location = \"US\"<br />  uniform_bucket_level_access = true<br />}</p><p>resource \"google_pubsub_topic\" \"example\" {<br />  name = \"example-topic\"<br />}</p><p>resource \"google_pubsub_subscription\" \"example\" {<br />  name  = \"example-subscription\"<br />  topic = google_pubsub_topic.example.name</p><p>cloud_storage_config {<br />    bucket = google_storage_bucket.example.name</p><pre><code>filename_prefix = \"pre-\"filename_suffix = \"-%{random_suffix}\"max_bytes = 1000max_duration = \"300s\"avro_config {  write_metadata = true}</code></pre><p>}<br />  depends_on = [ <br />    google_storage_bucket.example,<br />    google_storage_bucket_iam_member.admin,<br />  ]<br />}</p><p>data \"google_project\" \"project\" {<br />}</p><p>resource \"google_storage_bucket_iam_member\" \"admin\" {<br />  bucket = google_storage_bucket.example.name<br />  role   = \"roles/storage.admin\"<br />  member = \"serviceAccount:service-${data.google_project.project.number}@gcp-sa-pubsub.iam.gserviceaccount.com\"<br />}<br /></p>", "argument-reference": "<h2 id=\"argument-reference\">Argument Reference</h2><p>The following arguments are supported:</p><ul><li><p><code>name</code> -<br />  (Required)<br />  Name of the subscription.</p></li><li><p><code>topic</code> -<br />  (Required)<br />  A reference to a Topic resource.</p></li></ul><hr /><ul><li><p><code>labels</code> -<br />  (Optional)<br />  A set of key/value label pairs to assign to this Subscription.</p></li><li><p><code>bigquery_config</code> -<br />  (Optional)<br />  If delivery to BigQuery is used with this subscription, this field is used to configure it.<br />  Either pushConfig, bigQueryConfig or cloudStorageConfig can be set, but not combined.<br />  If all three are empty, then the subscriber will pull and ack messages using API methods.<br />  Structure is <a href=\"#nested_bigquery_config\">documented below</a>.</p></li><li><p><code>cloud_storage_config</code> -<br />  (Optional)<br />  If delivery to Cloud Storage is used with this subscription, this field is used to configure it.<br />  Either pushConfig, bigQueryConfig or cloudStorageConfig can be set, but not combined.<br />  If all three are empty, then the subscriber will pull and ack messages using API methods.<br />  Structure is <a href=\"#nested_cloud_storage_config\">documented below</a>.</p></li><li><p><code>push_config</code> -<br />  (Optional)<br />  If push delivery is used with this subscription, this field is used to<br />  configure it. An empty pushConfig signifies that the subscriber will<br />  pull and ack messages using API methods.<br />  Structure is <a href=\"#nested_push_config\">documented below</a>.</p></li><li><p><code>ack_deadline_seconds</code> -<br />  (Optional)<br />  This value is the maximum time after a subscriber receives a message<br />  before the subscriber should acknowledge the message. After message<br />  delivery but before the ack deadline expires and before the message is<br />  acknowledged, it is an outstanding message and will not be delivered<br />  again during that time (on a best-effort basis).<br />  For pull subscriptions, this value is used as the initial value for<br />  the ack deadline. To override this value for a given message, call<br />  subscriptions.modifyAckDeadline with the corresponding ackId if using<br />  pull. The minimum custom deadline you can specify is 10 seconds. The<br />  maximum custom deadline you can specify is 600 seconds (10 minutes).<br />  If this parameter is 0, a default value of 10 seconds is used.<br />  For push delivery, this value is also used to set the request timeout<br />  for the call to the push endpoint.<br />  If the subscriber never acknowledges the message, the Pub/Sub system<br />  will eventually redeliver the message.</p></li><li><p><code>message_retention_duration</code> -<br />  (Optional)<br />  How long to retain unacknowledged messages in the subscription's<br />  backlog, from the moment a message is published. If<br />  retain_acked_messages is true, then this also configures the retention<br />  of acknowledged messages, and thus configures how far back in time a<br />  subscriptions.seek can be done. Defaults to 7 days. Cannot be more<br />  than 7 days (<code>\"604800s\"</code>) or less than 10 minutes (<code>\"600s\"</code>).<br />  A duration in seconds with up to nine fractional digits, terminated<br />  by 's'. Example: <code>\"600.5s\"</code>.</p></li><li><p><code>retain_acked_messages</code> -<br />  (Optional)<br />  Indicates whether to retain acknowledged messages. If <code>true</code>, then<br />  messages are not expunged from the subscription's backlog, even if<br />  they are acknowledged, until they fall out of the<br />  messageRetentionDuration window.</p></li><li><p><code>expiration_policy</code> -<br />  (Optional)<br />  A policy that specifies the conditions for this subscription's expiration.<br />  A subscription is considered active as long as any connected subscriber<br />  is successfully consuming messages from the subscription or is issuing<br />  operations on the subscription. If expirationPolicy is not set, a default<br />  policy with ttl of 31 days will be used.  If it is set but ttl is \"\", the<br />  resource never expires.  The minimum allowed value for expirationPolicy.ttl<br />  is 1 day.<br />  Structure is <a href=\"#nested_expiration_policy\">documented below</a>.</p></li><li><p><code>filter</code> -<br />  (Optional)<br />  The subscription only delivers the messages that match the filter.<br />  Pub/Sub automatically acknowledges the messages that don't match the filter. You can filter messages<br />  by their attributes. The maximum length of a filter is 256 bytes. After creating the subscription,<br />  you can't modify the filter.</p></li><li><p><code>dead_letter_policy</code> -<br />  (Optional)<br />  A policy that specifies the conditions for dead lettering messages in<br />  this subscription. If dead_letter_policy is not set, dead lettering<br />  is disabled.<br />  The Cloud Pub/Sub service account associated with this subscription's<br />  parent project (i.e.,<br />  service-{project_number}@gcp-sa-pubsub.iam.gserviceaccount.com) must have<br />  permission to Acknowledge() messages on this subscription.<br />  Structure is <a href=\"#nested_dead_letter_policy\">documented below</a>.</p></li><li><p><code>retry_policy</code> -<br />  (Optional)<br />  A policy that specifies how Pub/Sub retries message delivery for this subscription.<br />  If not set, the default retry policy is applied. This generally implies that messages will be retried as soon as possible for healthy subscribers.<br />  RetryPolicy will be triggered on NACKs or acknowledgement deadline exceeded events for a given message<br />  Structure is <a href=\"#nested_retry_policy\">documented below</a>.</p></li><li><p><code>enable_message_ordering</code> -<br />  (Optional)<br />  If <code>true</code>, messages published with the same orderingKey in PubsubMessage will be delivered to<br />  the subscribers in the order in which they are received by the Pub/Sub system. Otherwise, they<br />  may be delivered in any order.</p></li><li><p><code>enable_exactly_once_delivery</code> -<br />  (Optional)<br />  If <code>true</code>, Pub/Sub provides the following guarantees for the delivery<br />  of a message with a given value of messageId on this Subscriptions':</p></li><li>The message sent to a subscriber is guaranteed not to be resent before the message's acknowledgement deadline expires.</li><li><p>An acknowledged message will not be resent to a subscriber.<br />  Note that subscribers may still receive multiple copies of a message when <code>enable_exactly_once_delivery</code><br />  is true if the message was published multiple times by a publisher client. These copies are considered distinct by Pub/Sub and have distinct messageId values</p></li><li><p><code>project</code> - (Optional) The ID of the project in which the resource belongs.<br />    If it is not provided, the provider project is used.</p></li></ul><p><a name=\"nested_bigquery_config\"></a>The <code>bigquery_config</code> block supports:</p><ul><li><p><code>table</code> -<br />  (Required)<br />  The name of the table to which to write data, of the form {projectId}:{datasetId}.{tableId}</p></li><li><p><code>use_topic_schema</code> -<br />  (Optional)<br />  When true, use the topic's schema as the columns to write to in BigQuery, if it exists.</p></li><li><p><code>write_metadata</code> -<br />  (Optional)<br />  When true, write the subscription name, messageId, publishTime, attributes, and orderingKey to additional columns in the table.<br />  The subscription name, messageId, and publishTime fields are put in their own columns while all other message properties (other than data) are written to a JSON object in the attributes column.</p></li><li><p><code>drop_unknown_fields</code> -<br />  (Optional)<br />  When true and useTopicSchema is true, any fields that are a part of the topic schema that are not part of the BigQuery table schema are dropped when writing to BigQuery.<br />  Otherwise, the schemas must be kept in sync and any messages with extra fields are not written and remain in the subscription's backlog.</p></li></ul><p><a name=\"nested_cloud_storage_config\"></a>The <code>cloud_storage_config</code> block supports:</p><ul><li><p><code>bucket</code> -<br />  (Required)<br />  User-provided name for the Cloud Storage bucket. The bucket must be created by the user. The bucket name must be without any prefix like \"gs://\".</p></li><li><p><code>filename_prefix</code> -<br />  (Optional)<br />  User-provided prefix for Cloud Storage filename.</p></li><li><p><code>filename_suffix</code> -<br />  (Optional)<br />  User-provided suffix for Cloud Storage filename. Must not end in \"/\".</p></li><li><p><code>max_duration</code> -<br />  (Optional)<br />  The maximum duration that can elapse before a new Cloud Storage file is created. Min 1 minute, max 10 minutes, default 5 minutes.<br />  May not exceed the subscription's acknowledgement deadline.<br />  A duration in seconds with up to nine fractional digits, ending with 's'. Example: \"3.5s\".</p></li><li><p><code>max_bytes</code> -<br />  (Optional)<br />  The maximum bytes that can be written to a Cloud Storage file before a new file is created. Min 1 KB, max 10 GiB.<br />  The maxBytes limit may be exceeded in cases where messages are larger than the limit.</p></li><li><p><code>state</code> -<br />  (Output)<br />  An output-only field that indicates whether or not the subscription can receive messages.</p></li><li><p><code>avro_config</code> -<br />  (Optional)<br />  If set, message data will be written to Cloud Storage in Avro format.<br />  Structure is <a href=\"#nested_avro_config\">documented below</a>.</p></li></ul><p><a name=\"nested_avro_config\"></a>The <code>avro_config</code> block supports:</p><ul><li><code>write_metadata</code> -<br />  (Optional)<br />  When true, write the subscription name, messageId, publishTime, attributes, and orderingKey as additional fields in the output.</li></ul><p><a name=\"nested_push_config\"></a>The <code>push_config</code> block supports:</p><ul><li><p><code>oidc_token</code> -<br />  (Optional)<br />  If specified, Pub/Sub will generate and attach an OIDC JWT token as<br />  an Authorization header in the HTTP request for every pushed message.<br />  Structure is <a href=\"#nested_oidc_token\">documented below</a>.</p></li><li><p><code>push_endpoint</code> -<br />  (Required)<br />  A URL locating the endpoint to which messages should be pushed.<br />  For example, a Webhook endpoint might use<br />  \"https://example.com/push\".</p></li><li><p><code>attributes</code> -<br />  (Optional)<br />  Endpoint configuration attributes.<br />  Every endpoint has a set of API supported attributes that can<br />  be used to control different aspects of the message delivery.<br />  The currently supported attribute is x-goog-version, which you<br />  can use to change the format of the pushed message. This<br />  attribute indicates the version of the data expected by<br />  the endpoint. This controls the shape of the pushed message<br />  (i.e., its fields and metadata). The endpoint version is<br />  based on the version of the Pub/Sub API.<br />  If not present during the subscriptions.create call,<br />  it will default to the version of the API used to make<br />  such call. If not present during a subscriptions.modifyPushConfig<br />  call, its value will not be changed. subscriptions.get<br />  calls will always return a valid version, even if the<br />  subscription was created without this attribute.<br />  The possible values for this attribute are:</p></li><li>v1beta1: uses the push format defined in the v1beta1 Pub/Sub API.</li><li><p>v1 or v1beta2: uses the push format defined in the v1 Pub/Sub API.</p></li><li><p><code>no_wrapper</code> -<br />  (Optional)<br />  When set, the payload to the push endpoint is not wrapped.Sets the<br /><code>data</code> field as the HTTP body for delivery.<br />  Structure is <a href=\"#nested_no_wrapper\">documented below</a>.</p></li></ul><p><a name=\"nested_oidc_token\"></a>The <code>oidc_token</code> block supports:</p><ul><li><p><code>service_account_email</code> -<br />  (Required)<br />  Service account email to be used for generating the OIDC token.<br />  The caller (for subscriptions.create, subscriptions.patch, and<br />  subscriptions.modifyPushConfig RPCs) must have the<br />  iam.serviceAccounts.actAs permission for the service account.</p></li><li><p><code>audience</code> -<br />  (Optional)<br />  Audience to be used when generating OIDC token. The audience claim<br />  identifies the recipients that the JWT is intended for. The audience<br />  value is a single case-sensitive string. Having multiple values (array)<br />  for the audience field is not supported. More info about the OIDC JWT<br />  token audience here: https://tools.ietf.org/html/rfc7519#section-4.1.3<br />  Note: if not specified, the Push endpoint URL will be used.</p></li></ul><p><a name=\"nested_no_wrapper\"></a>The <code>no_wrapper</code> block supports:</p><ul><li><code>write_metadata</code> -<br />  (Required)<br />  When true, writes the Pub/Sub message metadata to<br /><code>x-goog-pubsub-&lt;KEY&gt;:&lt;VAL&gt;</code> headers of the HTTP request. Writes the<br />  Pub/Sub message attributes to <code>&lt;KEY&gt;:&lt;VAL&gt;</code> headers of the HTTP request.</li></ul><p><a name=\"nested_expiration_policy\"></a>The <code>expiration_policy</code> block supports:</p><ul><li><code>ttl</code> -<br />  (Required)<br />  Specifies the \"time-to-live\" duration for an associated resource. The<br />  resource expires if it is not active for a period of ttl.<br />  If ttl is set to \"\", the associated resource never expires.<br />  A duration in seconds with up to nine fractional digits, terminated by 's'.<br />  Example - \"3.5s\".</li></ul><p><a name=\"nested_dead_letter_policy\"></a>The <code>dead_letter_policy</code> block supports:</p><ul><li><p><code>dead_letter_topic</code> -<br />  (Optional)<br />  The name of the topic to which dead letter messages should be published.<br />  Format is <code>projects/{project}/topics/{topic}</code>.<br />  The Cloud Pub/Sub service account associated with the enclosing subscription's<br />  parent project (i.e.,<br />  service-{project_number}@gcp-sa-pubsub.iam.gserviceaccount.com) must have<br />  permission to Publish() to this topic.<br />  The operation will fail if the topic does not exist.<br />  Users should ensure that there is a subscription attached to this topic<br />  since messages published to a topic with no subscriptions are lost.</p></li><li><p><code>max_delivery_attempts</code> -<br />  (Optional)<br />  The maximum number of delivery attempts for any message. The value must be<br />  between 5 and 100.<br />  The number of delivery attempts is defined as 1 + (the sum of number of<br />  NACKs and number of times the acknowledgement deadline has been exceeded for the message).<br />  A NACK is any call to ModifyAckDeadline with a 0 deadline. Note that<br />  client libraries may automatically extend ack_deadlines.<br />  This field will be honored on a best effort basis.<br />  If this parameter is 0, a default value of 5 is used.</p></li></ul><p><a name=\"nested_retry_policy\"></a>The <code>retry_policy</code> block supports:</p><ul><li><p><code>minimum_backoff</code> -<br />  (Optional)<br />  The minimum delay between consecutive deliveries of a given message. Value should be between 0 and 600 seconds. Defaults to 10 seconds.<br />  A duration in seconds with up to nine fractional digits, terminated by 's'. Example: \"3.5s\".</p></li><li><p><code>maximum_backoff</code> -<br />  (Optional)<br />  The maximum delay between consecutive deliveries of a given message. Value should be between 0 and 600 seconds. Defaults to 600 seconds.<br />  A duration in seconds with up to nine fractional digits, terminated by 's'. Example: \"3.5s\".</p></li></ul>", "attributes-reference": "<h2 id=\"attributes-reference\">Attributes Reference</h2><p>In addition to the arguments listed above, the following computed attributes are exported:</p><ul><li><code>id</code> - an identifier for the resource with format <code>projects/{{project}}/subscriptions/{{name}}</code></li></ul>", "timeouts": "<h2 id=\"timeouts\">Timeouts</h2><p>This resource provides the following<br /><a href=\"https://developer.hashicorp.com/terraform/plugin/sdkv2/resources/retries-and-customizable-timeouts\">Timeouts</a> configuration options:</p><ul><li><code>create</code> - Default is 20 minutes.</li><li><code>update</code> - Default is 20 minutes.</li><li><code>delete</code> - Default is 20 minutes.</li></ul>", "import": "<h2 id=\"import\">Import</h2><p>Subscription can be imported using any of these accepted formats:</p><p><code>$ terraform import google_pubsub_subscription.default projects/{{project}}/subscriptions/{{name}}$ terraform import google_pubsub_subscription.default {{project}}/{{name}}$ terraform import google_pubsub_subscription.default {{name}}</code></p>", "user-project-overrides": "<h2 id=\"user-project-overrides\">User Project Overrides</h2><p>This resource supports <a href=\"https://registry.terraform.io/providers/hashicorp/google/latest/docs/guides/provider_reference#user_project_override\">User Project Overrides</a>.</p>", "description": "<h1 id=\"google_pubsub_subscription\">google_pubsub_subscription</h1><p>A named resource representing the stream of messages from a single,<br />specific topic, to be delivered to the subscribing application.</p><p>To get more information about Subscription, see:</p><ul><li><a href=\"https://cloud.google.com/pubsub/docs/reference/rest/v1/projects.subscriptions\">API documentation</a></li><li>How-to Guides<ul><li><a href=\"https://cloud.google.com/pubsub/docs/admin#managing_subscriptions\">Managing Subscriptions</a></li></ul></li></ul><p>~&gt; <strong>Note:</strong> You can retrieve the email of the Google Managed Pub/Sub Service Account used for forwarding<br />by using the <code>google_project_service_identity</code> resource.</p><div class = \"oics-button\" style=\"float: right; margin: 0 0 -15px\">  <a href=\"https://console.cloud.google.com/cloudshell/open?cloudshell_git_repo=https%3A%2F%2Fgithub.com%2Fterraform-google-modules%2Fdocs-examples.git&cloudshell_working_dir=pubsub_subscription_push&cloudshell_image=gcr.io%2Fcloudshell-images%2Fcloudshell%3Alatest&open_in_editor=main.tf&cloudshell_print=.%2Fmotd&cloudshell_tutorial=.%2Ftutorial.md\" target=\"_blank\">    <img alt=\"Open in Cloud Shell\" src=\"//gstatic.com/cloudssh/images/open-btn.svg\" style=\"max-height: 44px; margin: 32px auto; max-width: 100%;\">  </a></div>"}