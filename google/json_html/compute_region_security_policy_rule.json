{"": "<h1 id=\"-_2\">----------------------------------------------------------------------------</h1><p>subcategory: \"Compute Engine\"<br />description: |-<br />  A rule for the RegionSecurityPolicy.</p><hr />", "auto-generated-code-type-mmv1": "<h1 id=\"auto-generated-code-type-mmv1\"><strong><em>     AUTO GENERATED CODE    </em></strong>    Type: MMv1     ***</h1>", "this-file-is-automatically-generated-by-magic-modules-and-manual": "<h1 id=\"this-file-is-automatically-generated-by-magic-modules-and-manual\">This file is automatically generated by Magic Modules and manual</h1>", "changes-will-be-clobbered-when-the-file-is-regenerated": "<h1 id=\"changes-will-be-clobbered-when-the-file-is-regenerated\">changes will be clobbered when the file is regenerated.</h1>", "please-read-more-about-how-to-change-this-file-in": "<h1 id=\"please-read-more-about-how-to-change-this-file-in\">Please read more about how to change this file in</h1>", "github-contributing-md": "<h1 id=\"githubcontributingmd\">.github/CONTRIBUTING.md.</h1>", "google-compute-region-security-policy-rule": "<h1 id=\"google_compute_region_security_policy_rule\">google_compute_region_security_policy_rule</h1><p>A rule for the RegionSecurityPolicy.</p><p>~&gt; <strong>Warning:</strong> This resource is in beta, and should be used with the terraform-provider-google-beta provider.<br />See <a href=\"https://terraform.io/docs/providers/google/guides/provider_versions.html\">Provider Versions</a> for more details on beta resources.</p><p>To get more information about RegionSecurityPolicyRule, see:</p><ul><li><a href=\"https://cloud.google.com/compute/docs/reference/rest/beta/regionSecurityPolicies/addRule\">API documentation</a></li><li>How-to Guides<ul><li><a href=\"https://cloud.google.com/armor/docs/configure-security-policies\">Creating region security policy rules</a></li></ul></li></ul><div class = \"oics-button\" style=\"float: right; margin: 0 0 -15px\">  <a href=\"https://console.cloud.google.com/cloudshell/open?cloudshell_git_repo=https%3A%2F%2Fgithub.com%2Fterraform-google-modules%2Fdocs-examples.git&cloudshell_working_dir=region_security_policy_rule_basic&cloudshell_image=gcr.io%2Fcloudshell-images%2Fcloudshell%3Alatest&open_in_editor=main.tf&cloudshell_print=.%2Fmotd&cloudshell_tutorial=.%2Ftutorial.md\" target=\"_blank\">    <img alt=\"Open in Cloud Shell\" src=\"//gstatic.com/cloudssh/images/open-btn.svg\" style=\"max-height: 44px; margin: 32px auto; max-width: 100%;\">  </a></div>", "example-usage---region-security-policy-rule-basic": "<h2 id=\"example-usage-region-security-policy-rule-basic\">Example Usage - Region Security Policy Rule Basic</h2><p><br />resource \"google_compute_region_security_policy\" \"default\" {<br />  provider    = google-beta</p><p>region      = \"us-west2\"<br />  name        = \"policyruletest\"<br />  description = \"basic region security policy\"<br />  type        = \"CLOUD_ARMOR\"<br />}</p><p>resource \"google_compute_region_security_policy_rule\" \"policy_rule\" {<br />  provider = google-beta</p><p>region          = \"us-west2\"<br />  security_policy = google_compute_region_security_policy.default.name<br />  description     = \"new rule\"<br />  priority        = 100<br />  match {<br />    versioned_expr = \"SRC_IPS_V1\"<br />    config {<br />      src_ip_ranges = [\"10.10.0.0/16\"]<br />    }<br />  }<br />  action          = \"allow\"<br />  preview         = true<br />}<br /></p><div class = \"oics-button\" style=\"float: right; margin: 0 0 -15px\">  <a href=\"https://console.cloud.google.com/cloudshell/open?cloudshell_git_repo=https%3A%2F%2Fgithub.com%2Fterraform-google-modules%2Fdocs-examples.git&cloudshell_working_dir=region_security_policy_rule_multiple_rules&cloudshell_image=gcr.io%2Fcloudshell-images%2Fcloudshell%3Alatest&open_in_editor=main.tf&cloudshell_print=.%2Fmotd&cloudshell_tutorial=.%2Ftutorial.md\" target=\"_blank\">    <img alt=\"Open in Cloud Shell\" src=\"//gstatic.com/cloudssh/images/open-btn.svg\" style=\"max-height: 44px; margin: 32px auto; max-width: 100%;\">  </a></div>", "example-usage---region-security-policy-rule-multiple-rules": "<h2 id=\"example-usage-region-security-policy-rule-multiple-rules\">Example Usage - Region Security Policy Rule Multiple Rules</h2><p><br />resource \"google_compute_region_security_policy\" \"default\" {<br />  provider    = google-beta</p><p>region      = \"us-west2\"<br />  name        = \"policywithmultiplerules\"<br />  description = \"basic region security policy\"<br />  type        = \"CLOUD_ARMOR\"<br />}</p><p>resource \"google_compute_region_security_policy_rule\" \"policy_rule_one\" {<br />  provider = google-beta</p><p>region          = \"us-west2\"<br />  security_policy = google_compute_region_security_policy.default.name<br />  description     = \"new rule one\"<br />  priority        = 100<br />  match {<br />    versioned_expr = \"SRC_IPS_V1\"<br />    config {<br />      src_ip_ranges = [\"10.10.0.0/16\"]<br />    }<br />  }<br />  action          = \"allow\"<br />  preview         = true<br />}</p><p>resource \"google_compute_region_security_policy_rule\" \"policy_rule_two\" {<br />  provider = google-beta</p><p>region          = \"us-west2\"<br />  security_policy = google_compute_region_security_policy.default.name<br />  description     = \"new rule two\"<br />  priority        = 101<br />  match {<br />    versioned_expr = \"SRC_IPS_V1\"<br />    config {<br />      src_ip_ranges = [\"192.168.0.0/16\", \"10.0.0.0/8\"]<br />    }<br />  }<br />  action          = \"allow\"<br />  preview         = true<br />}<br /></p>", "example-usage---region-security-policy-rule-with-network-match": "<h2 id=\"example-usage-region-security-policy-rule-with-network-match\">Example Usage - Region Security Policy Rule With Network Match</h2><p></p>", "first-activate-advanced-network-ddos-protection-for-the-desired-region": "<h1 id=\"first-activate-advanced-network-ddos-protection-for-the-desired-region\">First activate advanced network DDoS protection for the desired region</h1><p>resource \"google_compute_region_security_policy\" \"policyddosprotection\" {<br />  provider    = google-beta</p><p>region      = \"us-west2\"<br />  name        = \"policyddosprotection\"<br />  description = \"policy for activating network DDoS protection for the desired region\"<br />  type        = \"CLOUD_ARMOR_NETWORK\"<br />  ddos_protection_config {<br />    ddos_protection = \"ADVANCED_PREVIEW\"<br />  }<br />}</p><p>resource \"google_compute_network_edge_security_service\" \"edge_sec_service\" {<br />  provider        = google-beta</p><p>region          = \"us-west2\"<br />  name            = \"edgesecservice\"<br />  description     = \"linking policy to edge security service\"<br />  security_policy = google_compute_region_security_policy.policyddosprotection.self_link<br />}</p>", "add-the-desired-policy-and-custom-rule": "<h1 id=\"add-the-desired-policy-and-custom-rule\">Add the desired policy and custom rule.</h1><p>resource \"google_compute_region_security_policy\" \"policynetworkmatch\" {<br />  provider    = google-beta</p><p>region      = \"us-west2\"<br />  name        = \"policyfornetworkmatch\"<br />  description = \"region security policy for network match\"<br />  type        = \"CLOUD_ARMOR_NETWORK\"<br />  user_defined_fields {<br />    name = \"SIG1_AT_0\"<br />    base = \"TCP\"<br />    offset = 8<br />    size = 2<br />    mask = \"0x8F00\"<br />  }<br />  depends_on  = [google_compute_network_edge_security_service.edge_sec_service]<br />}</p><p>resource \"google_compute_region_security_policy_rule\" \"policy_rule_network_match\" {<br />  provider        = google-beta</p><p>region          = \"us-west2\"<br />  security_policy = google_compute_region_security_policy.policynetworkmatch.name<br />  description     = \"custom rule for network match\"<br />  priority        = 100<br />  network_match {<br />    src_ip_ranges = [\"10.10.0.0/16\"]<br />    user_defined_fields {<br />      name = \"SIG1_AT_0\"<br />      values = [\"0x8F00\"]<br />    }<br />  }<br />  action          = \"allow\"<br />  preview         = true<br />}<br /></p>", "argument-reference": "<h2 id=\"argument-reference\">Argument Reference</h2><p>The following arguments are supported:</p><ul><li><p><code>priority</code> -<br />  (Required)<br />  An integer indicating the priority of a rule in the list.<br />  The priority must be a positive value between 0 and 2147483647.<br />  Rules are evaluated from highest to lowest priority where 0 is the highest priority and 2147483647 is the lowest priority.</p></li><li><p><code>action</code> -<br />  (Required)<br />  The Action to perform when the rule is matched. The following are the valid actions:</p></li><li>allow: allow access to target.</li><li>deny(STATUS): deny access to target, returns the HTTP response code specified. Valid values for STATUS are 403, 404, and 502.</li><li>rate_based_ban: limit client traffic to the configured threshold and ban the client if the traffic exceeds the threshold. Configure parameters for this action in RateLimitOptions. Requires rateLimitOptions to be set.</li><li>redirect: redirect to a different target. This can either be an internal reCAPTCHA redirect, or an external URL-based redirect via a 302 response. Parameters for this action can be configured via redirectOptions. This action is only supported in Global Security Policies of type CLOUD_ARMOR.</li><li><p>throttle: limit client traffic to the configured threshold. Configure parameters for this action in rateLimitOptions. Requires rateLimitOptions to be set for this.</p></li><li><p><code>region</code> -<br />  (Required)<br />  The Region in which the created Region Security Policy rule should reside.</p></li><li><p><code>security_policy</code> -<br />  (Required)<br />  The name of the security policy this rule belongs to.</p></li></ul><hr /><ul><li><p><code>description</code> -<br />  (Optional)<br />  An optional description of this resource. Provide this property when you create the resource.</p></li><li><p><code>match</code> -<br />  (Optional)<br />  A match condition that incoming traffic is evaluated against.<br />  If it evaluates to true, the corresponding 'action' is enforced.<br />  Structure is <a href=\"#nested_match\">documented below</a>.</p></li><li><p><code>preview</code> -<br />  (Optional)<br />  If set to true, the specified action is not enforced.</p></li><li><p><code>network_match</code> -<br />  (Optional)<br />  A match condition that incoming packets are evaluated against for CLOUD_ARMOR_NETWORK security policies. If it matches, the corresponding 'action' is enforced.<br />  The match criteria for a rule consists of built-in match fields (like 'srcIpRanges') and potentially multiple user-defined match fields ('userDefinedFields').<br />  Field values may be extracted directly from the packet or derived from it (e.g. 'srcRegionCodes'). Some fields may not be present in every packet (e.g. 'srcPorts'). A user-defined field is only present if the base header is found in the packet and the entire field is in bounds.<br />  Each match field may specify which values can match it, listing one or more ranges, prefixes, or exact values that are considered a match for the field. A field value must be present in order to match a specified match field. If no match values are specified for a match field, then any field value is considered to match it, and it's not required to be present. For strings specifying '*' is also equivalent to match all.<br />  For a packet to match a rule, all specified match fields must match the corresponding field values derived from the packet.<br />  Example:<br />  networkMatch: srcIpRanges: - \"192.0.2.0/24\" - \"198.51.100.0/24\" userDefinedFields: - name: \"ipv4_fragment_offset\" values: - \"1-0x1fff\"<br />  The above match condition matches packets with a source IP in 192.0.2.0/24 or 198.51.100.0/24 and a user-defined field named \"ipv4_fragment_offset\" with a value between 1 and 0x1fff inclusive<br />  Structure is <a href=\"#nested_network_match\">documented below</a>.</p></li><li><p><code>project</code> - (Optional) The ID of the project in which the resource belongs.<br />    If it is not provided, the provider project is used.</p></li></ul><p><a name=\"nested_match\"></a>The <code>match</code> block supports:</p><ul><li><p><code>versioned_expr</code> -<br />  (Optional)<br />  Preconfigured versioned expression. If this field is specified, config must also be specified.<br />  Available preconfigured expressions along with their requirements are: SRC_IPS_V1 - must specify the corresponding srcIpRange field in config.<br />  Possible values are: <code>SRC_IPS_V1</code>.</p></li><li><p><code>config</code> -<br />  (Optional)<br />  The configuration options available when specifying versionedExpr.<br />  This field must be specified if versionedExpr is specified and cannot be specified if versionedExpr is not specified.<br />  Structure is <a href=\"#nested_config\">documented below</a>.</p></li></ul><p><a name=\"nested_config\"></a>The <code>config</code> block supports:</p><ul><li><code>src_ip_ranges</code> -<br />  (Optional)<br />  CIDR IP address range. Maximum number of srcIpRanges allowed is 10.</li></ul><p><a name=\"nested_network_match\"></a>The <code>network_match</code> block supports:</p><ul><li><p><code>user_defined_fields</code> -<br />  (Optional)<br />  User-defined fields. Each element names a defined field and lists the matching values for that field.<br />  Structure is <a href=\"#nested_user_defined_fields\">documented below</a>.</p></li><li><p><code>src_ip_ranges</code> -<br />  (Optional)<br />  Source IPv4/IPv6 addresses or CIDR prefixes, in standard text format.</p></li><li><p><code>dest_ip_ranges</code> -<br />  (Optional)<br />  Destination IPv4/IPv6 addresses or CIDR prefixes, in standard text format.</p></li><li><p><code>ip_protocols</code> -<br />  (Optional)<br />  IPv4 protocol / IPv6 next header (after extension headers). Each element can be an 8-bit unsigned decimal number (e.g. \"6\"), range (e.g. \"253-254\"), or one of the following protocol names: \"tcp\", \"udp\", \"icmp\", \"esp\", \"ah\", \"ipip\", or \"sctp\".</p></li><li><p><code>src_ports</code> -<br />  (Optional)<br />  Source port numbers for TCP/UDP/SCTP. Each element can be a 16-bit unsigned decimal number (e.g. \"80\") or range (e.g. \"0-1023\").</p></li><li><p><code>dest_ports</code> -<br />  (Optional)<br />  Destination port numbers for TCP/UDP/SCTP. Each element can be a 16-bit unsigned decimal number (e.g. \"80\") or range (e.g. \"0-1023\").</p></li><li><p><code>src_region_codes</code> -<br />  (Optional)<br />  Two-letter ISO 3166-1 alpha-2 country code associated with the source IP address.</p></li><li><p><code>src_asns</code> -<br />  (Optional)<br />  BGP Autonomous System Number associated with the source IP address.</p></li></ul><p><a name=\"nested_user_defined_fields\"></a>The <code>user_defined_fields</code> block supports:</p><ul><li><p><code>name</code> -<br />  (Optional)<br />  Name of the user-defined field, as given in the definition.</p></li><li><p><code>values</code> -<br />  (Optional)<br />  Matching values of the field. Each element can be a 32-bit unsigned decimal or hexadecimal (starting with \"0x\") number (e.g. \"64\") or range (e.g. \"0x400-0x7ff\").</p></li></ul>", "attributes-reference": "<h2 id=\"attributes-reference\">Attributes Reference</h2><p>In addition to the arguments listed above, the following computed attributes are exported:</p><ul><li><code>id</code> - an identifier for the resource with format <code>projects/{{project}}/regions/{{region}}/securityPolicies/{{security_policy}}/priority/{{priority}}</code></li></ul>", "timeouts": "<h2 id=\"timeouts\">Timeouts</h2><p>This resource provides the following<br /><a href=\"https://developer.hashicorp.com/terraform/plugin/sdkv2/resources/retries-and-customizable-timeouts\">Timeouts</a> configuration options:</p><ul><li><code>create</code> - Default is 20 minutes.</li><li><code>update</code> - Default is 20 minutes.</li><li><code>delete</code> - Default is 20 minutes.</li></ul>", "import": "<h2 id=\"import\">Import</h2><p>RegionSecurityPolicyRule can be imported using any of these accepted formats:</p><p><code>$ terraform import google_compute_region_security_policy_rule.default projects/{{project}}/regions/{{region}}/securityPolicies/{{security_policy}}/priority/{{priority}}$ terraform import google_compute_region_security_policy_rule.default {{project}}/{{region}}/{{security_policy}}/{{priority}}$ terraform import google_compute_region_security_policy_rule.default {{region}}/{{security_policy}}/{{priority}}$ terraform import google_compute_region_security_policy_rule.default {{security_policy}}/{{priority}}</code></p>", "user-project-overrides": "<h2 id=\"user-project-overrides\">User Project Overrides</h2><p>This resource supports <a href=\"https://registry.terraform.io/providers/hashicorp/google/latest/docs/guides/provider_reference#user_project_override\">User Project Overrides</a>.</p>", "description": "<h1 id=\"google_compute_region_security_policy_rule\">google_compute_region_security_policy_rule</h1><p>A rule for the RegionSecurityPolicy.</p><p>~&gt; <strong>Warning:</strong> This resource is in beta, and should be used with the terraform-provider-google-beta provider.<br />See <a href=\"https://terraform.io/docs/providers/google/guides/provider_versions.html\">Provider Versions</a> for more details on beta resources.</p><p>To get more information about RegionSecurityPolicyRule, see:</p><ul><li><a href=\"https://cloud.google.com/compute/docs/reference/rest/beta/regionSecurityPolicies/addRule\">API documentation</a></li><li>How-to Guides<ul><li><a href=\"https://cloud.google.com/armor/docs/configure-security-policies\">Creating region security policy rules</a></li></ul></li></ul><div class = \"oics-button\" style=\"float: right; margin: 0 0 -15px\">  <a href=\"https://console.cloud.google.com/cloudshell/open?cloudshell_git_repo=https%3A%2F%2Fgithub.com%2Fterraform-google-modules%2Fdocs-examples.git&cloudshell_working_dir=region_security_policy_rule_basic&cloudshell_image=gcr.io%2Fcloudshell-images%2Fcloudshell%3Alatest&open_in_editor=main.tf&cloudshell_print=.%2Fmotd&cloudshell_tutorial=.%2Ftutorial.md\" target=\"_blank\">    <img alt=\"Open in Cloud Shell\" src=\"//gstatic.com/cloudssh/images/open-btn.svg\" style=\"max-height: 44px; margin: 32px auto; max-width: 100%;\">  </a></div>"}