{"": "<h1 id=\"-_2\">----------------------------------------------------------------------------</h1><p>subcategory: \"Cloud Build\"<br />description: |-<br />  Configuration for an automated build in response to source repository changes.</p><hr />", "auto-generated-code-type-mmv1": "<h1 id=\"auto-generated-code-type-mmv1\"><strong><em>     AUTO GENERATED CODE    </em></strong>    Type: MMv1     ***</h1>", "this-file-is-automatically-generated-by-magic-modules-and-manual": "<h1 id=\"this-file-is-automatically-generated-by-magic-modules-and-manual\">This file is automatically generated by Magic Modules and manual</h1>", "changes-will-be-clobbered-when-the-file-is-regenerated": "<h1 id=\"changes-will-be-clobbered-when-the-file-is-regenerated\">changes will be clobbered when the file is regenerated.</h1>", "please-read-more-about-how-to-change-this-file-in": "<h1 id=\"please-read-more-about-how-to-change-this-file-in\">Please read more about how to change this file in</h1>", "github-contributing-md": "<h1 id=\"githubcontributingmd\">.github/CONTRIBUTING.md.</h1>", "google-cloudbuild-trigger": "<h1 id=\"google_cloudbuild_trigger\">google_cloudbuild_trigger</h1><p>Configuration for an automated build in response to source repository changes.</p><p>To get more information about Trigger, see:</p><ul><li><a href=\"https://cloud.google.com/cloud-build/docs/api/reference/rest/v1/projects.triggers\">API documentation</a></li><li>How-to Guides<ul><li><a href=\"https://cloud.google.com/cloud-build/docs/running-builds/automate-builds\">Automating builds using build triggers</a></li></ul></li></ul><p>~&gt; <strong>Note:</strong> You can retrieve the email of the Cloud Build Service Account used in jobs by using the <code>google_project_service_identity</code> resource.</p><div class = \"oics-button\" style=\"float: right; margin: 0 0 -15px\">  <a href=\"https://console.cloud.google.com/cloudshell/open?cloudshell_git_repo=https%3A%2F%2Fgithub.com%2Fterraform-google-modules%2Fdocs-examples.git&cloudshell_working_dir=cloudbuild_trigger_filename&cloudshell_image=gcr.io%2Fcloudshell-images%2Fcloudshell%3Alatest&open_in_editor=main.tf&cloudshell_print=.%2Fmotd&cloudshell_tutorial=.%2Ftutorial.md\" target=\"_blank\">    <img alt=\"Open in Cloud Shell\" src=\"//gstatic.com/cloudssh/images/open-btn.svg\" style=\"max-height: 44px; margin: 32px auto; max-width: 100%;\">  </a></div>", "example-usage---cloudbuild-trigger-filename": "<h2 id=\"example-usage-cloudbuild-trigger-filename\">Example Usage - Cloudbuild Trigger Filename</h2><p><br />resource \"google_cloudbuild_trigger\" \"filename-trigger\" {<br />  location = \"us-central1\"</p><p>trigger_template {<br />    branch_name = \"main\"<br />    repo_name   = \"my-repo\"<br />  }</p><p>substitutions = {<br />    _FOO = \"bar\"<br />    _BAZ = \"qux\"<br />  }</p><p>filename = \"cloudbuild.yaml\"<br />}<br /></p><div class = \"oics-button\" style=\"float: right; margin: 0 0 -15px\">  <a href=\"https://console.cloud.google.com/cloudshell/open?cloudshell_git_repo=https%3A%2F%2Fgithub.com%2Fterraform-google-modules%2Fdocs-examples.git&cloudshell_working_dir=cloudbuild_trigger_build&cloudshell_image=gcr.io%2Fcloudshell-images%2Fcloudshell%3Alatest&open_in_editor=main.tf&cloudshell_print=.%2Fmotd&cloudshell_tutorial=.%2Ftutorial.md\" target=\"_blank\">    <img alt=\"Open in Cloud Shell\" src=\"//gstatic.com/cloudssh/images/open-btn.svg\" style=\"max-height: 44px; margin: 32px auto; max-width: 100%;\">  </a></div>", "example-usage---cloudbuild-trigger-build": "<h2 id=\"example-usage-cloudbuild-trigger-build\">Example Usage - Cloudbuild Trigger Build</h2><p><br />resource \"google_cloudbuild_trigger\" \"build-trigger\" {<br />  name = \"my-trigger\"<br />  location = \"global\"</p><p>trigger_template {<br />    branch_name = \"main\"<br />    repo_name   = \"my-repo\"<br />  }</p><p>build {<br />    step {<br />      name = \"gcr.io/cloud-builders/gsutil\"<br />      args = [\"cp\", \"gs://mybucket/remotefile.zip\", \"localfile.zip\"]<br />      timeout = \"120s\"<br />      secret_env = [\"MY_SECRET\"]<br />    }</p><pre><code>step {  name   = \"ubuntu\"  script = \"echo hello\" # using script field}source {  storage_source {    bucket = \"mybucket\"    object = \"source_code.tar.gz\"  }}tags = [\"build\", \"newFeature\"]substitutions = {  _FOO = \"bar\"  _BAZ = \"qux\"}queue_ttl = \"20s\"logs_bucket = \"gs://mybucket/logs\"secret {  kms_key_name = \"projects/myProject/locations/global/keyRings/keyring-name/cryptoKeys/key-name\"  secret_env = {    PASSWORD = \"ZW5jcnlwdGVkLXBhc3N3b3JkCg==\"  }}available_secrets {  secret_manager {    env          = \"MY_SECRET\"    version_name = \"projects/myProject/secrets/mySecret/versions/latest\"  }}artifacts {  images = [\"gcr.io/$PROJECT_ID/$REPO_NAME:$COMMIT_SHA\"]  objects {    location = \"gs://bucket/path/to/somewhere/\"    paths = [\"path\"]  }}options {  source_provenance_hash = [\"MD5\"]  requested_verify_option = \"VERIFIED\"  machine_type = \"N1_HIGHCPU_8\"  disk_size_gb = 100  substitution_option = \"ALLOW_LOOSE\"  dynamic_substitutions = true  log_streaming_option = \"STREAM_OFF\"  worker_pool = \"pool\"  logging = \"LEGACY\"  env = [\"ekey = evalue\"]  secret_env = [\"secretenv = svalue\"]  volumes {    name = \"v1\"    path = \"v1\"  }}</code></pre><p>}<br />}<br /></p><div class = \"oics-button\" style=\"float: right; margin: 0 0 -15px\">  <a href=\"https://console.cloud.google.com/cloudshell/open?cloudshell_git_repo=https%3A%2F%2Fgithub.com%2Fterraform-google-modules%2Fdocs-examples.git&cloudshell_working_dir=cloudbuild_trigger_service_account&cloudshell_image=gcr.io%2Fcloudshell-images%2Fcloudshell%3Alatest&open_in_editor=main.tf&cloudshell_print=.%2Fmotd&cloudshell_tutorial=.%2Ftutorial.md\" target=\"_blank\">    <img alt=\"Open in Cloud Shell\" src=\"//gstatic.com/cloudssh/images/open-btn.svg\" style=\"max-height: 44px; margin: 32px auto; max-width: 100%;\">  </a></div>", "example-usage---cloudbuild-trigger-service-account": "<h2 id=\"example-usage-cloudbuild-trigger-service-account\">Example Usage - Cloudbuild Trigger Service Account</h2><p><br />data \"google_project\" \"project\" {}</p><p>resource \"google_cloudbuild_trigger\" \"service-account-trigger\" {<br />  trigger_template {<br />    branch_name = \"main\"<br />    repo_name   = \"my-repo\"<br />  }</p><p>service_account = google_service_account.cloudbuild_service_account.id<br />  filename        = \"cloudbuild.yaml\"<br />  depends_on = [<br />    google_project_iam_member.act_as,<br />    google_project_iam_member.logs_writer<br />  ]<br />}</p><p>resource \"google_service_account\" \"cloudbuild_service_account\" {<br />  account_id = \"cloud-sa\"<br />}</p><p>resource \"google_project_iam_member\" \"act_as\" {<br />  project = data.google_project.project.project_id<br />  role    = \"roles/iam.serviceAccountUser\"<br />  member  = \"serviceAccount:${google_service_account.cloudbuild_service_account.email}\"<br />}</p><p>resource \"google_project_iam_member\" \"logs_writer\" {<br />  project = data.google_project.project.project_id<br />  role    = \"roles/logging.logWriter\"<br />  member  = \"serviceAccount:${google_service_account.cloudbuild_service_account.email}\"<br />}<br /></p>", "example-usage---cloudbuild-trigger-include-build-logs": "<h2 id=\"example-usage-cloudbuild-trigger-include-build-logs\">Example Usage - Cloudbuild Trigger Include Build Logs</h2><p><br />resource \"google_cloudbuild_trigger\" \"include-build-logs-trigger\" {<br />  location = \"us-central1\"<br />  name     = \"include-build-logs-trigger\"<br />  filename = \"cloudbuild.yaml\"</p><p>github {<br />    owner = \"hashicorp\"<br />    name  = \"terraform-provider-google-beta\"<br />    push {<br />      branch = \"^main$\"<br />    }<br />  }</p><p>include_build_logs = \"INCLUDE_BUILD_LOGS_WITH_STATUS\"<br />}<br /></p><div class = \"oics-button\" style=\"float: right; margin: 0 0 -15px\">  <a href=\"https://console.cloud.google.com/cloudshell/open?cloudshell_git_repo=https%3A%2F%2Fgithub.com%2Fterraform-google-modules%2Fdocs-examples.git&cloudshell_working_dir=cloudbuild_trigger_pubsub_config&cloudshell_image=gcr.io%2Fcloudshell-images%2Fcloudshell%3Alatest&open_in_editor=main.tf&cloudshell_print=.%2Fmotd&cloudshell_tutorial=.%2Ftutorial.md\" target=\"_blank\">    <img alt=\"Open in Cloud Shell\" src=\"//gstatic.com/cloudssh/images/open-btn.svg\" style=\"max-height: 44px; margin: 32px auto; max-width: 100%;\">  </a></div>", "example-usage---cloudbuild-trigger-pubsub-config": "<h2 id=\"example-usage-cloudbuild-trigger-pubsub-config\">Example Usage - Cloudbuild Trigger Pubsub Config</h2><p></p><p>resource \"google_pubsub_topic\" \"mytopic\" {<br />  name = \"my-topic\"<br />}</p><p>resource \"google_cloudbuild_trigger\" \"pubsub-config-trigger\" {<br />  location    = \"us-central1\"<br />  name        = \"pubsub-trigger\"<br />  description = \"acceptance test example pubsub build trigger\"</p><p>pubsub_config {<br />    topic = google_pubsub_topic.mytopic.id<br />  }</p><p>source_to_build {<br />    uri       = \"https://hashicorp/terraform-provider-google-beta\"<br />    ref       = \"refs/heads/main\"<br />    repo_type = \"GITHUB\"<br />  }</p><p>git_file_source {<br />    path      = \"cloudbuild.yaml\"<br />    uri       = \"https://hashicorp/terraform-provider-google-beta\"<br />    revision  = \"refs/heads/main\"<br />    repo_type = \"GITHUB\"<br />  }</p><p>substitutions = {<br />    _ACTION       = \"$(body.message.data.action)\"<br />  }</p><p>filter = \"_ACTION.matches('INSERT')\"<br />}<br /></p><div class = \"oics-button\" style=\"float: right; margin: 0 0 -15px\">  <a href=\"https://console.cloud.google.com/cloudshell/open?cloudshell_git_repo=https%3A%2F%2Fgithub.com%2Fterraform-google-modules%2Fdocs-examples.git&cloudshell_working_dir=cloudbuild_trigger_webhook_config&cloudshell_image=gcr.io%2Fcloudshell-images%2Fcloudshell%3Alatest&open_in_editor=main.tf&cloudshell_print=.%2Fmotd&cloudshell_tutorial=.%2Ftutorial.md\" target=\"_blank\">    <img alt=\"Open in Cloud Shell\" src=\"//gstatic.com/cloudssh/images/open-btn.svg\" style=\"max-height: 44px; margin: 32px auto; max-width: 100%;\">  </a></div>", "example-usage---cloudbuild-trigger-webhook-config": "<h2 id=\"example-usage-cloudbuild-trigger-webhook-config\">Example Usage - Cloudbuild Trigger Webhook Config</h2><p></p><p>resource \"google_secret_manager_secret\" \"webhook_trigger_secret_key\" {<br />  secret_id = \"webhook-trigger-secret-key\"</p><p>replication {<br />    user_managed {<br />      replicas {<br />        location = \"us-central1\"<br />      }<br />    }<br />  }<br />}</p><p>resource \"google_secret_manager_secret_version\" \"webhook_trigger_secret_key_data\" {<br />  secret = google_secret_manager_secret.webhook_trigger_secret_key.id</p><p>secret_data = \"secretkeygoeshere\"<br />}</p><p>data \"google_project\" \"project\" {}</p><p>data \"google_iam_policy\" \"secret_accessor\" {<br />  binding {<br />    role = \"roles/secretmanager.secretAccessor\"<br />    members = [<br />      \"serviceAccount:service-${data.google_project.project.number}@gcp-sa-cloudbuild.iam.gserviceaccount.com\",<br />    ]<br />  }<br />}</p><p>resource \"google_secret_manager_secret_iam_policy\" \"policy\" {<br />  project = google_secret_manager_secret.webhook_trigger_secret_key.project<br />  secret_id = google_secret_manager_secret.webhook_trigger_secret_key.secret_id<br />  policy_data = data.google_iam_policy.secret_accessor.policy_data<br />}</p><p>resource \"google_cloudbuild_trigger\" \"webhook-config-trigger\" {<br />  name        = \"webhook-trigger\"<br />  description = \"acceptance test example webhook build trigger\"</p><p>webhook_config {<br />    secret = google_secret_manager_secret_version.webhook_trigger_secret_key_data.id<br />  }</p><p>source_to_build {<br />    uri       = \"https://hashicorp/terraform-provider-google-beta\"<br />    ref       = \"refs/heads/main\"<br />    repo_type = \"GITHUB\"<br />  }</p><p>git_file_source {<br />    path      = \"cloudbuild.yaml\"<br />    uri       = \"https://hashicorp/terraform-provider-google-beta\"<br />    revision  = \"refs/heads/main\"<br />    repo_type = \"GITHUB\"<br />  }<br />}<br /></p><div class = \"oics-button\" style=\"float: right; margin: 0 0 -15px\">  <a href=\"https://console.cloud.google.com/cloudshell/open?cloudshell_git_repo=https%3A%2F%2Fgithub.com%2Fterraform-google-modules%2Fdocs-examples.git&cloudshell_working_dir=cloudbuild_trigger_manual&cloudshell_image=gcr.io%2Fcloudshell-images%2Fcloudshell%3Alatest&open_in_editor=main.tf&cloudshell_print=.%2Fmotd&cloudshell_tutorial=.%2Ftutorial.md\" target=\"_blank\">    <img alt=\"Open in Cloud Shell\" src=\"//gstatic.com/cloudssh/images/open-btn.svg\" style=\"max-height: 44px; margin: 32px auto; max-width: 100%;\">  </a></div>", "example-usage---cloudbuild-trigger-manual": "<h2 id=\"example-usage-cloudbuild-trigger-manual\">Example Usage - Cloudbuild Trigger Manual</h2><p></p><p>resource \"google_cloudbuild_trigger\" \"manual-trigger\" {<br />  name        = \"manual-trigger\"</p><p>source_to_build {<br />    uri       = \"https://hashicorp/terraform-provider-google-beta\"<br />    ref       = \"refs/heads/main\"<br />    repo_type = \"GITHUB\"<br />  }</p><p>git_file_source {<br />    path      = \"cloudbuild.yaml\"<br />    uri       = \"https://hashicorp/terraform-provider-google-beta\"<br />    revision  = \"refs/heads/main\"<br />    repo_type = \"GITHUB\"<br />  }</p><p>// If this is set on a build, it will become pending when it is run, <br />  // and will need to be explicitly approved to start.<br />  approval_config {<br />     approval_required = true <br />  }</p><p>}<br /></p>", "example-usage---cloudbuild-trigger-manual-github-enterprise": "<h2 id=\"example-usage-cloudbuild-trigger-manual-github-enterprise\">Example Usage - Cloudbuild Trigger Manual Github Enterprise</h2><p><br />resource \"google_cloudbuild_trigger\" \"manual-ghe-trigger\" {<br />  name        = \"\"</p><p>source_to_build {<br />    uri       = \"https://hashicorp/terraform-provider-google-beta\"<br />    ref       = \"refs/heads/main\"<br />    repo_type = \"GITHUB\"<br />    github_enterprise_config = \"projects/myProject/locations/global/githubEnterpriseConfigs/configID\"<br />}</p><p>git_file_source {<br />    path      = \"cloudbuild.yaml\"<br />    uri       = \"https://hashicorp/terraform-provider-google-beta\"<br />    revision  = \"refs/heads/main\"<br />    repo_type = \"GITHUB\"<br />    github_enterprise_config = \"projects/myProject/locations/global/githubEnterpriseConfigs/configID\"<br />  }<br />}<br /></p><div class = \"oics-button\" style=\"float: right; margin: 0 0 -15px\">  <a href=\"https://console.cloud.google.com/cloudshell/open?cloudshell_git_repo=https%3A%2F%2Fgithub.com%2Fterraform-google-modules%2Fdocs-examples.git&cloudshell_working_dir=cloudbuild_trigger_manual_bitbucket_server&cloudshell_image=gcr.io%2Fcloudshell-images%2Fcloudshell%3Alatest&open_in_editor=main.tf&cloudshell_print=.%2Fmotd&cloudshell_tutorial=.%2Ftutorial.md\" target=\"_blank\">    <img alt=\"Open in Cloud Shell\" src=\"//gstatic.com/cloudssh/images/open-btn.svg\" style=\"max-height: 44px; margin: 32px auto; max-width: 100%;\">  </a></div>", "example-usage---cloudbuild-trigger-manual-bitbucket-server": "<h2 id=\"example-usage-cloudbuild-trigger-manual-bitbucket-server\">Example Usage - Cloudbuild Trigger Manual Bitbucket Server</h2><p><br />resource \"google_cloudbuild_trigger\" \"manual-bitbucket-trigger\" {<br />  name        = \"terraform-manual-bbs-trigger\"</p><p>source_to_build {<br />    uri       = \"https://bbs.com/scm/stag/test-repo.git\"<br />    ref       = \"refs/heads/main\"<br />    repo_type = \"BITBUCKET_SERVER\"<br />    bitbucket_server_config = \"projects/myProject/locations/global/bitbucketServerConfigs/configID\"<br />  }</p><p>git_file_source {<br />    path      = \"cloudbuild.yaml\"<br />    uri       = \"https://bbs.com/scm/stag/test-repo.git\"<br />    revision  = \"refs/heads/main\"<br />    repo_type = \"BITBUCKET_SERVER\"<br />    bitbucket_server_config = \"projects/myProject/locations/global/bitbucketServerConfigs/configID\"<br />  }<br />}<br /></p><div class = \"oics-button\" style=\"float: right; margin: 0 0 -15px\">  <a href=\"https://console.cloud.google.com/cloudshell/open?cloudshell_git_repo=https%3A%2F%2Fgithub.com%2Fterraform-google-modules%2Fdocs-examples.git&cloudshell_working_dir=cloudbuild_trigger_repo&cloudshell_image=gcr.io%2Fcloudshell-images%2Fcloudshell%3Alatest&open_in_editor=main.tf&cloudshell_print=.%2Fmotd&cloudshell_tutorial=.%2Ftutorial.md\" target=\"_blank\">    <img alt=\"Open in Cloud Shell\" src=\"//gstatic.com/cloudssh/images/open-btn.svg\" style=\"max-height: 44px; margin: 32px auto; max-width: 100%;\">  </a></div>", "example-usage---cloudbuild-trigger-repo": "<h2 id=\"example-usage-cloudbuild-trigger-repo\">Example Usage - Cloudbuild Trigger Repo</h2><p><br />resource \"google_cloudbuildv2_connection\" \"my-connection\" {<br />  location = \"us-central1\"<br />  name = \"my-connection\"</p><p>github_config {<br />    app_installation_id = 123123<br />    authorizer_credential {<br />      oauth_token_secret_version = \"projects/my-project/secrets/github-pat-secret/versions/latest\"<br />    }<br />  }<br />}</p><p>resource \"google_cloudbuildv2_repository\" \"my-repository\" {<br />  name = \"my-repo\"<br />  parent_connection = google_cloudbuildv2_connection.my-connection.id<br />  remote_uri = \"https://github.com/myuser/my-repo.git\"<br />}</p><p>resource \"google_cloudbuild_trigger\" \"repo-trigger\" {<br />  location = \"us-central1\"</p><p>repository_event_config {<br />    repository = google_cloudbuildv2_repository.my-repository.id<br />    push {<br />      branch = \"feature-.*\"<br />    }<br />  }</p><p>filename = \"cloudbuild.yaml\"<br />}<br /></p><div class = \"oics-button\" style=\"float: right; margin: 0 0 -15px\">  <a href=\"https://console.cloud.google.com/cloudshell/open?cloudshell_git_repo=https%3A%2F%2Fgithub.com%2Fterraform-google-modules%2Fdocs-examples.git&cloudshell_working_dir=cloudbuild_trigger_bitbucket_server_push&cloudshell_image=gcr.io%2Fcloudshell-images%2Fcloudshell%3Alatest&open_in_editor=main.tf&cloudshell_print=.%2Fmotd&cloudshell_tutorial=.%2Ftutorial.md\" target=\"_blank\">    <img alt=\"Open in Cloud Shell\" src=\"//gstatic.com/cloudssh/images/open-btn.svg\" style=\"max-height: 44px; margin: 32px auto; max-width: 100%;\">  </a></div>", "example-usage---cloudbuild-trigger-bitbucket-server-push": "<h2 id=\"example-usage-cloudbuild-trigger-bitbucket-server-push\">Example Usage - Cloudbuild Trigger Bitbucket Server Push</h2><p><br />resource \"google_cloudbuild_trigger\" \"bbs-push-trigger\" {<br />  name        = \"bbs-push-trigger\"<br />  location    = \"us-central1\"</p><p>bitbucket_server_trigger_config {<br />    repo_slug = \"bbs-push-trigger\"<br />    project_key = \"STAG\"<br />    bitbucket_server_config_resource = \"projects/123456789/locations/us-central1/bitbucketServerConfigs/myBitbucketConfig\"<br />    push {<br />        tag = \"^0.1.*\"<br />        invert_regex = true<br />    }<br />  }</p><p>filename = \"cloudbuild.yaml\"<br />}<br /></p><div class = \"oics-button\" style=\"float: right; margin: 0 0 -15px\">  <a href=\"https://console.cloud.google.com/cloudshell/open?cloudshell_git_repo=https%3A%2F%2Fgithub.com%2Fterraform-google-modules%2Fdocs-examples.git&cloudshell_working_dir=cloudbuild_trigger_bitbucket_server_pull_request&cloudshell_image=gcr.io%2Fcloudshell-images%2Fcloudshell%3Alatest&open_in_editor=main.tf&cloudshell_print=.%2Fmotd&cloudshell_tutorial=.%2Ftutorial.md\" target=\"_blank\">    <img alt=\"Open in Cloud Shell\" src=\"//gstatic.com/cloudssh/images/open-btn.svg\" style=\"max-height: 44px; margin: 32px auto; max-width: 100%;\">  </a></div>", "example-usage---cloudbuild-trigger-bitbucket-server-pull-request": "<h2 id=\"example-usage-cloudbuild-trigger-bitbucket-server-pull-request\">Example Usage - Cloudbuild Trigger Bitbucket Server Pull Request</h2><p><br />resource \"google_cloudbuild_trigger\" \"bbs-pull-request-trigger\" {<br />  name        = \"ghe-trigger\"<br />  location    = \"us-central1\"</p><p>bitbucket_server_trigger_config {<br />    repo_slug = \"terraform-provider-google\"<br />    project_key = \"STAG\"<br />    bitbucket_server_config_resource = \"projects/123456789/locations/us-central1/bitbucketServerConfigs/myBitbucketConfig\"<br />    pull_request {<br />        branch = \"^master$\"<br />        invert_regex = false<br />        comment_control = \"COMMENTS_ENABLED\"<br />    }<br />  }</p><p>filename = \"cloudbuild.yaml\"<br />}<br /></p>", "example-usage---cloudbuild-trigger-github-enterprise": "<h2 id=\"example-usage-cloudbuild-trigger-github-enterprise\">Example Usage - Cloudbuild Trigger Github Enterprise</h2><p><br />resource \"google_cloudbuild_trigger\" \"ghe-trigger\" {<br />  name        = \"ghe-trigger\"<br />  location    = \"us-central1\"</p><p>github {<br />    owner = \"hashicorp\"<br />    name  = \"terraform-provider-google\"<br />    push {<br />      branch = \"^main$\"<br />    }<br />    enterprise_config_resource_name = \"projects/123456789/locations/us-central1/githubEnterpriseConfigs/configID\"<br />  }</p><p>filename = \"cloudbuild.yaml\"<br />}<br /></p><div class = \"oics-button\" style=\"float: right; margin: 0 0 -15px\">  <a href=\"https://console.cloud.google.com/cloudshell/open?cloudshell_git_repo=https%3A%2F%2Fgithub.com%2Fterraform-google-modules%2Fdocs-examples.git&cloudshell_working_dir=cloudbuild_trigger_allow_failure&cloudshell_image=gcr.io%2Fcloudshell-images%2Fcloudshell%3Alatest&open_in_editor=main.tf&cloudshell_print=.%2Fmotd&cloudshell_tutorial=.%2Ftutorial.md\" target=\"_blank\">    <img alt=\"Open in Cloud Shell\" src=\"//gstatic.com/cloudssh/images/open-btn.svg\" style=\"max-height: 44px; margin: 32px auto; max-width: 100%;\">  </a></div>", "example-usage---cloudbuild-trigger-allow-failure": "<h2 id=\"example-usage-cloudbuild-trigger-allow-failure\">Example Usage - Cloudbuild Trigger Allow Failure</h2><p><br />resource \"google_cloudbuild_trigger\" \"allow-failure-trigger\" {<br />  name = \"my-trigger\"<br />  location = \"global\"</p><p>trigger_template {<br />    branch_name = \"main\"<br />    repo_name   = \"my-repo\"<br />  }</p><p>build {<br />    step {<br />      name = \"ubuntu\"<br />      args = [\"-c\", \"exit 1\"]<br />      allow_failure = true<br />    }</p><pre><code>source {  storage_source {    bucket = \"mybucket\"    object = \"source_code.tar.gz\"  }}tags = [\"build\", \"newFeature\"]substitutions = {  _FOO = \"bar\"  _BAZ = \"qux\"}queue_ttl = \"20s\"logs_bucket = \"gs://mybucket/logs\"secret {  kms_key_name = \"projects/myProject/locations/global/keyRings/keyring-name/cryptoKeys/key-name\"  secret_env = {    PASSWORD = \"ZW5jcnlwdGVkLXBhc3N3b3JkCg==\"  }}available_secrets {  secret_manager {    env          = \"MY_SECRET\"    version_name = \"projects/myProject/secrets/mySecret/versions/latest\"  }}artifacts {  images = [\"gcr.io/$PROJECT_ID/$REPO_NAME:$COMMIT_SHA\"]  objects {    location = \"gs://bucket/path/to/somewhere/\"    paths = [\"path\"]  }}options {  source_provenance_hash = [\"MD5\"]  requested_verify_option = \"VERIFIED\"  machine_type = \"N1_HIGHCPU_8\"  disk_size_gb = 100  substitution_option = \"ALLOW_LOOSE\"  dynamic_substitutions = true  log_streaming_option = \"STREAM_OFF\"  worker_pool = \"pool\"  logging = \"LEGACY\"  env = [\"ekey = evalue\"]  secret_env = [\"secretenv = svalue\"]  volumes {    name = \"v1\"    path = \"v1\"  }}</code></pre><p>}<br />}<br /></p><div class = \"oics-button\" style=\"float: right; margin: 0 0 -15px\">  <a href=\"https://console.cloud.google.com/cloudshell/open?cloudshell_git_repo=https%3A%2F%2Fgithub.com%2Fterraform-google-modules%2Fdocs-examples.git&cloudshell_working_dir=cloudbuild_trigger_allow_exit_codes&cloudshell_image=gcr.io%2Fcloudshell-images%2Fcloudshell%3Alatest&open_in_editor=main.tf&cloudshell_print=.%2Fmotd&cloudshell_tutorial=.%2Ftutorial.md\" target=\"_blank\">    <img alt=\"Open in Cloud Shell\" src=\"//gstatic.com/cloudssh/images/open-btn.svg\" style=\"max-height: 44px; margin: 32px auto; max-width: 100%;\">  </a></div>", "example-usage---cloudbuild-trigger-allow-exit-codes": "<h2 id=\"example-usage-cloudbuild-trigger-allow-exit-codes\">Example Usage - Cloudbuild Trigger Allow Exit Codes</h2><p><br />resource \"google_cloudbuild_trigger\" \"allow-exit-codes-trigger\" {<br />  name = \"my-trigger\"<br />  location = \"global\"</p><p>trigger_template {<br />    branch_name = \"main\"<br />    repo_name   = \"my-repo\"<br />  }</p><p>build {<br />    step {<br />      name = \"ubuntu\"<br />      args = [\"-c\", \"exit 1\"]<br />      allow_exit_codes = [1,3]<br />    }</p><pre><code>source {  storage_source {    bucket = \"mybucket\"    object = \"source_code.tar.gz\"  }}tags = [\"build\", \"newFeature\"]substitutions = {  _FOO = \"bar\"  _BAZ = \"qux\"}queue_ttl = \"20s\"logs_bucket = \"gs://mybucket/logs\"secret {  kms_key_name = \"projects/myProject/locations/global/keyRings/keyring-name/cryptoKeys/key-name\"  secret_env = {    PASSWORD = \"ZW5jcnlwdGVkLXBhc3N3b3JkCg==\"  }}available_secrets {  secret_manager {    env          = \"MY_SECRET\"    version_name = \"projects/myProject/secrets/mySecret/versions/latest\"  }}artifacts {  images = [\"gcr.io/$PROJECT_ID/$REPO_NAME:$COMMIT_SHA\"]  objects {    location = \"gs://bucket/path/to/somewhere/\"    paths = [\"path\"]  }}options {  source_provenance_hash = [\"MD5\"]  requested_verify_option = \"VERIFIED\"  machine_type = \"N1_HIGHCPU_8\"  disk_size_gb = 100  substitution_option = \"ALLOW_LOOSE\"  dynamic_substitutions = true  log_streaming_option = \"STREAM_OFF\"  worker_pool = \"pool\"  logging = \"LEGACY\"  env = [\"ekey = evalue\"]  secret_env = [\"secretenv = svalue\"]  volumes {    name = \"v1\"    path = \"v1\"  }}</code></pre><p>}<br />}<br /></p><div class = \"oics-button\" style=\"float: right; margin: 0 0 -15px\">  <a href=\"https://console.cloud.google.com/cloudshell/open?cloudshell_git_repo=https%3A%2F%2Fgithub.com%2Fterraform-google-modules%2Fdocs-examples.git&cloudshell_working_dir=cloudbuild_trigger_pubsub_with_repo&cloudshell_image=gcr.io%2Fcloudshell-images%2Fcloudshell%3Alatest&open_in_editor=main.tf&cloudshell_print=.%2Fmotd&cloudshell_tutorial=.%2Ftutorial.md\" target=\"_blank\">    <img alt=\"Open in Cloud Shell\" src=\"//gstatic.com/cloudssh/images/open-btn.svg\" style=\"max-height: 44px; margin: 32px auto; max-width: 100%;\">  </a></div>", "example-usage---cloudbuild-trigger-pubsub-with-repo": "<h2 id=\"example-usage-cloudbuild-trigger-pubsub-with-repo\">Example Usage - Cloudbuild Trigger Pubsub With Repo</h2><p><br />resource \"google_cloudbuildv2_connection\" \"my-connection\" {<br />  location = \"us-central1\"<br />  name = \"my-connection\"</p><p>github_config {<br />    app_installation_id = 123123<br />    authorizer_credential {<br />      oauth_token_secret_version = \"projects/my-project/secrets/github-pat-secret/versions/latest\"<br />    }<br />  }<br />}</p><p>resource \"google_cloudbuildv2_repository\" \"my-repository\" {<br />  name = \"my-repo\"<br />  parent_connection = google_cloudbuildv2_connection.my-connection.id<br />  remote_uri = \"https://github.com/myuser/my-repo.git\"<br />}</p><p>resource \"google_pubsub_topic\" \"mytopic\" {<br />  name = \"my-topic\"<br />}</p><p>resource \"google_cloudbuild_trigger\" \"pubsub-with-repo-trigger\" {<br />  name = \"pubsub-with-repo-trigger\"<br />  location = \"us-central1\"</p><p>pubsub_config {<br />    topic = google_pubsub_topic.mytopic.id<br />  }<br />  source_to_build {<br />    repository = google_cloudbuildv2_repository.my-repository.id<br />    ref = \"refs/heads/main\"<br />    repo_type = \"GITHUB\"<br />  }<br />  git_file_source {<br />    path = \"cloudbuild.yaml\"<br />    repository = google_cloudbuildv2_repository.my-repository.id<br />    revision = \"refs/heads/main\"<br />    repo_type = \"GITHUB\"<br />  }<br />}<br /></p>", "argument-reference": "<h2 id=\"argument-reference\">Argument Reference</h2><p>The following arguments are supported:</p><hr /><ul><li><p><code>name</code> -<br />  (Optional)<br />  Name of the trigger. Must be unique within the project.</p></li><li><p><code>description</code> -<br />  (Optional)<br />  Human-readable description of the trigger.</p></li><li><p><code>tags</code> -<br />  (Optional)<br />  Tags for annotation of a BuildTrigger</p></li><li><p><code>disabled</code> -<br />  (Optional)<br />  Whether the trigger is disabled or not. If true, the trigger will never result in a build.</p></li><li><p><code>substitutions</code> -<br />  (Optional)<br />  Substitutions data for Build resource.</p></li><li><p><code>service_account</code> -<br />  (Optional)<br />  The service account used for all user-controlled operations including<br />  triggers.patch, triggers.run, builds.create, and builds.cancel.<br />  If no service account is set, then the standard Cloud Build service account<br />  ([PROJECT_NUM]@system.gserviceaccount.com) will be used instead.<br />  Format: projects/{PROJECT_ID}/serviceAccounts/{ACCOUNT_ID_OR_EMAIL}</p></li><li><p><code>include_build_logs</code> -<br />  (Optional)<br />  Build logs will be sent back to GitHub as part of the checkrun<br />  result.  Values can be INCLUDE_BUILD_LOGS_UNSPECIFIED or<br />  INCLUDE_BUILD_LOGS_WITH_STATUS<br />  Possible values are: <code>INCLUDE_BUILD_LOGS_UNSPECIFIED</code>, <code>INCLUDE_BUILD_LOGS_WITH_STATUS</code>.</p></li><li><p><code>filename</code> -<br />  (Optional)<br />  Path, from the source root, to a file whose contents is used for the template.<br />  Either a filename or build template must be provided. Set this only when using trigger_template or github.<br />  When using Pub/Sub, Webhook or Manual set the file name using git_file_source instead.</p></li><li><p><code>filter</code> -<br />  (Optional)<br />  A Common Expression Language string. Used only with Pub/Sub and Webhook.</p></li><li><p><code>git_file_source</code> -<br />  (Optional)<br />  The file source describing the local or remote Build template.<br />  Structure is <a href=\"#nested_git_file_source\">documented below</a>.</p></li><li><p><code>repository_event_config</code> -<br />  (Optional)<br />  The configuration of a trigger that creates a build whenever an event from Repo API is received.<br />  Structure is <a href=\"#nested_repository_event_config\">documented below</a>.</p></li><li><p><code>source_to_build</code> -<br />  (Optional)<br />  The repo and ref of the repository from which to build.<br />  This field is used only for those triggers that do not respond to SCM events.<br />  Triggers that respond to such events build source at whatever commit caused the event.<br />  This field is currently only used by Webhook, Pub/Sub, Manual, and Cron triggers.<br />  One of <code>trigger_template</code>, <code>github</code>, <code>pubsub_config</code> <code>webhook_config</code> or <code>source_to_build</code> must be provided.<br />  Structure is <a href=\"#nested_source_to_build\">documented below</a>.</p></li><li><p><code>ignored_files</code> -<br />  (Optional)<br />  ignoredFiles and includedFiles are file glob matches using https://golang.org/pkg/path/filepath/#Match<br />  extended with support for <code>**</code>.<br />  If ignoredFiles and changed files are both empty, then they are not<br />  used to determine whether or not to trigger a build.<br />  If ignoredFiles is not empty, then we ignore any files that match any<br />  of the ignored_file globs. If the change has no files that are outside<br />  of the ignoredFiles globs, then we do not trigger a build.</p></li><li><p><code>included_files</code> -<br />  (Optional)<br />  ignoredFiles and includedFiles are file glob matches using https://golang.org/pkg/path/filepath/#Match<br />  extended with support for <code>**</code>.<br />  If any of the files altered in the commit pass the ignoredFiles filter<br />  and includedFiles is empty, then as far as this filter is concerned, we<br />  should trigger the build.<br />  If any of the files altered in the commit pass the ignoredFiles filter<br />  and includedFiles is not empty, then we make sure that at least one of<br />  those files matches a includedFiles glob. If not, then we do not trigger<br />  a build.</p></li><li><p><code>trigger_template</code> -<br />  (Optional)<br />  Template describing the types of source changes to trigger a build.<br />  Branch and tag names in trigger templates are interpreted as regular<br />  expressions. Any branch or tag change that matches that regular<br />  expression will trigger a build.<br />  One of <code>trigger_template</code>, <code>github</code>, <code>pubsub_config</code>, <code>webhook_config</code> or <code>source_to_build</code> must be provided.<br />  Structure is <a href=\"#nested_trigger_template\">documented below</a>.</p></li><li><p><code>github</code> -<br />  (Optional)<br />  Describes the configuration of a trigger that creates a build whenever a GitHub event is received.<br />  One of <code>trigger_template</code>, <code>github</code>, <code>pubsub_config</code> or <code>webhook_config</code> must be provided.<br />  Structure is <a href=\"#nested_github\">documented below</a>.</p></li><li><p><code>bitbucket_server_trigger_config</code> -<br />  (Optional)<br />  BitbucketServerTriggerConfig describes the configuration of a trigger that creates a build whenever a Bitbucket Server event is received.<br />  Structure is <a href=\"#nested_bitbucket_server_trigger_config\">documented below</a>.</p></li><li><p><code>pubsub_config</code> -<br />  (Optional)<br />  PubsubConfig describes the configuration of a trigger that creates<br />  a build whenever a Pub/Sub message is published.<br />  One of <code>trigger_template</code>, <code>github</code>, <code>pubsub_config</code> <code>webhook_config</code> or <code>source_to_build</code> must be provided.<br />  Structure is <a href=\"#nested_pubsub_config\">documented below</a>.</p></li><li><p><code>webhook_config</code> -<br />  (Optional)<br />  WebhookConfig describes the configuration of a trigger that creates<br />  a build whenever a webhook is sent to a trigger's webhook URL.<br />  One of <code>trigger_template</code>, <code>github</code>, <code>pubsub_config</code> <code>webhook_config</code> or <code>source_to_build</code> must be provided.<br />  Structure is <a href=\"#nested_webhook_config\">documented below</a>.</p></li><li><p><code>approval_config</code> -<br />  (Optional)<br />  Configuration for manual approval to start a build invocation of this BuildTrigger.<br />  Builds created by this trigger will require approval before they execute.<br />  Any user with a Cloud Build Approver role for the project can approve a build.<br />  Structure is <a href=\"#nested_approval_config\">documented below</a>.</p></li><li><p><code>build</code> -<br />  (Optional)<br />  Contents of the build template. Either a filename or build template must be provided.<br />  Structure is <a href=\"#nested_build\">documented below</a>.</p></li><li><p><code>location</code> -<br />  (Optional)<br />  The <a href=\"https://cloud.google.com/build/docs/locations\">Cloud Build location</a> for the trigger.<br />  If not specified, \"global\" is used.</p></li><li><p><code>project</code> - (Optional) The ID of the project in which the resource belongs.<br />    If it is not provided, the provider project is used.</p></li></ul><p><a name=\"nested_git_file_source\"></a>The <code>git_file_source</code> block supports:</p><ul><li><p><code>path</code> -<br />  (Required)<br />  The path of the file, with the repo root as the root of the path.</p></li><li><p><code>uri</code> -<br />  (Optional)<br />  The URI of the repo (optional). If unspecified, the repo from which the trigger<br />  invocation originated is assumed to be the repo from which to read the specified path.</p></li><li><p><code>repository</code> -<br />  (Optional)<br />  The fully qualified resource name of the Repo API repository. The fully qualified resource name of the Repo API repository.<br />  If unspecified, the repo from which the trigger invocation originated is assumed to be the repo from which to read the specified path.</p></li><li><p><code>repo_type</code> -<br />  (Required)<br />  The type of the repo, since it may not be explicit from the repo field (e.g from a URL).<br />  Values can be UNKNOWN, CLOUD_SOURCE_REPOSITORIES, GITHUB, BITBUCKET_SERVER<br />  Possible values are: <code>UNKNOWN</code>, <code>CLOUD_SOURCE_REPOSITORIES</code>, <code>GITHUB</code>, <code>BITBUCKET_SERVER</code>.</p></li><li><p><code>revision</code> -<br />  (Optional)<br />  The branch, tag, arbitrary ref, or SHA version of the repo to use when resolving the<br />  filename (optional). This field respects the same syntax/resolution as described here: https://git-scm.com/docs/gitrevisions<br />  If unspecified, the revision from which the trigger invocation originated is assumed to be the revision from which to read the specified path.</p></li><li><p><code>github_enterprise_config</code> -<br />  (Optional)<br />  The full resource name of the github enterprise config.<br />  Format: projects/{project}/locations/{location}/githubEnterpriseConfigs/{id}. projects/{project}/githubEnterpriseConfigs/{id}.</p></li><li><p><code>bitbucket_server_config</code> -<br />  (Optional)<br />  The full resource name of the bitbucket server config.<br />  Format: projects/{project}/locations/{location}/bitbucketServerConfigs/{id}.</p></li></ul><p><a name=\"nested_repository_event_config\"></a>The <code>repository_event_config</code> block supports:</p><ul><li><p><code>repository</code> -<br />  (Optional)<br />  The resource name of the Repo API resource.</p></li><li><p><code>pull_request</code> -<br />  (Optional)<br />  Contains filter properties for matching Pull Requests.<br />  Structure is <a href=\"#nested_pull_request\">documented below</a>.</p></li><li><p><code>push</code> -<br />  (Optional)<br />  Contains filter properties for matching git pushes.<br />  Structure is <a href=\"#nested_push\">documented below</a>.</p></li></ul><p><a name=\"nested_pull_request\"></a>The <code>pull_request</code> block supports:</p><ul><li><p><code>branch</code> -<br />  (Optional)<br />  Regex of branches to match.<br />  The syntax of the regular expressions accepted is the syntax accepted by<br />  RE2 and described at https://github.com/google/re2/wiki/Syntax</p></li><li><p><code>invert_regex</code> -<br />  (Optional)<br />  If true, branches that do NOT match the git_ref will trigger a build.</p></li><li><p><code>comment_control</code> -<br />  (Optional)<br />  Configure builds to run whether a repository owner or collaborator need to comment <code>/gcbrun</code>.<br />  Possible values are: <code>COMMENTS_DISABLED</code>, <code>COMMENTS_ENABLED</code>, <code>COMMENTS_ENABLED_FOR_EXTERNAL_CONTRIBUTORS_ONLY</code>.</p></li></ul><p><a name=\"nested_push\"></a>The <code>push</code> block supports:</p><ul><li><p><code>branch</code> -<br />  (Optional)<br />  Regex of branches to match.<br />  The syntax of the regular expressions accepted is the syntax accepted by<br />  RE2 and described at https://github.com/google/re2/wiki/Syntax</p></li><li><p><code>tag</code> -<br />  (Optional)<br />  Regex of tags to match.<br />  The syntax of the regular expressions accepted is the syntax accepted by<br />  RE2 and described at https://github.com/google/re2/wiki/Syntax</p></li><li><p><code>invert_regex</code> -<br />  (Optional)<br />  If true, only trigger a build if the revision regex does NOT match the git_ref regex.</p></li></ul><p><a name=\"nested_source_to_build\"></a>The <code>source_to_build</code> block supports:</p><ul><li><p><code>uri</code> -<br />  (Optional)<br />  The URI of the repo.</p></li><li><p><code>repository</code> -<br />  (Optional)<br />  The qualified resource name of the Repo API repository.<br />  Either uri or repository can be specified and is required.</p></li><li><p><code>ref</code> -<br />  (Required)<br />  The branch or tag to use. Must start with \"refs/\" (required).</p></li><li><p><code>repo_type</code> -<br />  (Required)<br />  The type of the repo, since it may not be explicit from the repo field (e.g from a URL).<br />  Values can be UNKNOWN, CLOUD_SOURCE_REPOSITORIES, GITHUB, BITBUCKET_SERVER<br />  Possible values are: <code>UNKNOWN</code>, <code>CLOUD_SOURCE_REPOSITORIES</code>, <code>GITHUB</code>, <code>BITBUCKET_SERVER</code>.</p></li><li><p><code>github_enterprise_config</code> -<br />  (Optional)<br />  The full resource name of the github enterprise config.<br />  Format: projects/{project}/locations/{location}/githubEnterpriseConfigs/{id}. projects/{project}/githubEnterpriseConfigs/{id}.</p></li><li><p><code>bitbucket_server_config</code> -<br />  (Optional)<br />  The full resource name of the bitbucket server config.<br />  Format: projects/{project}/locations/{location}/bitbucketServerConfigs/{id}.</p></li></ul><p><a name=\"nested_trigger_template\"></a>The <code>trigger_template</code> block supports:</p><ul><li><p><code>project_id</code> -<br />  (Optional)<br />  ID of the project that owns the Cloud Source Repository. If<br />  omitted, the project ID requesting the build is assumed.</p></li><li><p><code>repo_name</code> -<br />  (Optional)<br />  Name of the Cloud Source Repository. If omitted, the name \"default\" is assumed.</p></li><li><p><code>dir</code> -<br />  (Optional)<br />  Directory, relative to the source root, in which to run the build.<br />  This must be a relative path. If a step's dir is specified and<br />  is an absolute path, this value is ignored for that step's<br />  execution.</p></li><li><p><code>invert_regex</code> -<br />  (Optional)<br />  Only trigger a build if the revision regex does NOT match the revision regex.</p></li><li><p><code>branch_name</code> -<br />  (Optional)<br />  Name of the branch to build. Exactly one a of branch name, tag, or commit SHA must be provided.<br />  This field is a regular expression.</p></li><li><p><code>tag_name</code> -<br />  (Optional)<br />  Name of the tag to build. Exactly one of a branch name, tag, or commit SHA must be provided.<br />  This field is a regular expression.</p></li><li><p><code>commit_sha</code> -<br />  (Optional)<br />  Explicit commit SHA to build. Exactly one of a branch name, tag, or commit SHA must be provided.</p></li></ul><p><a name=\"nested_github\"></a>The <code>github</code> block supports:</p><ul><li><p><code>owner</code> -<br />  (Optional)<br />  Owner of the repository. For example: The owner for<br />  https://github.com/googlecloudplatform/cloud-builders is \"googlecloudplatform\".</p></li><li><p><code>name</code> -<br />  (Optional)<br />  Name of the repository. For example: The name for<br />  https://github.com/googlecloudplatform/cloud-builders is \"cloud-builders\".</p></li><li><p><code>pull_request</code> -<br />  (Optional)<br />  filter to match changes in pull requests. Specify only one of <code>pull_request</code> or <code>push</code>.<br />  Structure is <a href=\"#nested_pull_request\">documented below</a>.</p></li><li><p><code>push</code> -<br />  (Optional)<br />  filter to match changes in refs, like branches or tags. Specify only one of <code>pull_request</code> or <code>push</code>.<br />  Structure is <a href=\"#nested_push\">documented below</a>.</p></li><li><p><code>enterprise_config_resource_name</code> -<br />  (Optional)<br />  The resource name of the github enterprise config that should be applied to this installation.<br />  For example: \"projects/{$projectId}/locations/{$locationId}/githubEnterpriseConfigs/{$configId}\"</p></li></ul><p><a name=\"nested_pull_request\"></a>The <code>pull_request</code> block supports:</p><ul><li><p><code>branch</code> -<br />  (Required)<br />  Regex of branches to match.</p></li><li><p><code>comment_control</code> -<br />  (Optional)<br />  Whether to block builds on a \"/gcbrun\" comment from a repository owner or collaborator.<br />  Possible values are: <code>COMMENTS_DISABLED</code>, <code>COMMENTS_ENABLED</code>, <code>COMMENTS_ENABLED_FOR_EXTERNAL_CONTRIBUTORS_ONLY</code>.</p></li><li><p><code>invert_regex</code> -<br />  (Optional)<br />  If true, branches that do NOT match the git_ref will trigger a build.</p></li></ul><p><a name=\"nested_push\"></a>The <code>push</code> block supports:</p><ul><li><p><code>invert_regex</code> -<br />  (Optional)<br />  When true, only trigger a build if the revision regex does NOT match the git_ref regex.</p></li><li><p><code>branch</code> -<br />  (Optional)<br />  Regex of branches to match.  Specify only one of branch or tag.</p></li><li><p><code>tag</code> -<br />  (Optional)<br />  Regex of tags to match.  Specify only one of branch or tag.</p></li></ul><p><a name=\"nested_bitbucket_server_trigger_config\"></a>The <code>bitbucket_server_trigger_config</code> block supports:</p><ul><li><p><code>repo_slug</code> -<br />  (Required)<br />  Slug of the repository. A repository slug is a URL-friendly version of a repository name, automatically generated by Bitbucket for use in the URL.<br />  For example, if the repository name is 'test repo', in the URL it would become 'test-repo' as in https://mybitbucket.server/projects/TEST/repos/test-repo.</p></li><li><p><code>project_key</code> -<br />  (Required)<br />  Key of the project that the repo is in. For example: The key for https://mybitbucket.server/projects/TEST/repos/test-repo is \"TEST\".</p></li><li><p><code>bitbucket_server_config_resource</code> -<br />  (Required)<br />  The Bitbucket server config resource that this trigger config maps to.</p></li><li><p><code>pull_request</code> -<br />  (Optional)<br />  Filter to match changes in pull requests.<br />  Structure is <a href=\"#nested_pull_request\">documented below</a>.</p></li><li><p><code>push</code> -<br />  (Optional)<br />  Filter to match changes in refs like branches, tags.<br />  Structure is <a href=\"#nested_push\">documented below</a>.</p></li></ul><p><a name=\"nested_pull_request\"></a>The <code>pull_request</code> block supports:</p><ul><li><p><code>branch</code> -<br />  (Required)<br />  Regex of branches to match.<br />  The syntax of the regular expressions accepted is the syntax accepted by RE2 and described at https://github.com/google/re2/wiki/Syntax</p></li><li><p><code>comment_control</code> -<br />  (Optional)<br />  Configure builds to run whether a repository owner or collaborator need to comment /gcbrun.<br />  Possible values are: <code>COMMENTS_DISABLED</code>, <code>COMMENTS_ENABLED</code>, <code>COMMENTS_ENABLED_FOR_EXTERNAL_CONTRIBUTORS_ONLY</code>.</p></li><li><p><code>invert_regex</code> -<br />  (Optional)<br />  If true, branches that do NOT match the git_ref will trigger a build.</p></li></ul><p><a name=\"nested_push\"></a>The <code>push</code> block supports:</p><ul><li><p><code>invert_regex</code> -<br />  (Optional)<br />  When true, only trigger a build if the revision regex does NOT match the gitRef regex.</p></li><li><p><code>branch</code> -<br />  (Optional)<br />  Regex of branches to match.  Specify only one of branch or tag.</p></li><li><p><code>tag</code> -<br />  (Optional)<br />  Regex of tags to match.  Specify only one of branch or tag.</p></li></ul><p><a name=\"nested_pubsub_config\"></a>The <code>pubsub_config</code> block supports:</p><ul><li><p><code>subscription</code> -<br />  (Output)<br />  Output only. Name of the subscription.</p></li><li><p><code>topic</code> -<br />  (Required)<br />  The name of the topic from which this subscription is receiving messages.</p></li><li><p><code>service_account_email</code> -<br />  (Optional)<br />  Service account that will make the push request.</p></li><li><p><code>state</code> -<br />  (Output)<br />  Potential issues with the underlying Pub/Sub subscription configuration.<br />  Only populated on get requests.</p></li></ul><p><a name=\"nested_webhook_config\"></a>The <code>webhook_config</code> block supports:</p><ul><li><p><code>secret</code> -<br />  (Required)<br />  Resource name for the secret required as a URL parameter.</p></li><li><p><code>state</code> -<br />  (Output)<br />  Potential issues with the underlying Pub/Sub subscription configuration.<br />  Only populated on get requests.</p></li></ul><p><a name=\"nested_approval_config\"></a>The <code>approval_config</code> block supports:</p><ul><li><code>approval_required</code> -<br />  (Optional)<br />  Whether or not approval is needed. If this is set on a build, it will become pending when run,<br />  and will need to be explicitly approved to start.</li></ul><p><a name=\"nested_build\"></a>The <code>build</code> block supports:</p><ul><li><p><code>source</code> -<br />  (Optional)<br />  The location of the source files to build.<br />  One of <code>storageSource</code> or <code>repoSource</code> must be provided.<br />  Structure is <a href=\"#nested_source\">documented below</a>.</p></li><li><p><code>tags</code> -<br />  (Optional)<br />  Tags for annotation of a Build. These are not docker tags.</p></li><li><p><code>images</code> -<br />  (Optional)<br />  A list of images to be pushed upon the successful completion of all build steps.<br />  The images are pushed using the builder service account's credentials.<br />  The digests of the pushed images will be stored in the Build resource's results field.<br />  If any of the images fail to be pushed, the build status is marked FAILURE.</p></li><li><p><code>substitutions</code> -<br />  (Optional)<br />  Substitutions data for Build resource.</p></li><li><p><code>queue_ttl</code> -<br />  (Optional)<br />  TTL in queue for this build. If provided and the build is enqueued longer than this value,<br />  the build will expire and the build status will be EXPIRED.<br />  The TTL starts ticking from createTime.<br />  A duration in seconds with up to nine fractional digits, terminated by 's'. Example: \"3.5s\".</p></li><li><p><code>logs_bucket</code> -<br />  (Optional)<br />  Google Cloud Storage bucket where logs should be written.<br />  Logs file names will be of the format ${logsBucket}/log-${build_id}.txt.</p></li><li><p><code>timeout</code> -<br />  (Optional)<br />  Amount of time that this build should be allowed to run, to second granularity.<br />  If this amount of time elapses, work on the build will cease and the build status will be TIMEOUT.<br />  This timeout must be equal to or greater than the sum of the timeouts for build steps within the build.<br />  The expected format is the number of seconds followed by s.<br />  Default time is ten minutes (600s).</p></li><li><p><code>secret</code> -<br />  (Optional)<br />  Secrets to decrypt using Cloud Key Management Service.<br />  Structure is <a href=\"#nested_secret\">documented below</a>.</p></li><li><p><code>available_secrets</code> -<br />  (Optional)<br />  Secrets and secret environment variables.<br />  Structure is <a href=\"#nested_available_secrets\">documented below</a>.</p></li><li><p><code>step</code> -<br />  (Required)<br />  The operations to be performed on the workspace.<br />  Structure is <a href=\"#nested_step\">documented below</a>.</p></li><li><p><code>artifacts</code> -<br />  (Optional)<br />  Artifacts produced by the build that should be uploaded upon successful completion of all build steps.<br />  Structure is <a href=\"#nested_artifacts\">documented below</a>.</p></li><li><p><code>options</code> -<br />  (Optional)<br />  Special options for this build.<br />  Structure is <a href=\"#nested_options\">documented below</a>.</p></li></ul><p><a name=\"nested_source\"></a>The <code>source</code> block supports:</p><ul><li><p><code>storage_source</code> -<br />  (Optional)<br />  Location of the source in an archive file in Google Cloud Storage.<br />  Structure is <a href=\"#nested_storage_source\">documented below</a>.</p></li><li><p><code>repo_source</code> -<br />  (Optional)<br />  Location of the source in a Google Cloud Source Repository.<br />  Structure is <a href=\"#nested_repo_source\">documented below</a>.</p></li></ul><p><a name=\"nested_storage_source\"></a>The <code>storage_source</code> block supports:</p><ul><li><p><code>bucket</code> -<br />  (Required)<br />  Google Cloud Storage bucket containing the source.</p></li><li><p><code>object</code> -<br />  (Required)<br />  Google Cloud Storage object containing the source.<br />  This object must be a gzipped archive file (.tar.gz) containing source to build.</p></li><li><p><code>generation</code> -<br />  (Optional)<br />  Google Cloud Storage generation for the object.<br />  If the generation is omitted, the latest generation will be used</p></li></ul><p><a name=\"nested_repo_source\"></a>The <code>repo_source</code> block supports:</p><ul><li><p><code>project_id</code> -<br />  (Optional)<br />  ID of the project that owns the Cloud Source Repository.<br />  If omitted, the project ID requesting the build is assumed.</p></li><li><p><code>repo_name</code> -<br />  (Required)<br />  Name of the Cloud Source Repository.</p></li><li><p><code>dir</code> -<br />  (Optional)<br />  Directory, relative to the source root, in which to run the build.<br />  This must be a relative path. If a step's dir is specified and is an absolute path,<br />  this value is ignored for that step's execution.</p></li><li><p><code>invert_regex</code> -<br />  (Optional)<br />  Only trigger a build if the revision regex does NOT match the revision regex.</p></li><li><p><code>substitutions</code> -<br />  (Optional)<br />  Substitutions to use in a triggered build. Should only be used with triggers.run</p></li><li><p><code>branch_name</code> -<br />  (Optional)<br />  Regex matching branches to build. Exactly one a of branch name, tag, or commit SHA must be provided.<br />  The syntax of the regular expressions accepted is the syntax accepted by RE2 and<br />  described at https://github.com/google/re2/wiki/Syntax</p></li><li><p><code>tag_name</code> -<br />  (Optional)<br />  Regex matching tags to build. Exactly one a of branch name, tag, or commit SHA must be provided.<br />  The syntax of the regular expressions accepted is the syntax accepted by RE2 and<br />  described at https://github.com/google/re2/wiki/Syntax</p></li><li><p><code>commit_sha</code> -<br />  (Optional)<br />  Explicit commit SHA to build. Exactly one a of branch name, tag, or commit SHA must be provided.</p></li></ul><p><a name=\"nested_secret\"></a>The <code>secret</code> block supports:</p><ul><li><p><code>kms_key_name</code> -<br />  (Required)<br />  Cloud KMS key name to use to decrypt these envs.</p></li><li><p><code>secret_env</code> -<br />  (Optional)<br />  Map of environment variable name to its encrypted value.<br />  Secret environment variables must be unique across all of a build's secrets,<br />  and must be used by at least one build step. Values can be at most 64 KB in size.<br />  There can be at most 100 secret values across all of a build's secrets.</p></li></ul><p><a name=\"nested_available_secrets\"></a>The <code>available_secrets</code> block supports:</p><ul><li><code>secret_manager</code> -<br />  (Required)<br />  Pairs a secret environment variable with a SecretVersion in Secret Manager.<br />  Structure is <a href=\"#nested_secret_manager\">documented below</a>.</li></ul><p><a name=\"nested_secret_manager\"></a>The <code>secret_manager</code> block supports:</p><ul><li><p><code>version_name</code> -<br />  (Required)<br />  Resource name of the SecretVersion. In format: projects/<em>/secrets/</em>/versions/*</p></li><li><p><code>env</code> -<br />  (Required)<br />  Environment variable name to associate with the secret. Secret environment<br />  variables must be unique across all of a build's secrets, and must be used<br />  by at least one build step.</p></li></ul><p><a name=\"nested_step\"></a>The <code>step</code> block supports:</p><ul><li><p><code>name</code> -<br />  (Required)<br />  The name of the container image that will run this particular build step.<br />  If the image is available in the host's Docker daemon's cache, it will be<br />  run directly. If not, the host will attempt to pull the image first, using<br />  the builder service account's credentials if necessary.<br />  The Docker daemon's cache will already have the latest versions of all of<br />  the officially supported build steps (see https://github.com/GoogleCloudPlatform/cloud-builders<br />  for images and examples).<br />  The Docker daemon will also have cached many of the layers for some popular<br />  images, like \"ubuntu\", \"debian\", but they will be refreshed at the time<br />  you attempt to use them.<br />  If you built an image in a previous build step, it will be stored in the<br />  host's Docker daemon's cache and is available to use as the name for a<br />  later build step.</p></li><li><p><code>args</code> -<br />  (Optional)<br />  A list of arguments that will be presented to the step when it is started.<br />  If the image used to run the step's container has an entrypoint, the args<br />  are used as arguments to that entrypoint. If the image does not define an<br />  entrypoint, the first element in args is used as the entrypoint, and the<br />  remainder will be used as arguments.</p></li><li><p><code>env</code> -<br />  (Optional)<br />  A list of environment variable definitions to be used when<br />  running a step.<br />  The elements are of the form \"KEY=VALUE\" for the environment variable<br />  \"KEY\" being given the value \"VALUE\".</p></li><li><p><code>id</code> -<br />  (Optional)<br />  Unique identifier for this build step, used in <code>wait_for</code> to<br />  reference this build step as a dependency.</p></li><li><p><code>entrypoint</code> -<br />  (Optional)<br />  Entrypoint to be used instead of the build step image's<br />  default entrypoint.<br />  If unset, the image's default entrypoint is used</p></li><li><p><code>dir</code> -<br />  (Optional)<br />  Working directory to use when running this step's container.<br />  If this value is a relative path, it is relative to the build's working<br />  directory. If this value is absolute, it may be outside the build's working<br />  directory, in which case the contents of the path may not be persisted<br />  across build step executions, unless a <code>volume</code> for that path is specified.<br />  If the build specifies a <code>RepoSource</code> with <code>dir</code> and a step with a<br /><code>dir</code>,<br />  which specifies an absolute path, the <code>RepoSource</code> <code>dir</code> is ignored<br />  for the step's execution.</p></li><li><p><code>secret_env</code> -<br />  (Optional)<br />  A list of environment variables which are encrypted using<br />  a Cloud Key<br />  Management Service crypto key. These values must be specified in<br />  the build's <code>Secret</code>.</p></li><li><p><code>timeout</code> -<br />  (Optional)<br />  Time limit for executing this build step. If not defined,<br />  the step has no<br />  time limit and will be allowed to continue to run until either it<br />  completes or the build itself times out.</p></li><li><p><code>timing</code> -<br />  (Optional)<br />  Output only. Stores timing information for executing this<br />  build step.</p></li><li><p><code>volumes</code> -<br />  (Optional)<br />  List of volumes to mount into the build step.<br />  Each volume is created as an empty volume prior to execution of the<br />  build step. Upon completion of the build, volumes and their contents<br />  are discarded.<br />  Using a named volume in only one step is not valid as it is<br />  indicative of a build request with an incorrect configuration.<br />  Structure is <a href=\"#nested_volumes\">documented below</a>.</p></li><li><p><code>wait_for</code> -<br />  (Optional)<br />  The ID(s) of the step(s) that this build step depends on.<br />  This build step will not start until all the build steps in <code>wait_for</code><br />  have completed successfully. If <code>wait_for</code> is empty, this build step<br />  will start when all previous build steps in the <code>Build.Steps</code> list<br />  have completed successfully.</p></li><li><p><code>script</code> -<br />  (Optional)<br />  A shell script to be executed in the step.<br />  When script is provided, the user cannot specify the entrypoint or args.</p></li><li><p><code>allow_failure</code> -<br />  (Optional)<br />  Allow this build step to fail without failing the entire build.<br />  If false, the entire build will fail if this step fails. Otherwise, the<br />  build will succeed, but this step will still have a failure status.<br />  Error information will be reported in the <code>failureDetail</code> field.<br /><code>allowExitCodes</code> takes precedence over this field.</p></li><li><p><code>allow_exit_codes</code> -<br />  (Optional)<br />  Allow this build step to fail without failing the entire build if and<br />  only if the exit code is one of the specified codes.<br />  If <code>allowFailure</code> is also specified, this field will take precedence.</p></li></ul><p><a name=\"nested_volumes\"></a>The <code>volumes</code> block supports:</p><ul><li><p><code>name</code> -<br />  (Required)<br />  Name of the volume to mount.<br />  Volume names must be unique per build step and must be valid names for<br />  Docker volumes. Each named volume must be used by at least two build steps.</p></li><li><p><code>path</code> -<br />  (Required)<br />  Path at which to mount the volume.<br />  Paths must be absolute and cannot conflict with other volume paths on<br />  the same build step or with certain reserved volume paths.</p></li></ul><p><a name=\"nested_artifacts\"></a>The <code>artifacts</code> block supports:</p><ul><li><p><code>images</code> -<br />  (Optional)<br />  A list of images to be pushed upon the successful completion of all build steps.<br />  The images will be pushed using the builder service account's credentials.<br />  The digests of the pushed images will be stored in the Build resource's results field.<br />  If any of the images fail to be pushed, the build is marked FAILURE.</p></li><li><p><code>objects</code> -<br />  (Optional)<br />  A list of objects to be uploaded to Cloud Storage upon successful completion of all build steps.<br />  Files in the workspace matching specified paths globs will be uploaded to the<br />  Cloud Storage location using the builder service account's credentials.<br />  The location and generation of the uploaded objects will be stored in the Build resource's results field.<br />  If any objects fail to be pushed, the build is marked FAILURE.<br />  Structure is <a href=\"#nested_objects\">documented below</a>.</p></li></ul><p><a name=\"nested_objects\"></a>The <code>objects</code> block supports:</p><ul><li><p><code>location</code> -<br />  (Optional)<br />  Cloud Storage bucket and optional object path, in the form \"gs://bucket/path/to/somewhere/\".<br />  Files in the workspace matching any path pattern will be uploaded to Cloud Storage with<br />  this location as a prefix.</p></li><li><p><code>paths</code> -<br />  (Optional)<br />  Path globs used to match files in the build's workspace.</p></li><li><p><code>timing</code> -<br />  (Output)<br />  Output only. Stores timing information for pushing all artifact objects.<br />  Structure is <a href=\"#nested_timing\">documented below</a>.</p></li></ul><p><a name=\"nested_timing\"></a>The <code>timing</code> block contains:</p><ul><li><p><code>start_time</code> -<br />  (Optional)<br />  Start of time span.<br />  A timestamp in RFC3339 UTC \"Zulu\" format, with nanosecond resolution and up to<br />  nine fractional digits. Examples: \"2014-10-02T15:01:23Z\" and \"2014-10-02T15:01:23.045123456Z\".</p></li><li><p><code>end_time</code> -<br />  (Optional)<br />  End of time span.<br />  A timestamp in RFC3339 UTC \"Zulu\" format, with nanosecond resolution and up to<br />  nine fractional digits. Examples: \"2014-10-02T15:01:23Z\" and \"2014-10-02T15:01:23.045123456Z\".</p></li></ul><p><a name=\"nested_options\"></a>The <code>options</code> block supports:</p><ul><li><p><code>source_provenance_hash</code> -<br />  (Optional)<br />  Requested hash for SourceProvenance.<br />  Each value may be one of: <code>NONE</code>, <code>SHA256</code>, <code>MD5</code>.</p></li><li><p><code>requested_verify_option</code> -<br />  (Optional)<br />  Requested verifiability options.<br />  Possible values are: <code>NOT_VERIFIED</code>, <code>VERIFIED</code>.</p></li><li><p><code>machine_type</code> -<br />  (Optional)<br />  Compute Engine machine type on which to run the build.</p></li><li><p><code>disk_size_gb</code> -<br />  (Optional)<br />  Requested disk size for the VM that runs the build. Note that this is NOT \"disk free\";<br />  some of the space will be used by the operating system and build utilities.<br />  Also note that this is the minimum disk size that will be allocated for the build --<br />  the build may run with a larger disk than requested. At present, the maximum disk size<br />  is 1000GB; builds that request more than the maximum are rejected with an error.</p></li><li><p><code>substitution_option</code> -<br />  (Optional)<br />  Option to specify behavior when there is an error in the substitution checks.<br />  NOTE this is always set to ALLOW_LOOSE for triggered builds and cannot be overridden<br />  in the build configuration file.<br />  Possible values are: <code>MUST_MATCH</code>, <code>ALLOW_LOOSE</code>.</p></li><li><p><code>dynamic_substitutions</code> -<br />  (Optional)<br />  Option to specify whether or not to apply bash style string operations to the substitutions.<br />  NOTE this is always enabled for triggered builds and cannot be overridden in the build configuration file.</p></li><li><p><code>log_streaming_option</code> -<br />  (Optional)<br />  Option to define build log streaming behavior to Google Cloud Storage.<br />  Possible values are: <code>STREAM_DEFAULT</code>, <code>STREAM_ON</code>, <code>STREAM_OFF</code>.</p></li><li><p><code>worker_pool</code> -<br />  (Optional)<br />  Option to specify a WorkerPool for the build. Format projects/{project}/workerPools/{workerPool}<br />  This field is experimental.</p></li><li><p><code>logging</code> -<br />  (Optional)<br />  Option to specify the logging mode, which determines if and where build logs are stored.<br />  Possible values are: <code>LOGGING_UNSPECIFIED</code>, <code>LEGACY</code>, <code>GCS_ONLY</code>, <code>STACKDRIVER_ONLY</code>, <code>CLOUD_LOGGING_ONLY</code>, <code>NONE</code>.</p></li><li><p><code>env</code> -<br />  (Optional)<br />  A list of global environment variable definitions that will exist for all build steps<br />  in this build. If a variable is defined in both globally and in a build step,<br />  the variable will use the build step value.<br />  The elements are of the form \"KEY=VALUE\" for the environment variable \"KEY\" being given the value \"VALUE\".</p></li><li><p><code>secret_env</code> -<br />  (Optional)<br />  A list of global environment variables, which are encrypted using a Cloud Key Management<br />  Service crypto key. These values must be specified in the build's Secret. These variables<br />  will be available to all build steps in this build.</p></li><li><p><code>volumes</code> -<br />  (Optional)<br />  Global list of volumes to mount for ALL build steps<br />  Each volume is created as an empty volume prior to starting the build process.<br />  Upon completion of the build, volumes and their contents are discarded. Global<br />  volume names and paths cannot conflict with the volumes defined a build step.<br />  Using a global volume in a build with only one step is not valid as it is indicative<br />  of a build request with an incorrect configuration.<br />  Structure is <a href=\"#nested_volumes\">documented below</a>.</p></li></ul><p><a name=\"nested_volumes\"></a>The <code>volumes</code> block supports:</p><ul><li><p><code>name</code> -<br />  (Optional)<br />  Name of the volume to mount.<br />  Volume names must be unique per build step and must be valid names for Docker volumes.<br />  Each named volume must be used by at least two build steps.</p></li><li><p><code>path</code> -<br />  (Optional)<br />  Path at which to mount the volume.<br />  Paths must be absolute and cannot conflict with other volume paths on the same<br />  build step or with certain reserved volume paths.</p></li></ul>", "attributes-reference": "<h2 id=\"attributes-reference\">Attributes Reference</h2><p>In addition to the arguments listed above, the following computed attributes are exported:</p><ul><li><p><code>id</code> - an identifier for the resource with format <code>projects/{{project}}/locations/{{location}}/triggers/{{trigger_id}}</code></p></li><li><p><code>trigger_id</code> -<br />  The unique identifier for the trigger.</p></li><li><p><code>create_time</code> -<br />  Time when the trigger was created.</p></li></ul>", "timeouts": "<h2 id=\"timeouts\">Timeouts</h2><p>This resource provides the following<br /><a href=\"https://developer.hashicorp.com/terraform/plugin/sdkv2/resources/retries-and-customizable-timeouts\">Timeouts</a> configuration options:</p><ul><li><code>create</code> - Default is 20 minutes.</li><li><code>update</code> - Default is 20 minutes.</li><li><code>delete</code> - Default is 20 minutes.</li></ul>", "import": "<h2 id=\"import\">Import</h2><p>Trigger can be imported using any of these accepted formats:</p><p><code>$ terraform import google_cloudbuild_trigger.default projects/{{project}}/locations/{{location}}/triggers/{{trigger_id}}$ terraform import google_cloudbuild_trigger.default projects/{{project}}/triggers/{{trigger_id}}$ terraform import google_cloudbuild_trigger.default {{project}}/{{trigger_id}}$ terraform import google_cloudbuild_trigger.default {{trigger_id}}</code></p>", "user-project-overrides": "<h2 id=\"user-project-overrides\">User Project Overrides</h2><p>This resource supports <a href=\"https://registry.terraform.io/providers/hashicorp/google/latest/docs/guides/provider_reference#user_project_override\">User Project Overrides</a>.</p>", "description": "<h1 id=\"google_cloudbuild_trigger\">google_cloudbuild_trigger</h1><p>Configuration for an automated build in response to source repository changes.</p><p>To get more information about Trigger, see:</p><ul><li><a href=\"https://cloud.google.com/cloud-build/docs/api/reference/rest/v1/projects.triggers\">API documentation</a></li><li>How-to Guides<ul><li><a href=\"https://cloud.google.com/cloud-build/docs/running-builds/automate-builds\">Automating builds using build triggers</a></li></ul></li></ul><p>~&gt; <strong>Note:</strong> You can retrieve the email of the Cloud Build Service Account used in jobs by using the <code>google_project_service_identity</code> resource.</p><div class = \"oics-button\" style=\"float: right; margin: 0 0 -15px\">  <a href=\"https://console.cloud.google.com/cloudshell/open?cloudshell_git_repo=https%3A%2F%2Fgithub.com%2Fterraform-google-modules%2Fdocs-examples.git&cloudshell_working_dir=cloudbuild_trigger_filename&cloudshell_image=gcr.io%2Fcloudshell-images%2Fcloudshell%3Alatest&open_in_editor=main.tf&cloudshell_print=.%2Fmotd&cloudshell_tutorial=.%2Ftutorial.md\" target=\"_blank\">    <img alt=\"Open in Cloud Shell\" src=\"//gstatic.com/cloudssh/images/open-btn.svg\" style=\"max-height: 44px; margin: 32px auto; max-width: 100%;\">  </a></div>"}