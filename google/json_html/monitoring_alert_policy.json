{"": "<h1 id=\"-_2\">----------------------------------------------------------------------------</h1><p>subcategory: \"Cloud (Stackdriver) Monitoring\"<br />description: |-<br />  A description of the conditions under which some aspect of your system is<br />  considered to be \"unhealthy\" and the ways to notify people or services<br />  about this state.</p><hr />", "auto-generated-code-type-mmv1": "<h1 id=\"auto-generated-code-type-mmv1\"><strong><em>     AUTO GENERATED CODE    </em></strong>    Type: MMv1     ***</h1>", "this-file-is-automatically-generated-by-magic-modules-and-manual": "<h1 id=\"this-file-is-automatically-generated-by-magic-modules-and-manual\">This file is automatically generated by Magic Modules and manual</h1>", "changes-will-be-clobbered-when-the-file-is-regenerated": "<h1 id=\"changes-will-be-clobbered-when-the-file-is-regenerated\">changes will be clobbered when the file is regenerated.</h1>", "please-read-more-about-how-to-change-this-file-in": "<h1 id=\"please-read-more-about-how-to-change-this-file-in\">Please read more about how to change this file in</h1>", "github-contributing-md": "<h1 id=\"githubcontributingmd\">.github/CONTRIBUTING.md.</h1>", "google-monitoring-alert-policy": "<h1 id=\"google_monitoring_alert_policy\">google_monitoring_alert_policy</h1><p>A description of the conditions under which some aspect of your system is<br />considered to be \"unhealthy\" and the ways to notify people or services<br />about this state.</p><p>To get more information about AlertPolicy, see:</p><ul><li><a href=\"https://cloud.google.com/monitoring/api/ref_v3/rest/v3/projects.alertPolicies\">API documentation</a></li><li>How-to Guides<ul><li><a href=\"https://cloud.google.com/monitoring/alerts/\">Official Documentation</a></li></ul></li></ul>", "example-usage---monitoring-alert-policy-basic": "<h2 id=\"example-usage-monitoring-alert-policy-basic\">Example Usage - Monitoring Alert Policy Basic</h2><p><br />resource \"google_monitoring_alert_policy\" \"alert_policy\" {<br />  display_name = \"My Alert Policy\"<br />  combiner     = \"OR\"<br />  conditions {<br />    display_name = \"test condition\"<br />    condition_threshold {<br />      filter     = \"metric.type=\\\"compute.googleapis.com/instance/disk/write_bytes_count\\\" AND resource.type=\\\"gce_instance\\\"\"<br />      duration   = \"60s\"<br />      comparison = \"COMPARISON_GT\"<br />      aggregations {<br />        alignment_period   = \"60s\"<br />        per_series_aligner = \"ALIGN_RATE\"<br />      }<br />    }<br />  }</p><p>user_labels = {<br />    foo = \"bar\"<br />  }<br />}<br /></p>", "example-usage---monitoring-alert-policy-evaluation-missing-data": "<h2 id=\"example-usage-monitoring-alert-policy-evaluation-missing-data\">Example Usage - Monitoring Alert Policy Evaluation Missing Data</h2><p><br />resource \"google_monitoring_alert_policy\" \"alert_policy\" {<br />  display_name = \"My Alert Policy\"<br />  combiner     = \"OR\"<br />  conditions {<br />    display_name = \"test condition\"<br />    condition_threshold {<br />      filter     = \"metric.type=\\\"compute.googleapis.com/instance/disk/write_bytes_count\\\" AND resource.type=\\\"gce_instance\\\"\"<br />      duration   = \"60s\"<br />      comparison = \"COMPARISON_GT\"<br />      aggregations {<br />        alignment_period   = \"60s\"<br />        per_series_aligner = \"ALIGN_RATE\"<br />      }<br />      evaluation_missing_data = \"EVALUATION_MISSING_DATA_INACTIVE\"<br />    }<br />  }</p><p>user_labels = {<br />    foo = \"bar\"<br />  }<br />}<br /></p>", "example-usage---monitoring-alert-policy-forecast-options": "<h2 id=\"example-usage-monitoring-alert-policy-forecast-options\">Example Usage - Monitoring Alert Policy Forecast Options</h2><p><br />resource \"google_monitoring_alert_policy\" \"alert_policy\" {<br />  display_name = \"My Alert Policy\"<br />  combiner     = \"OR\"<br />  conditions {<br />    display_name = \"test condition\"<br />    condition_threshold {<br />      filter     = \"metric.type=\\\"compute.googleapis.com/instance/disk/write_bytes_count\\\" AND resource.type=\\\"gce_instance\\\"\"<br />      duration   = \"60s\"<br />      forecast_options {<br />        forecast_horizon = \"3600s\"<br />      }<br />      comparison = \"COMPARISON_GT\"<br />      aggregations {<br />        alignment_period   = \"60s\"<br />        per_series_aligner = \"ALIGN_RATE\"<br />      }<br />    }<br />  }</p><p>user_labels = {<br />    foo = \"bar\"<br />  }<br />}<br /></p>", "argument-reference": "<h2 id=\"argument-reference\">Argument Reference</h2><p>The following arguments are supported:</p><ul><li><p><code>display_name</code> -<br />  (Required)<br />  A short name or phrase used to identify the policy in<br />  dashboards, notifications, and incidents. To avoid confusion, don't use<br />  the same display name for multiple policies in the same project. The<br />  name is limited to 512 Unicode characters.</p></li><li><p><code>combiner</code> -<br />  (Required)<br />  How to combine the results of multiple conditions to<br />  determine if an incident should be opened.<br />  Possible values are: <code>AND</code>, <code>OR</code>, <code>AND_WITH_MATCHING_RESOURCE</code>.</p></li><li><p><code>conditions</code> -<br />  (Required)<br />  A list of conditions for the policy. The conditions are combined by<br />  AND or OR according to the combiner field. If the combined conditions<br />  evaluate to true, then an incident is created. A policy can have from<br />  one to six conditions.<br />  Structure is <a href=\"#nested_conditions\">documented below</a>.</p></li></ul><p><a name=\"nested_conditions\"></a>The <code>conditions</code> block supports:</p><ul><li><p><code>condition_absent</code> -<br />  (Optional)<br />  A condition that checks that a time series<br />  continues to receive new data points.<br />  Structure is <a href=\"#nested_condition_absent\">documented below</a>.</p></li><li><p><code>name</code> -<br />  (Output)<br />  The unique resource name for this condition.<br />  Its syntax is:<br />  projects/[PROJECT_ID]/alertPolicies/[POLICY_ID]/conditions/[CONDITION_ID]<br />  [CONDITION_ID] is assigned by Stackdriver Monitoring when<br />  the condition is created as part of a new or updated alerting<br />  policy.</p></li><li><p><code>condition_monitoring_query_language</code> -<br />  (Optional)<br />  A Monitoring Query Language query that outputs a boolean stream<br />  Structure is <a href=\"#nested_condition_monitoring_query_language\">documented below</a>.</p></li><li><p><code>condition_threshold</code> -<br />  (Optional)<br />  A condition that compares a time series against a<br />  threshold.<br />  Structure is <a href=\"#nested_condition_threshold\">documented below</a>.</p></li><li><p><code>display_name</code> -<br />  (Required)<br />  A short name or phrase used to identify the<br />  condition in dashboards, notifications, and<br />  incidents. To avoid confusion, don't use the same<br />  display name for multiple conditions in the same<br />  policy.</p></li><li><p><code>condition_matched_log</code> -<br />  (Optional)<br />  A condition that checks for log messages matching given constraints.<br />  If set, no other conditions can be present.<br />  Structure is <a href=\"#nested_condition_matched_log\">documented below</a>.</p></li><li><p><code>condition_prometheus_query_language</code> -<br />  (Optional)<br />  A Monitoring Query Language query that outputs a boolean stream<br />  A condition type that allows alert policies to be defined using<br />  Prometheus Query Language (PromQL).<br />  The PrometheusQueryLanguageCondition message contains information<br />  from a Prometheus alerting rule and its associated rule group.<br />  Structure is <a href=\"#nested_condition_prometheus_query_language\">documented below</a>.</p></li></ul><p><a name=\"nested_condition_absent\"></a>The <code>condition_absent</code> block supports:</p><ul><li><p><code>aggregations</code> -<br />  (Optional)<br />  Specifies the alignment of data points in<br />  individual time series as well as how to<br />  combine the retrieved time series together<br />  (such as when aggregating multiple streams<br />  on each resource to a single stream for each<br />  resource or when aggregating streams across<br />  all members of a group of resources).<br />  Multiple aggregations are applied in the<br />  order specified.<br />  Structure is <a href=\"#nested_aggregations\">documented below</a>.</p></li><li><p><code>trigger</code> -<br />  (Optional)<br />  The number/percent of time series for which<br />  the comparison must hold in order for the<br />  condition to trigger. If unspecified, then<br />  the condition will trigger if the comparison<br />  is true for any of the time series that have<br />  been identified by filter and aggregations.<br />  Structure is <a href=\"#nested_trigger\">documented below</a>.</p></li><li><p><code>duration</code> -<br />  (Required)<br />  The amount of time that a time series must<br />  fail to report new data to be considered<br />  failing. Currently, only values that are a<br />  multiple of a minute--e.g. 60s, 120s, or 300s<br />  --are supported.</p></li><li><p><code>filter</code> -<br />  (Optional)<br />  A filter that identifies which time series<br />  should be compared with the threshold.The<br />  filter is similar to the one that is<br />  specified in the<br />  MetricService.ListTimeSeries request (that<br />  call is useful to verify the time series<br />  that will be retrieved / processed) and must<br />  specify the metric type and optionally may<br />  contain restrictions on resource type,<br />  resource labels, and metric labels. This<br />  field may not exceed 2048 Unicode characters<br />  in length.</p></li></ul><p><a name=\"nested_aggregations\"></a>The <code>aggregations</code> block supports:</p><ul><li><p><code>per_series_aligner</code> -<br />  (Optional)<br />  The approach to be used to align<br />  individual time series. Not all<br />  alignment functions may be applied<br />  to all time series, depending on<br />  the metric type and value type of<br />  the original time series.<br />  Alignment may change the metric<br />  type or the value type of the time<br />  series.Time series data must be<br />  aligned in order to perform cross-<br />  time series reduction. If<br />  crossSeriesReducer is specified,<br />  then perSeriesAligner must be<br />  specified and not equal ALIGN_NONE<br />  and alignmentPeriod must be<br />  specified; otherwise, an error is<br />  returned.<br />  Possible values are: <code>ALIGN_NONE</code>, <code>ALIGN_DELTA</code>, <code>ALIGN_RATE</code>, <code>ALIGN_INTERPOLATE</code>, <code>ALIGN_NEXT_OLDER</code>, <code>ALIGN_MIN</code>, <code>ALIGN_MAX</code>, <code>ALIGN_MEAN</code>, <code>ALIGN_COUNT</code>, <code>ALIGN_SUM</code>, <code>ALIGN_STDDEV</code>, <code>ALIGN_COUNT_TRUE</code>, <code>ALIGN_COUNT_FALSE</code>, <code>ALIGN_FRACTION_TRUE</code>, <code>ALIGN_PERCENTILE_99</code>, <code>ALIGN_PERCENTILE_95</code>, <code>ALIGN_PERCENTILE_50</code>, <code>ALIGN_PERCENTILE_05</code>, <code>ALIGN_PERCENT_CHANGE</code>.</p></li><li><p><code>group_by_fields</code> -<br />  (Optional)<br />  The set of fields to preserve when<br />  crossSeriesReducer is specified.<br />  The groupByFields determine how<br />  the time series are partitioned<br />  into subsets prior to applying the<br />  aggregation function. Each subset<br />  contains time series that have the<br />  same value for each of the<br />  grouping fields. Each individual<br />  time series is a member of exactly<br />  one subset. The crossSeriesReducer<br />  is applied to each subset of time<br />  series. It is not possible to<br />  reduce across different resource<br />  types, so this field implicitly<br />  contains resource.type. Fields not<br />  specified in groupByFields are<br />  aggregated away. If groupByFields<br />  is not specified and all the time<br />  series have the same resource<br />  type, then the time series are<br />  aggregated into a single output<br />  time series. If crossSeriesReducer<br />  is not defined, this field is<br />  ignored.</p></li><li><p><code>alignment_period</code> -<br />  (Optional)<br />  The alignment period for per-time<br />  series alignment. If present,<br />  alignmentPeriod must be at least<br />  60 seconds. After per-time series<br />  alignment, each time series will<br />  contain data points only on the<br />  period boundaries. If<br />  perSeriesAligner is not specified<br />  or equals ALIGN_NONE, then this<br />  field is ignored. If<br />  perSeriesAligner is specified and<br />  does not equal ALIGN_NONE, then<br />  this field must be defined;<br />  otherwise an error is returned.</p></li><li><p><code>cross_series_reducer</code> -<br />  (Optional)<br />  The approach to be used to combine<br />  time series. Not all reducer<br />  functions may be applied to all<br />  time series, depending on the<br />  metric type and the value type of<br />  the original time series.<br />  Reduction may change the metric<br />  type of value type of the time<br />  series.Time series data must be<br />  aligned in order to perform cross-<br />  time series reduction. If<br />  crossSeriesReducer is specified,<br />  then perSeriesAligner must be<br />  specified and not equal ALIGN_NONE<br />  and alignmentPeriod must be<br />  specified; otherwise, an error is<br />  returned.<br />  Possible values are: <code>REDUCE_NONE</code>, <code>REDUCE_MEAN</code>, <code>REDUCE_MIN</code>, <code>REDUCE_MAX</code>, <code>REDUCE_SUM</code>, <code>REDUCE_STDDEV</code>, <code>REDUCE_COUNT</code>, <code>REDUCE_COUNT_TRUE</code>, <code>REDUCE_COUNT_FALSE</code>, <code>REDUCE_FRACTION_TRUE</code>, <code>REDUCE_PERCENTILE_99</code>, <code>REDUCE_PERCENTILE_95</code>, <code>REDUCE_PERCENTILE_50</code>, <code>REDUCE_PERCENTILE_05</code>.</p></li></ul><p><a name=\"nested_trigger\"></a>The <code>trigger</code> block supports:</p><ul><li><p><code>percent</code> -<br />  (Optional)<br />  The percentage of time series that<br />  must fail the predicate for the<br />  condition to be triggered.</p></li><li><p><code>count</code> -<br />  (Optional)<br />  The absolute number of time series<br />  that must fail the predicate for the<br />  condition to be triggered.</p></li></ul><p><a name=\"nested_condition_monitoring_query_language\"></a>The <code>condition_monitoring_query_language</code> block supports:</p><ul><li><p><code>query</code> -<br />  (Required)<br />  Monitoring Query Language query that outputs a boolean stream.</p></li><li><p><code>duration</code> -<br />  (Required)<br />  The amount of time that a time series must<br />  violate the threshold to be considered<br />  failing. Currently, only values that are a<br />  multiple of a minute--e.g., 0, 60, 120, or<br />  300 seconds--are supported. If an invalid<br />  value is given, an error will be returned.<br />  When choosing a duration, it is useful to<br />  keep in mind the frequency of the underlying<br />  time series data (which may also be affected<br />  by any alignments specified in the<br />  aggregations field); a good duration is long<br />  enough so that a single outlier does not<br />  generate spurious alerts, but short enough<br />  that unhealthy states are detected and<br />  alerted on quickly.</p></li><li><p><code>trigger</code> -<br />  (Optional)<br />  The number/percent of time series for which<br />  the comparison must hold in order for the<br />  condition to trigger. If unspecified, then<br />  the condition will trigger if the comparison<br />  is true for any of the time series that have<br />  been identified by filter and aggregations,<br />  or by the ratio, if denominator_filter and<br />  denominator_aggregations are specified.<br />  Structure is <a href=\"#nested_trigger\">documented below</a>.</p></li><li><p><code>evaluation_missing_data</code> -<br />  (Optional)<br />  A condition control that determines how<br />  metric-threshold conditions are evaluated when<br />  data stops arriving.<br />  Possible values are: <code>EVALUATION_MISSING_DATA_INACTIVE</code>, <code>EVALUATION_MISSING_DATA_ACTIVE</code>, <code>EVALUATION_MISSING_DATA_NO_OP</code>.</p></li></ul><p><a name=\"nested_trigger\"></a>The <code>trigger</code> block supports:</p><ul><li><p><code>percent</code> -<br />  (Optional)<br />  The percentage of time series that<br />  must fail the predicate for the<br />  condition to be triggered.</p></li><li><p><code>count</code> -<br />  (Optional)<br />  The absolute number of time series<br />  that must fail the predicate for the<br />  condition to be triggered.</p></li></ul><p><a name=\"nested_condition_threshold\"></a>The <code>condition_threshold</code> block supports:</p><ul><li><p><code>threshold_value</code> -<br />  (Optional)<br />  A value against which to compare the time<br />  series.</p></li><li><p><code>denominator_filter</code> -<br />  (Optional)<br />  A filter that identifies a time series that<br />  should be used as the denominator of a ratio<br />  that will be compared with the threshold. If<br />  a denominator_filter is specified, the time<br />  series specified by the filter field will be<br />  used as the numerator.The filter is similar<br />  to the one that is specified in the<br />  MetricService.ListTimeSeries request (that<br />  call is useful to verify the time series<br />  that will be retrieved / processed) and must<br />  specify the metric type and optionally may<br />  contain restrictions on resource type,<br />  resource labels, and metric labels. This<br />  field may not exceed 2048 Unicode characters<br />  in length.</p></li><li><p><code>denominator_aggregations</code> -<br />  (Optional)<br />  Specifies the alignment of data points in<br />  individual time series selected by<br />  denominatorFilter as well as how to combine<br />  the retrieved time series together (such as<br />  when aggregating multiple streams on each<br />  resource to a single stream for each<br />  resource or when aggregating streams across<br />  all members of a group of resources).When<br />  computing ratios, the aggregations and<br />  denominator_aggregations fields must use the<br />  same alignment period and produce time<br />  series that have the same periodicity and<br />  labels.This field is similar to the one in<br />  the MetricService.ListTimeSeries request. It<br />  is advisable to use the ListTimeSeries<br />  method when debugging this field.<br />  Structure is <a href=\"#nested_denominator_aggregations\">documented below</a>.</p></li><li><p><code>duration</code> -<br />  (Required)<br />  The amount of time that a time series must<br />  violate the threshold to be considered<br />  failing. Currently, only values that are a<br />  multiple of a minute--e.g., 0, 60, 120, or<br />  300 seconds--are supported. If an invalid<br />  value is given, an error will be returned.<br />  When choosing a duration, it is useful to<br />  keep in mind the frequency of the underlying<br />  time series data (which may also be affected<br />  by any alignments specified in the<br />  aggregations field); a good duration is long<br />  enough so that a single outlier does not<br />  generate spurious alerts, but short enough<br />  that unhealthy states are detected and<br />  alerted on quickly.</p></li><li><p><code>forecast_options</code> -<br />  (Optional)<br />  When this field is present, the <code>MetricThreshold</code><br />  condition forecasts whether the time series is<br />  predicted to violate the threshold within the<br /><code>forecastHorizon</code>. When this field is not set, the<br /><code>MetricThreshold</code> tests the current value of the<br />  timeseries against the threshold.<br />  Structure is <a href=\"#nested_forecast_options\">documented below</a>.</p></li><li><p><code>comparison</code> -<br />  (Required)<br />  The comparison to apply between the time<br />  series (indicated by filter and aggregation)<br />  and the threshold (indicated by<br />  threshold_value). The comparison is applied<br />  on each time series, with the time series on<br />  the left-hand side and the threshold on the<br />  right-hand side. Only COMPARISON_LT and<br />  COMPARISON_GT are supported currently.<br />  Possible values are: <code>COMPARISON_GT</code>, <code>COMPARISON_GE</code>, <code>COMPARISON_LT</code>, <code>COMPARISON_LE</code>, <code>COMPARISON_EQ</code>, <code>COMPARISON_NE</code>.</p></li><li><p><code>trigger</code> -<br />  (Optional)<br />  The number/percent of time series for which<br />  the comparison must hold in order for the<br />  condition to trigger. If unspecified, then<br />  the condition will trigger if the comparison<br />  is true for any of the time series that have<br />  been identified by filter and aggregations,<br />  or by the ratio, if denominator_filter and<br />  denominator_aggregations are specified.<br />  Structure is <a href=\"#nested_trigger\">documented below</a>.</p></li><li><p><code>aggregations</code> -<br />  (Optional)<br />  Specifies the alignment of data points in<br />  individual time series as well as how to<br />  combine the retrieved time series together<br />  (such as when aggregating multiple streams<br />  on each resource to a single stream for each<br />  resource or when aggregating streams across<br />  all members of a group of resources).<br />  Multiple aggregations are applied in the<br />  order specified.This field is similar to the<br />  one in the MetricService.ListTimeSeries<br />  request. It is advisable to use the<br />  ListTimeSeries method when debugging this<br />  field.<br />  Structure is <a href=\"#nested_aggregations\">documented below</a>.</p></li><li><p><code>filter</code> -<br />  (Optional)<br />  A filter that identifies which time series<br />  should be compared with the threshold.The<br />  filter is similar to the one that is<br />  specified in the<br />  MetricService.ListTimeSeries request (that<br />  call is useful to verify the time series<br />  that will be retrieved / processed) and must<br />  specify the metric type and optionally may<br />  contain restrictions on resource type,<br />  resource labels, and metric labels. This<br />  field may not exceed 2048 Unicode characters<br />  in length.</p></li><li><p><code>evaluation_missing_data</code> -<br />  (Optional)<br />  A condition control that determines how<br />  metric-threshold conditions are evaluated when<br />  data stops arriving.<br />  Possible values are: <code>EVALUATION_MISSING_DATA_INACTIVE</code>, <code>EVALUATION_MISSING_DATA_ACTIVE</code>, <code>EVALUATION_MISSING_DATA_NO_OP</code>.</p></li></ul><p><a name=\"nested_denominator_aggregations\"></a>The <code>denominator_aggregations</code> block supports:</p><ul><li><p><code>per_series_aligner</code> -<br />  (Optional)<br />  The approach to be used to align<br />  individual time series. Not all<br />  alignment functions may be applied<br />  to all time series, depending on<br />  the metric type and value type of<br />  the original time series.<br />  Alignment may change the metric<br />  type or the value type of the time<br />  series.Time series data must be<br />  aligned in order to perform cross-<br />  time series reduction. If<br />  crossSeriesReducer is specified,<br />  then perSeriesAligner must be<br />  specified and not equal ALIGN_NONE<br />  and alignmentPeriod must be<br />  specified; otherwise, an error is<br />  returned.<br />  Possible values are: <code>ALIGN_NONE</code>, <code>ALIGN_DELTA</code>, <code>ALIGN_RATE</code>, <code>ALIGN_INTERPOLATE</code>, <code>ALIGN_NEXT_OLDER</code>, <code>ALIGN_MIN</code>, <code>ALIGN_MAX</code>, <code>ALIGN_MEAN</code>, <code>ALIGN_COUNT</code>, <code>ALIGN_SUM</code>, <code>ALIGN_STDDEV</code>, <code>ALIGN_COUNT_TRUE</code>, <code>ALIGN_COUNT_FALSE</code>, <code>ALIGN_FRACTION_TRUE</code>, <code>ALIGN_PERCENTILE_99</code>, <code>ALIGN_PERCENTILE_95</code>, <code>ALIGN_PERCENTILE_50</code>, <code>ALIGN_PERCENTILE_05</code>, <code>ALIGN_PERCENT_CHANGE</code>.</p></li><li><p><code>group_by_fields</code> -<br />  (Optional)<br />  The set of fields to preserve when<br />  crossSeriesReducer is specified.<br />  The groupByFields determine how<br />  the time series are partitioned<br />  into subsets prior to applying the<br />  aggregation function. Each subset<br />  contains time series that have the<br />  same value for each of the<br />  grouping fields. Each individual<br />  time series is a member of exactly<br />  one subset. The crossSeriesReducer<br />  is applied to each subset of time<br />  series. It is not possible to<br />  reduce across different resource<br />  types, so this field implicitly<br />  contains resource.type. Fields not<br />  specified in groupByFields are<br />  aggregated away. If groupByFields<br />  is not specified and all the time<br />  series have the same resource<br />  type, then the time series are<br />  aggregated into a single output<br />  time series. If crossSeriesReducer<br />  is not defined, this field is<br />  ignored.</p></li><li><p><code>alignment_period</code> -<br />  (Optional)<br />  The alignment period for per-time<br />  series alignment. If present,<br />  alignmentPeriod must be at least<br />  60 seconds. After per-time series<br />  alignment, each time series will<br />  contain data points only on the<br />  period boundaries. If<br />  perSeriesAligner is not specified<br />  or equals ALIGN_NONE, then this<br />  field is ignored. If<br />  perSeriesAligner is specified and<br />  does not equal ALIGN_NONE, then<br />  this field must be defined;<br />  otherwise an error is returned.</p></li><li><p><code>cross_series_reducer</code> -<br />  (Optional)<br />  The approach to be used to combine<br />  time series. Not all reducer<br />  functions may be applied to all<br />  time series, depending on the<br />  metric type and the value type of<br />  the original time series.<br />  Reduction may change the metric<br />  type of value type of the time<br />  series.Time series data must be<br />  aligned in order to perform cross-<br />  time series reduction. If<br />  crossSeriesReducer is specified,<br />  then perSeriesAligner must be<br />  specified and not equal ALIGN_NONE<br />  and alignmentPeriod must be<br />  specified; otherwise, an error is<br />  returned.<br />  Possible values are: <code>REDUCE_NONE</code>, <code>REDUCE_MEAN</code>, <code>REDUCE_MIN</code>, <code>REDUCE_MAX</code>, <code>REDUCE_SUM</code>, <code>REDUCE_STDDEV</code>, <code>REDUCE_COUNT</code>, <code>REDUCE_COUNT_TRUE</code>, <code>REDUCE_COUNT_FALSE</code>, <code>REDUCE_FRACTION_TRUE</code>, <code>REDUCE_PERCENTILE_99</code>, <code>REDUCE_PERCENTILE_95</code>, <code>REDUCE_PERCENTILE_50</code>, <code>REDUCE_PERCENTILE_05</code>.</p></li></ul><p><a name=\"nested_forecast_options\"></a>The <code>forecast_options</code> block supports:</p><ul><li><code>forecast_horizon</code> -<br />  (Required)<br />  The length of time into the future to forecast<br />  whether a timeseries will violate the threshold.<br />  If the predicted value is found to violate the<br />  threshold, and the violation is observed in all<br />  forecasts made for the Configured <code>duration</code>,<br />  then the timeseries is considered to be failing.</li></ul><p><a name=\"nested_trigger\"></a>The <code>trigger</code> block supports:</p><ul><li><p><code>percent</code> -<br />  (Optional)<br />  The percentage of time series that<br />  must fail the predicate for the<br />  condition to be triggered.</p></li><li><p><code>count</code> -<br />  (Optional)<br />  The absolute number of time series<br />  that must fail the predicate for the<br />  condition to be triggered.</p></li></ul><p><a name=\"nested_aggregations\"></a>The <code>aggregations</code> block supports:</p><ul><li><p><code>per_series_aligner</code> -<br />  (Optional)<br />  The approach to be used to align<br />  individual time series. Not all<br />  alignment functions may be applied<br />  to all time series, depending on<br />  the metric type and value type of<br />  the original time series.<br />  Alignment may change the metric<br />  type or the value type of the time<br />  series.Time series data must be<br />  aligned in order to perform cross-<br />  time series reduction. If<br />  crossSeriesReducer is specified,<br />  then perSeriesAligner must be<br />  specified and not equal ALIGN_NONE<br />  and alignmentPeriod must be<br />  specified; otherwise, an error is<br />  returned.<br />  Possible values are: <code>ALIGN_NONE</code>, <code>ALIGN_DELTA</code>, <code>ALIGN_RATE</code>, <code>ALIGN_INTERPOLATE</code>, <code>ALIGN_NEXT_OLDER</code>, <code>ALIGN_MIN</code>, <code>ALIGN_MAX</code>, <code>ALIGN_MEAN</code>, <code>ALIGN_COUNT</code>, <code>ALIGN_SUM</code>, <code>ALIGN_STDDEV</code>, <code>ALIGN_COUNT_TRUE</code>, <code>ALIGN_COUNT_FALSE</code>, <code>ALIGN_FRACTION_TRUE</code>, <code>ALIGN_PERCENTILE_99</code>, <code>ALIGN_PERCENTILE_95</code>, <code>ALIGN_PERCENTILE_50</code>, <code>ALIGN_PERCENTILE_05</code>, <code>ALIGN_PERCENT_CHANGE</code>.</p></li><li><p><code>group_by_fields</code> -<br />  (Optional)<br />  The set of fields to preserve when<br />  crossSeriesReducer is specified.<br />  The groupByFields determine how<br />  the time series are partitioned<br />  into subsets prior to applying the<br />  aggregation function. Each subset<br />  contains time series that have the<br />  same value for each of the<br />  grouping fields. Each individual<br />  time series is a member of exactly<br />  one subset. The crossSeriesReducer<br />  is applied to each subset of time<br />  series. It is not possible to<br />  reduce across different resource<br />  types, so this field implicitly<br />  contains resource.type. Fields not<br />  specified in groupByFields are<br />  aggregated away. If groupByFields<br />  is not specified and all the time<br />  series have the same resource<br />  type, then the time series are<br />  aggregated into a single output<br />  time series. If crossSeriesReducer<br />  is not defined, this field is<br />  ignored.</p></li><li><p><code>alignment_period</code> -<br />  (Optional)<br />  The alignment period for per-time<br />  series alignment. If present,<br />  alignmentPeriod must be at least<br />  60 seconds. After per-time series<br />  alignment, each time series will<br />  contain data points only on the<br />  period boundaries. If<br />  perSeriesAligner is not specified<br />  or equals ALIGN_NONE, then this<br />  field is ignored. If<br />  perSeriesAligner is specified and<br />  does not equal ALIGN_NONE, then<br />  this field must be defined;<br />  otherwise an error is returned.</p></li><li><p><code>cross_series_reducer</code> -<br />  (Optional)<br />  The approach to be used to combine<br />  time series. Not all reducer<br />  functions may be applied to all<br />  time series, depending on the<br />  metric type and the value type of<br />  the original time series.<br />  Reduction may change the metric<br />  type of value type of the time<br />  series.Time series data must be<br />  aligned in order to perform cross-<br />  time series reduction. If<br />  crossSeriesReducer is specified,<br />  then perSeriesAligner must be<br />  specified and not equal ALIGN_NONE<br />  and alignmentPeriod must be<br />  specified; otherwise, an error is<br />  returned.<br />  Possible values are: <code>REDUCE_NONE</code>, <code>REDUCE_MEAN</code>, <code>REDUCE_MIN</code>, <code>REDUCE_MAX</code>, <code>REDUCE_SUM</code>, <code>REDUCE_STDDEV</code>, <code>REDUCE_COUNT</code>, <code>REDUCE_COUNT_TRUE</code>, <code>REDUCE_COUNT_FALSE</code>, <code>REDUCE_FRACTION_TRUE</code>, <code>REDUCE_PERCENTILE_99</code>, <code>REDUCE_PERCENTILE_95</code>, <code>REDUCE_PERCENTILE_50</code>, <code>REDUCE_PERCENTILE_05</code>.</p></li></ul><p><a name=\"nested_condition_matched_log\"></a>The <code>condition_matched_log</code> block supports:</p><ul><li><p><code>filter</code> -<br />  (Required)<br />  A logs-based filter.</p></li><li><p><code>label_extractors</code> -<br />  (Optional)<br />  A map from a label key to an extractor expression, which is used to<br />  extract the value for this label key. Each entry in this map is<br />  a specification for how data should be extracted from log entries that<br />  match filter. Each combination of extracted values is treated as<br />  a separate rule for the purposes of triggering notifications.<br />  Label keys and corresponding values can be used in notifications<br />  generated by this condition.</p></li></ul><p><a name=\"nested_condition_prometheus_query_language\"></a>The <code>condition_prometheus_query_language</code> block supports:</p><ul><li><p><code>query</code> -<br />  (Required)<br />  The PromQL expression to evaluate. Every evaluation cycle this<br />  expression is evaluated at the current time, and all resultant time<br />  series become pending/firing alerts. This field must not be empty.</p></li><li><p><code>duration</code> -<br />  (Optional)<br />  Alerts are considered firing once their PromQL expression evaluated<br />  to be \"true\" for this long. Alerts whose PromQL expression was not<br />  evaluated to be \"true\" for long enough are considered pending. The<br />  default value is zero. Must be zero or positive.</p></li><li><p><code>evaluation_interval</code> -<br />  (Optional)<br />  How often this rule should be evaluated. Must be a positive multiple<br />  of 30 seconds or missing. The default value is 30 seconds. If this<br />  PrometheusQueryLanguageCondition was generated from a Prometheus<br />  alerting rule, then this value should be taken from the enclosing<br />  rule group.</p></li><li><p><code>labels</code> -<br />  (Optional)<br />  Labels to add to or overwrite in the PromQL query result. Label names<br />  must be valid.<br />  Label values can be templatized by using variables. The only available<br />  variable names are the names of the labels in the PromQL result, including<br />  \"<strong>name</strong>\" and \"value\". \"labels\" may be empty. This field is intended to be<br />  used for organizing and identifying the AlertPolicy</p></li><li><p><code>rule_group</code> -<br />  (Optional)<br />  The rule group name of this alert in the corresponding Prometheus<br />  configuration file.<br />  Some external tools may require this field to be populated correctly<br />  in order to refer to the original Prometheus configuration file.<br />  The rule group name and the alert name are necessary to update the<br />  relevant AlertPolicies in case the definition of the rule group changes<br />  in the future.<br />  This field is optional. If this field is not empty, then it must be a<br />  valid Prometheus label name.</p></li><li><p><code>alert_rule</code> -<br />  (Optional)<br />  The alerting rule name of this alert in the corresponding Prometheus<br />  configuration file.<br />  Some external tools may require this field to be populated correctly<br />  in order to refer to the original Prometheus configuration file.<br />  The rule group name and the alert name are necessary to update the<br />  relevant AlertPolicies in case the definition of the rule group changes<br />  in the future.<br />  This field is optional. If this field is not empty, then it must be a<br />  valid Prometheus label name.</p></li></ul><hr /><ul><li><p><code>enabled</code> -<br />  (Optional)<br />  Whether or not the policy is enabled. The default is true.</p></li><li><p><code>notification_channels</code> -<br />  (Optional)<br />  Identifies the notification channels to which notifications should be<br />  sent when incidents are opened or closed or when new violations occur<br />  on an already opened incident. Each element of this array corresponds<br />  to the name field in each of the NotificationChannel objects that are<br />  returned from the notificationChannels.list method. The syntax of the<br />  entries in this field is<br /><code>projects/[PROJECT_ID]/notificationChannels/[CHANNEL_ID]</code></p></li><li><p><code>alert_strategy</code> -<br />  (Optional)<br />  Control over how this alert policy's notification channels are notified.<br />  Structure is <a href=\"#nested_alert_strategy\">documented below</a>.</p></li><li><p><code>user_labels</code> -<br />  (Optional)<br />  This field is intended to be used for organizing and identifying the AlertPolicy<br />  objects.The field can contain up to 64 entries. Each key and value is limited<br />  to 63 Unicode characters or 128 bytes, whichever is smaller. Labels and values<br />  can contain only lowercase letters, numerals, underscores, and dashes. Keys<br />  must begin with a letter.</p></li><li><p><code>documentation</code> -<br />  (Optional)<br />  Documentation that is included with notifications and incidents related<br />  to this policy. Best practice is for the documentation to include information<br />  to help responders understand, mitigate, escalate, and correct the underlying<br />  problems detected by the alerting policy. Notification channels that have<br />  limited capacity might not show this documentation.<br />  Structure is <a href=\"#nested_documentation\">documented below</a>.</p></li><li><p><code>project</code> - (Optional) The ID of the project in which the resource belongs.<br />    If it is not provided, the provider project is used.</p></li></ul><p><a name=\"nested_alert_strategy\"></a>The <code>alert_strategy</code> block supports:</p><ul><li><p><code>notification_rate_limit</code> -<br />  (Optional)<br />  Required for alert policies with a LogMatch condition.<br />  This limit is not implemented for alert policies that are not log-based.<br />  Structure is <a href=\"#nested_notification_rate_limit\">documented below</a>.</p></li><li><p><code>auto_close</code> -<br />  (Optional)<br />  If an alert policy that was active has no data for this long, any open incidents will close.</p></li><li><p><code>notification_channel_strategy</code> -<br />  (Optional)<br />  Control over how the notification channels in <code>notification_channels</code><br />  are notified when this alert fires, on a per-channel basis.<br />  Structure is <a href=\"#nested_notification_channel_strategy\">documented below</a>.</p></li></ul><p><a name=\"nested_notification_rate_limit\"></a>The <code>notification_rate_limit</code> block supports:</p><ul><li><code>period</code> -<br />  (Optional)<br />  Not more than one notification per period.</li></ul><p><a name=\"nested_notification_channel_strategy\"></a>The <code>notification_channel_strategy</code> block supports:</p><ul><li><p><code>notification_channel_names</code> -<br />  (Optional)<br />  The notification channels that these settings apply to. Each of these<br />  correspond to the name field in one of the NotificationChannel objects<br />  referenced in the notification_channels field of this AlertPolicy. The format is<br /><code>projects/[PROJECT_ID_OR_NUMBER]/notificationChannels/[CHANNEL_ID]</code></p></li><li><p><code>renotify_interval</code> -<br />  (Optional)<br />  The frequency at which to send reminder notifications for open incidents.</p></li></ul><p><a name=\"nested_documentation\"></a>The <code>documentation</code> block supports:</p><ul><li><p><code>content</code> -<br />  (Optional)<br />  The text of the documentation, interpreted according to mimeType.<br />  The content may not exceed 8,192 Unicode characters and may not<br />  exceed more than 10,240 bytes when encoded in UTF-8 format,<br />  whichever is smaller.</p></li><li><p><code>mime_type</code> -<br />  (Optional)<br />  The format of the content field. Presently, only the value<br />  \"text/markdown\" is supported.</p></li></ul>", "attributes-reference": "<h2 id=\"attributes-reference\">Attributes Reference</h2><p>In addition to the arguments listed above, the following computed attributes are exported:</p><ul><li><p><code>id</code> - an identifier for the resource with format <code>{{name}}</code></p></li><li><p><code>name</code> -<br />  The unique resource name for this policy.<br />  Its syntax is: projects/[PROJECT_ID]/alertPolicies/[ALERT_POLICY_ID]</p></li><li><p><code>creation_record</code> -<br />  A read-only record of the creation of the alerting policy.<br />  If provided in a call to create or update, this field will<br />  be ignored.<br />  Structure is <a href=\"#nested_creation_record\">documented below</a>.</p></li></ul><p><a name=\"nested_creation_record\"></a>The <code>creation_record</code> block contains:</p><ul><li><p><code>mutate_time</code> -<br />  (Output)<br />  When the change occurred.</p></li><li><p><code>mutated_by</code> -<br />  (Output)<br />  The email address of the user making the change.</p></li></ul>", "timeouts": "<h2 id=\"timeouts\">Timeouts</h2><p>This resource provides the following<br /><a href=\"https://developer.hashicorp.com/terraform/plugin/sdkv2/resources/retries-and-customizable-timeouts\">Timeouts</a> configuration options:</p><ul><li><code>create</code> - Default is 20 minutes.</li><li><code>update</code> - Default is 20 minutes.</li><li><code>delete</code> - Default is 20 minutes.</li></ul>", "import": "<h2 id=\"import\">Import</h2><p>AlertPolicy can be imported using any of these accepted formats:</p><p><code>$ terraform import google_monitoring_alert_policy.default {{name}}</code></p>", "user-project-overrides": "<h2 id=\"user-project-overrides\">User Project Overrides</h2><p>This resource supports <a href=\"https://registry.terraform.io/providers/hashicorp/google/latest/docs/guides/provider_reference#user_project_override\">User Project Overrides</a>.</p>", "description": "<h1 id=\"google_monitoring_alert_policy\">google_monitoring_alert_policy</h1><p>A description of the conditions under which some aspect of your system is<br />considered to be \"unhealthy\" and the ways to notify people or services<br />about this state.</p><p>To get more information about AlertPolicy, see:</p><ul><li><a href=\"https://cloud.google.com/monitoring/api/ref_v3/rest/v3/projects.alertPolicies\">API documentation</a></li><li>How-to Guides<ul><li><a href=\"https://cloud.google.com/monitoring/alerts/\">Official Documentation</a></li></ul></li></ul>"}