{"": "<h1 id=\"-_2\">----------------------------------------------------------------------------</h1><p>subcategory: \"Compute Engine\"<br />description: |-<br />  A policy that can be attached to a resource to specify or schedule actions on that resource.</p><hr />", "auto-generated-code-type-mmv1": "<h1 id=\"auto-generated-code-type-mmv1\"><strong><em>     AUTO GENERATED CODE    </em></strong>    Type: MMv1     ***</h1>", "this-file-is-automatically-generated-by-magic-modules-and-manual": "<h1 id=\"this-file-is-automatically-generated-by-magic-modules-and-manual\">This file is automatically generated by Magic Modules and manual</h1>", "changes-will-be-clobbered-when-the-file-is-regenerated": "<h1 id=\"changes-will-be-clobbered-when-the-file-is-regenerated\">changes will be clobbered when the file is regenerated.</h1>", "please-read-more-about-how-to-change-this-file-in": "<h1 id=\"please-read-more-about-how-to-change-this-file-in\">Please read more about how to change this file in</h1>", "github-contributing-md": "<h1 id=\"githubcontributingmd\">.github/CONTRIBUTING.md.</h1>", "google-compute-resource-policy": "<h1 id=\"google_compute_resource_policy\">google_compute_resource_policy</h1><p>A policy that can be attached to a resource to specify or schedule actions on that resource.</p><p>To get more information about ResourcePolicy, see:</p><ul><li><a href=\"https://cloud.google.com/compute/docs/reference/rest/v1/resourcePolicies\">API documentation</a></li></ul><div class = \"oics-button\" style=\"float: right; margin: 0 0 -15px\">  <a href=\"https://console.cloud.google.com/cloudshell/open?cloudshell_git_repo=https%3A%2F%2Fgithub.com%2Fterraform-google-modules%2Fdocs-examples.git&cloudshell_working_dir=resource_policy_basic&cloudshell_image=gcr.io%2Fcloudshell-images%2Fcloudshell%3Alatest&open_in_editor=main.tf&cloudshell_print=.%2Fmotd&cloudshell_tutorial=.%2Ftutorial.md\" target=\"_blank\">    <img alt=\"Open in Cloud Shell\" src=\"//gstatic.com/cloudssh/images/open-btn.svg\" style=\"max-height: 44px; margin: 32px auto; max-width: 100%;\">  </a></div>", "example-usage---resource-policy-basic": "<h2 id=\"example-usage-resource-policy-basic\">Example Usage - Resource Policy Basic</h2><p>resource \"google_compute_resource_policy\" \"foo\" {<br />  name   = \"gce-policy\"<br />  region = \"us-central1\"<br />  snapshot_schedule_policy {<br />    schedule {<br />      daily_schedule {<br />        days_in_cycle = 1<br />        start_time    = \"04:00\"<br />      }<br />    }<br />  }<br />}</p><div class = \"oics-button\" style=\"float: right; margin: 0 0 -15px\">  <a href=\"https://console.cloud.google.com/cloudshell/open?cloudshell_git_repo=https%3A%2F%2Fgithub.com%2Fterraform-google-modules%2Fdocs-examples.git&cloudshell_working_dir=resource_policy_full&cloudshell_image=gcr.io%2Fcloudshell-images%2Fcloudshell%3Alatest&open_in_editor=main.tf&cloudshell_print=.%2Fmotd&cloudshell_tutorial=.%2Ftutorial.md\" target=\"_blank\">    <img alt=\"Open in Cloud Shell\" src=\"//gstatic.com/cloudssh/images/open-btn.svg\" style=\"max-height: 44px; margin: 32px auto; max-width: 100%;\">  </a></div>", "example-usage---resource-policy-full": "<h2 id=\"example-usage-resource-policy-full\">Example Usage - Resource Policy Full</h2><p>resource \"google_compute_resource_policy\" \"bar\" {<br />  name   = \"gce-policy\"<br />  region = \"us-central1\"<br />  snapshot_schedule_policy {<br />    schedule {<br />      hourly_schedule {<br />        hours_in_cycle = 20<br />        start_time     = \"23:00\"<br />      }<br />    }<br />    retention_policy {<br />      max_retention_days    = 10<br />      on_source_disk_delete = \"KEEP_AUTO_SNAPSHOTS\"<br />    }<br />    snapshot_properties {<br />      labels = {<br />        my_label = \"value\"<br />      }<br />      storage_locations = [\"us\"]<br />      guest_flush       = true<br />    }<br />  }<br />}</p><div class = \"oics-button\" style=\"float: right; margin: 0 0 -15px\">  <a href=\"https://console.cloud.google.com/cloudshell/open?cloudshell_git_repo=https%3A%2F%2Fgithub.com%2Fterraform-google-modules%2Fdocs-examples.git&cloudshell_working_dir=resource_policy_placement_policy&cloudshell_image=gcr.io%2Fcloudshell-images%2Fcloudshell%3Alatest&open_in_editor=main.tf&cloudshell_print=.%2Fmotd&cloudshell_tutorial=.%2Ftutorial.md\" target=\"_blank\">    <img alt=\"Open in Cloud Shell\" src=\"//gstatic.com/cloudssh/images/open-btn.svg\" style=\"max-height: 44px; margin: 32px auto; max-width: 100%;\">  </a></div>", "example-usage---resource-policy-placement-policy": "<h2 id=\"example-usage-resource-policy-placement-policy\">Example Usage - Resource Policy Placement Policy</h2><p>resource \"google_compute_resource_policy\" \"baz\" {<br />  name   = \"gce-policy\"<br />  region = \"us-central1\"<br />  group_placement_policy {<br />    vm_count = 2<br />    collocation = \"COLLOCATED\"<br />  }<br />}</p><div class = \"oics-button\" style=\"float: right; margin: 0 0 -15px\">  <a href=\"https://console.cloud.google.com/cloudshell/open?cloudshell_git_repo=https%3A%2F%2Fgithub.com%2Fterraform-google-modules%2Fdocs-examples.git&cloudshell_working_dir=resource_policy_placement_policy_max_distance&cloudshell_image=gcr.io%2Fcloudshell-images%2Fcloudshell%3Alatest&open_in_editor=main.tf&cloudshell_print=.%2Fmotd&cloudshell_tutorial=.%2Ftutorial.md\" target=\"_blank\">    <img alt=\"Open in Cloud Shell\" src=\"//gstatic.com/cloudssh/images/open-btn.svg\" style=\"max-height: 44px; margin: 32px auto; max-width: 100%;\">  </a></div>", "example-usage---resource-policy-placement-policy-max-distance": "<h2 id=\"example-usage-resource-policy-placement-policy-max-distance\">Example Usage - Resource Policy Placement Policy Max Distance</h2><p>resource \"google_compute_resource_policy\" \"baz\" {<br />  name   = \"gce-policy\"<br />  region = \"us-central1\"<br />  provider = google-beta<br />  group_placement_policy {<br />    vm_count = 2<br />    collocation = \"COLLOCATED\"<br />    max_distance = 2<br />  }<br />}</p><div class = \"oics-button\" style=\"float: right; margin: 0 0 -15px\">  <a href=\"https://console.cloud.google.com/cloudshell/open?cloudshell_git_repo=https%3A%2F%2Fgithub.com%2Fterraform-google-modules%2Fdocs-examples.git&cloudshell_working_dir=resource_policy_instance_schedule_policy&cloudshell_image=gcr.io%2Fcloudshell-images%2Fcloudshell%3Alatest&open_in_editor=main.tf&cloudshell_print=.%2Fmotd&cloudshell_tutorial=.%2Ftutorial.md\" target=\"_blank\">    <img alt=\"Open in Cloud Shell\" src=\"//gstatic.com/cloudssh/images/open-btn.svg\" style=\"max-height: 44px; margin: 32px auto; max-width: 100%;\">  </a></div>", "example-usage---resource-policy-instance-schedule-policy": "<h2 id=\"example-usage-resource-policy-instance-schedule-policy\">Example Usage - Resource Policy Instance Schedule Policy</h2><p>resource \"google_compute_resource_policy\" \"hourly\" {<br />  name   = \"gce-policy\"<br />  region = \"us-central1\"<br />  description = \"Start and stop instances\"<br />  instance_schedule_policy {<br />    vm_start_schedule {<br />      schedule = \"0 * <em> * </em>\"<br />    }<br />    vm_stop_schedule {<br />      schedule = \"15 * <em> * </em>\"<br />    }<br />    time_zone = \"US/Central\"<br />  }<br />}</p><div class = \"oics-button\" style=\"float: right; margin: 0 0 -15px\">  <a href=\"https://console.cloud.google.com/cloudshell/open?cloudshell_git_repo=https%3A%2F%2Fgithub.com%2Fterraform-google-modules%2Fdocs-examples.git&cloudshell_working_dir=resource_policy_snapshot_schedule_chain_name&cloudshell_image=gcr.io%2Fcloudshell-images%2Fcloudshell%3Alatest&open_in_editor=main.tf&cloudshell_print=.%2Fmotd&cloudshell_tutorial=.%2Ftutorial.md\" target=\"_blank\">    <img alt=\"Open in Cloud Shell\" src=\"//gstatic.com/cloudssh/images/open-btn.svg\" style=\"max-height: 44px; margin: 32px auto; max-width: 100%;\">  </a></div>", "example-usage---resource-policy-snapshot-schedule-chain-name": "<h2 id=\"example-usage-resource-policy-snapshot-schedule-chain-name\">Example Usage - Resource Policy Snapshot Schedule Chain Name</h2><p>resource \"google_compute_resource_policy\" \"hourly\" {<br />  name   = \"gce-policy\"<br />  region = \"us-central1\"<br />  description = \"chain name snapshot\"<br />  snapshot_schedule_policy {<br />    schedule {<br />      hourly_schedule {<br />        hours_in_cycle = 20<br />        start_time     = \"23:00\"<br />      }<br />    }<br />    retention_policy {<br />      max_retention_days    = 14<br />      on_source_disk_delete = \"KEEP_AUTO_SNAPSHOTS\"<br />    }<br />    snapshot_properties {<br />      labels = {<br />        my_label = \"value\"<br />      }<br />      storage_locations = [\"us\"]<br />      guest_flush       = true<br />      chain_name = \"test-schedule-chain-name\"<br />    }<br />  }<br />}</p><div class = \"oics-button\" style=\"float: right; margin: 0 0 -15px\">  <a href=\"https://console.cloud.google.com/cloudshell/open?cloudshell_git_repo=https%3A%2F%2Fgithub.com%2Fterraform-google-modules%2Fdocs-examples.git&cloudshell_working_dir=resource_policy_consistency_group&cloudshell_image=gcr.io%2Fcloudshell-images%2Fcloudshell%3Alatest&open_in_editor=main.tf&cloudshell_print=.%2Fmotd&cloudshell_tutorial=.%2Ftutorial.md\" target=\"_blank\">    <img alt=\"Open in Cloud Shell\" src=\"//gstatic.com/cloudssh/images/open-btn.svg\" style=\"max-height: 44px; margin: 32px auto; max-width: 100%;\">  </a></div>", "example-usage---resource-policy-consistency-group": "<h2 id=\"example-usage-resource-policy-consistency-group\">Example Usage - Resource Policy Consistency Group</h2><p>resource \"google_compute_resource_policy\" \"cgroup\" {<br />  name   = \"gce-policy\"<br />  region = \"europe-west1\"<br />  disk_consistency_group_policy {<br />    enabled = true<br />  }<br />}</p>", "argument-reference": "<h2 id=\"argument-reference\">Argument Reference</h2><p>The following arguments are supported:</p><ul><li><code>name</code> -<br />  (Required)<br />  The name of the resource, provided by the client when initially creating<br />  the resource. The resource name must be 1-63 characters long, and comply<br />  with RFC1035. Specifically, the name must be 1-63 characters long and<br />  match the regular expression <code>[a-z]([-a-z0-9]*[a-z0-9])</code>? which means the<br />  first character must be a lowercase letter, and all following characters<br />  must be a dash, lowercase letter, or digit, except the last character,<br />  which cannot be a dash.</li></ul><hr /><ul><li><p><code>description</code> -<br />  (Optional)<br />  An optional description of this resource. Provide this property when you create the resource.</p></li><li><p><code>snapshot_schedule_policy</code> -<br />  (Optional)<br />  Policy for creating snapshots of persistent disks.<br />  Structure is <a href=\"#nested_snapshot_schedule_policy\">documented below</a>.</p></li><li><p><code>group_placement_policy</code> -<br />  (Optional)<br />  Resource policy for instances used for placement configuration.<br />  Structure is <a href=\"#nested_group_placement_policy\">documented below</a>.</p></li><li><p><code>instance_schedule_policy</code> -<br />  (Optional)<br />  Resource policy for scheduling instance operations.<br />  Structure is <a href=\"#nested_instance_schedule_policy\">documented below</a>.</p></li><li><p><code>disk_consistency_group_policy</code> -<br />  (Optional)<br />  Replication consistency group for asynchronous disk replication.<br />  Structure is <a href=\"#nested_disk_consistency_group_policy\">documented below</a>.</p></li><li><p><code>region</code> -<br />  (Optional)<br />  Region where resource policy resides.</p></li><li><p><code>project</code> - (Optional) The ID of the project in which the resource belongs.<br />    If it is not provided, the provider project is used.</p></li></ul><p><a name=\"nested_snapshot_schedule_policy\"></a>The <code>snapshot_schedule_policy</code> block supports:</p><ul><li><p><code>schedule</code> -<br />  (Required)<br />  Contains one of an <code>hourlySchedule</code>, <code>dailySchedule</code>, or <code>weeklySchedule</code>.<br />  Structure is <a href=\"#nested_schedule\">documented below</a>.</p></li><li><p><code>retention_policy</code> -<br />  (Optional)<br />  Retention policy applied to snapshots created by this resource policy.<br />  Structure is <a href=\"#nested_retention_policy\">documented below</a>.</p></li><li><p><code>snapshot_properties</code> -<br />  (Optional)<br />  Properties with which the snapshots are created, such as labels.<br />  Structure is <a href=\"#nested_snapshot_properties\">documented below</a>.</p></li></ul><p><a name=\"nested_schedule\"></a>The <code>schedule</code> block supports:</p><ul><li><p><code>hourly_schedule</code> -<br />  (Optional)<br />  The policy will execute every nth hour starting at the specified time.<br />  Structure is <a href=\"#nested_hourly_schedule\">documented below</a>.</p></li><li><p><code>daily_schedule</code> -<br />  (Optional)<br />  The policy will execute every nth day at the specified time.<br />  Structure is <a href=\"#nested_daily_schedule\">documented below</a>.</p></li><li><p><code>weekly_schedule</code> -<br />  (Optional)<br />  Allows specifying a snapshot time for each day of the week.<br />  Structure is <a href=\"#nested_weekly_schedule\">documented below</a>.</p></li></ul><p><a name=\"nested_hourly_schedule\"></a>The <code>hourly_schedule</code> block supports:</p><ul><li><p><code>hours_in_cycle</code> -<br />  (Required)<br />  The number of hours between snapshots.</p></li><li><p><code>start_time</code> -<br />  (Required)<br />  Time within the window to start the operations.<br />  It must be in an hourly format \"HH:MM\",<br />  where HH : [00-23] and MM : [00] GMT.<br />  eg: 21:00</p></li></ul><p><a name=\"nested_daily_schedule\"></a>The <code>daily_schedule</code> block supports:</p><ul><li><p><code>days_in_cycle</code> -<br />  (Required)<br />  Defines a schedule with units measured in days. The value determines how many days pass between the start of each cycle. Days in cycle for snapshot schedule policy must be 1.</p></li><li><p><code>start_time</code> -<br />  (Required)<br />  This must be in UTC format that resolves to one of<br />  00:00, 04:00, 08:00, 12:00, 16:00, or 20:00. For example,<br />  both 13:00-5 and 08:00 are valid.</p></li></ul><p><a name=\"nested_weekly_schedule\"></a>The <code>weekly_schedule</code> block supports:</p><ul><li><code>day_of_weeks</code> -<br />  (Required)<br />  May contain up to seven (one for each day of the week) snapshot times.<br />  Structure is <a href=\"#nested_day_of_weeks\">documented below</a>.</li></ul><p><a name=\"nested_day_of_weeks\"></a>The <code>day_of_weeks</code> block supports:</p><ul><li><p><code>start_time</code> -<br />  (Required)<br />  Time within the window to start the operations.<br />  It must be in format \"HH:MM\", where HH : [00-23] and MM : [00-00] GMT.</p></li><li><p><code>day</code> -<br />  (Required)<br />  The day of the week to create the snapshot. e.g. MONDAY<br />  Possible values are: <code>MONDAY</code>, <code>TUESDAY</code>, <code>WEDNESDAY</code>, <code>THURSDAY</code>, <code>FRIDAY</code>, <code>SATURDAY</code>, <code>SUNDAY</code>.</p></li></ul><p><a name=\"nested_retention_policy\"></a>The <code>retention_policy</code> block supports:</p><ul><li><p><code>max_retention_days</code> -<br />  (Required)<br />  Maximum age of the snapshot that is allowed to be kept.</p></li><li><p><code>on_source_disk_delete</code> -<br />  (Optional)<br />  Specifies the behavior to apply to scheduled snapshots when<br />  the source disk is deleted.<br />  Default value is <code>KEEP_AUTO_SNAPSHOTS</code>.<br />  Possible values are: <code>KEEP_AUTO_SNAPSHOTS</code>, <code>APPLY_RETENTION_POLICY</code>.</p></li></ul><p><a name=\"nested_snapshot_properties\"></a>The <code>snapshot_properties</code> block supports:</p><ul><li><p><code>labels</code> -<br />  (Optional)<br />  A set of key-value pairs.</p></li><li><p><code>storage_locations</code> -<br />  (Optional)<br />  Cloud Storage bucket location to store the auto snapshot<br />  (regional or multi-regional)</p></li><li><p><code>guest_flush</code> -<br />  (Optional)<br />  Whether to perform a 'guest aware' snapshot.</p></li><li><p><code>chain_name</code> -<br />  (Optional)<br />  Creates the new snapshot in the snapshot chain labeled with the<br />  specified name. The chain name must be 1-63 characters long and comply<br />  with RFC1035.</p></li></ul><p><a name=\"nested_group_placement_policy\"></a>The <code>group_placement_policy</code> block supports:</p><ul><li><p><code>vm_count</code> -<br />  (Optional)<br />  Number of VMs in this placement group. Google does not recommend that you use this field<br />  unless you use a compact policy and you want your policy to work only if it contains this<br />  exact number of VMs.</p></li><li><p><code>availability_domain_count</code> -<br />  (Optional)<br />  The number of availability domains instances will be spread across. If two instances are in different<br />  availability domain, they will not be put in the same low latency network</p></li><li><p><code>collocation</code> -<br />  (Optional)<br />  Collocation specifies whether to place VMs inside the same availability domain on the same low-latency network.<br />  Specify <code>COLLOCATED</code> to enable collocation. Can only be specified with <code>vm_count</code>. If compute instances are created<br />  with a COLLOCATED policy, then exactly <code>vm_count</code> instances must be created at the same time with the resource policy<br />  attached.<br />  Possible values are: <code>COLLOCATED</code>.</p></li><li><p><code>max_distance</code> -<br />  (Optional, <a href=\"https://terraform.io/docs/providers/google/guides/provider_versions.html\">Beta</a>)<br />  Specifies the number of max logical switches.</p></li></ul><p><a name=\"nested_instance_schedule_policy\"></a>The <code>instance_schedule_policy</code> block supports:</p><ul><li><p><code>vm_start_schedule</code> -<br />  (Optional)<br />  Specifies the schedule for starting instances.<br />  Structure is <a href=\"#nested_vm_start_schedule\">documented below</a>.</p></li><li><p><code>vm_stop_schedule</code> -<br />  (Optional)<br />  Specifies the schedule for stopping instances.<br />  Structure is <a href=\"#nested_vm_stop_schedule\">documented below</a>.</p></li><li><p><code>time_zone</code> -<br />  (Required)<br />  Specifies the time zone to be used in interpreting the schedule. The value of this field must be a time zone name<br />  from the tz database: http://en.wikipedia.org/wiki/Tz_database.</p></li><li><p><code>start_time</code> -<br />  (Optional)<br />  The start time of the schedule. The timestamp is an RFC3339 string.</p></li><li><p><code>expiration_time</code> -<br />  (Optional)<br />  The expiration time of the schedule. The timestamp is an RFC3339 string.</p></li></ul><p><a name=\"nested_vm_start_schedule\"></a>The <code>vm_start_schedule</code> block supports:</p><ul><li><code>schedule</code> -<br />  (Required)<br />  Specifies the frequency for the operation, using the unix-cron format.</li></ul><p><a name=\"nested_vm_stop_schedule\"></a>The <code>vm_stop_schedule</code> block supports:</p><ul><li><code>schedule</code> -<br />  (Required)<br />  Specifies the frequency for the operation, using the unix-cron format.</li></ul><p><a name=\"nested_disk_consistency_group_policy\"></a>The <code>disk_consistency_group_policy</code> block supports:</p><ul><li><code>enabled</code> -<br />  (Required)<br />  Enable disk consistency on the resource policy.</li></ul>", "attributes-reference": "<h2 id=\"attributes-reference\">Attributes Reference</h2><p>In addition to the arguments listed above, the following computed attributes are exported:</p><ul><li><code>id</code> - an identifier for the resource with format <code>projects/{{project}}/regions/{{region}}/resourcePolicies/{{name}}</code></li><li><code>self_link</code> - The URI of the created resource.</li></ul>", "timeouts": "<h2 id=\"timeouts\">Timeouts</h2><p>This resource provides the following<br /><a href=\"https://developer.hashicorp.com/terraform/plugin/sdkv2/resources/retries-and-customizable-timeouts\">Timeouts</a> configuration options:</p><ul><li><code>create</code> - Default is 20 minutes.</li><li><code>delete</code> - Default is 20 minutes.</li></ul>", "import": "<h2 id=\"import\">Import</h2><p>ResourcePolicy can be imported using any of these accepted formats:</p><p>$ terraform import google_compute_resource_policy.default projects/{{project}}/regions/{{region}}/resourcePolicies/{{name}}<br />$ terraform import google_compute_resource_policy.default {{project}}/{{region}}/{{name}}<br />$ terraform import google_compute_resource_policy.default {{region}}/{{name}}<br />$ terraform import google_compute_resource_policy.default {{name}}</p>", "user-project-overrides": "<h2 id=\"user-project-overrides\">User Project Overrides</h2><p>This resource supports <a href=\"https://registry.terraform.io/providers/hashicorp/google/latest/docs/guides/provider_reference#user_project_override\">User Project Overrides</a>.</p>", "description": "<h1 id=\"google_compute_resource_policy\">google_compute_resource_policy</h1><p>A policy that can be attached to a resource to specify or schedule actions on that resource.</p><p>To get more information about ResourcePolicy, see:</p><ul><li><a href=\"https://cloud.google.com/compute/docs/reference/rest/v1/resourcePolicies\">API documentation</a></li></ul><div class = \"oics-button\" style=\"float: right; margin: 0 0 -15px\">  <a href=\"https://console.cloud.google.com/cloudshell/open?cloudshell_git_repo=https%3A%2F%2Fgithub.com%2Fterraform-google-modules%2Fdocs-examples.git&cloudshell_working_dir=resource_policy_basic&cloudshell_image=gcr.io%2Fcloudshell-images%2Fcloudshell%3Alatest&open_in_editor=main.tf&cloudshell_print=.%2Fmotd&cloudshell_tutorial=.%2Ftutorial.md\" target=\"_blank\">    <img alt=\"Open in Cloud Shell\" src=\"//gstatic.com/cloudssh/images/open-btn.svg\" style=\"max-height: 44px; margin: 32px auto; max-width: 100%;\">  </a></div>"}