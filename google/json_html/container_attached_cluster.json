{"": "<h1 id=\"-_2\">----------------------------------------------------------------------------</h1><p>subcategory: \"ContainerAttached\"<br />description: |-<br />  An Anthos cluster running on customer owned infrastructure.</p><hr />", "auto-generated-code-type-mmv1": "<h1 id=\"auto-generated-code-type-mmv1\"><strong><em>     AUTO GENERATED CODE    </em></strong>    Type: MMv1     ***</h1>", "this-file-is-automatically-generated-by-magic-modules-and-manual": "<h1 id=\"this-file-is-automatically-generated-by-magic-modules-and-manual\">This file is automatically generated by Magic Modules and manual</h1>", "changes-will-be-clobbered-when-the-file-is-regenerated": "<h1 id=\"changes-will-be-clobbered-when-the-file-is-regenerated\">changes will be clobbered when the file is regenerated.</h1>", "please-read-more-about-how-to-change-this-file-in": "<h1 id=\"please-read-more-about-how-to-change-this-file-in\">Please read more about how to change this file in</h1>", "github-contributing-md": "<h1 id=\"githubcontributingmd\">.github/CONTRIBUTING.md.</h1>", "google-container-attached-cluster": "<h1 id=\"google_container_attached_cluster\">google_container_attached_cluster</h1><p>An Anthos cluster running on customer owned infrastructure.</p><p>To get more information about Cluster, see:</p><ul><li><a href=\"https://cloud.google.com/anthos/clusters/docs/multi-cloud/reference/rest\">API documentation</a></li><li>How-to Guides<ul><li><a href=\"https://cloud.google.com/anthos/clusters/docs/multi-cloud/reference/rest/v1/projects.locations.attachedClusters\">API reference</a></li><li><a href=\"https://cloud.google.com/anthos/clusters/docs/multi-cloud\">Multicloud overview</a></li></ul></li></ul><div class = \"oics-button\" style=\"float: right; margin: 0 0 -15px\">  <a href=\"https://console.cloud.google.com/cloudshell/open?cloudshell_git_repo=https%3A%2F%2Fgithub.com%2Fterraform-google-modules%2Fdocs-examples.git&cloudshell_working_dir=container_attached_cluster_basic&cloudshell_image=gcr.io%2Fcloudshell-images%2Fcloudshell%3Alatest&open_in_editor=main.tf&cloudshell_print=.%2Fmotd&cloudshell_tutorial=.%2Ftutorial.md\" target=\"_blank\">    <img alt=\"Open in Cloud Shell\" src=\"//gstatic.com/cloudssh/images/open-btn.svg\" style=\"max-height: 44px; margin: 32px auto; max-width: 100%;\">  </a></div>", "example-usage---container-attached-cluster-basic": "<h2 id=\"example-usage-container-attached-cluster-basic\">Example Usage - Container Attached Cluster Basic</h2><p>data \"google_project\" \"project\" {<br />}</p><p>data \"google_container_attached_versions\" \"versions\" {<br />    location       = \"us-west1\"<br />    project        = data.google_project.project.project_id<br />}</p><p>resource \"google_container_attached_cluster\" \"primary\" {<br />  name     = \"basic\"<br />  location = \"us-west1\"<br />  project = data.google_project.project.project_id<br />  description = \"Test cluster\"<br />  distribution = \"aks\"<br />  oidc_config {<br />      issuer_url = \"https://oidc.issuer.url\"<br />  }<br />  platform_version = data.google_container_attached_versions.versions.valid_versions[0]<br />  fleet {<br />    project = \"projects/${data.google_project.project.number}\"<br />  }<br />}</p><div class = \"oics-button\" style=\"float: right; margin: 0 0 -15px\">  <a href=\"https://console.cloud.google.com/cloudshell/open?cloudshell_git_repo=https%3A%2F%2Fgithub.com%2Fterraform-google-modules%2Fdocs-examples.git&cloudshell_working_dir=container_attached_cluster_full&cloudshell_image=gcr.io%2Fcloudshell-images%2Fcloudshell%3Alatest&open_in_editor=main.tf&cloudshell_print=.%2Fmotd&cloudshell_tutorial=.%2Ftutorial.md\" target=\"_blank\">    <img alt=\"Open in Cloud Shell\" src=\"//gstatic.com/cloudssh/images/open-btn.svg\" style=\"max-height: 44px; margin: 32px auto; max-width: 100%;\">  </a></div>", "example-usage---container-attached-cluster-full": "<h2 id=\"example-usage-container-attached-cluster-full\">Example Usage - Container Attached Cluster Full</h2><p>data \"google_project\" \"project\" {<br />}</p><p>data \"google_container_attached_versions\" \"versions\" {<br />    location       = \"us-west1\"<br />    project        = data.google_project.project.project_id<br />}</p><p>resource \"google_container_attached_cluster\" \"primary\" {<br />  name     = \"basic\"<br />  project = data.google_project.project.project_id<br />  location = \"us-west1\"<br />  description = \"Test cluster\"<br />  distribution = \"aks\"<br />  annotations = {<br />    label-one = \"value-one\"<br />  }<br />  authorization {<br />    admin_users = [ \"user1@example.com\", \"user2@example.com\"]<br />  }<br />  oidc_config {<br />      issuer_url = \"https://oidc.issuer.url\"<br />      jwks = base64encode(\"{\\\"keys\\\":[{\\\"use\\\":\\\"sig\\\",\\\"kty\\\":\\\"RSA\\\",\\\"kid\\\":\\\"testid\\\",\\\"alg\\\":\\\"RS256\\\",\\\"n\\\":\\\"somedata\\\",\\\"e\\\":\\\"AQAB\\\"}]}\")<br />  }<br />  platform_version = data.google_container_attached_versions.versions.valid_versions[0]<br />  fleet {<br />    project = \"projects/${data.google_project.project.number}\"<br />  }<br />  logging_config {<br />    component_config {<br />      enable_components = [\"SYSTEM_COMPONENTS\", \"WORKLOADS\"]<br />    }<br />  }<br />  monitoring_config {<br />    managed_prometheus_config {<br />      enabled = true<br />    }<br />  }<br />  binary_authorization {<br />    evaluation_mode = \"PROJECT_SINGLETON_POLICY_ENFORCE\"<br />  }<br />}</p><div class = \"oics-button\" style=\"float: right; margin: 0 0 -15px\">  <a href=\"https://console.cloud.google.com/cloudshell/open?cloudshell_git_repo=https%3A%2F%2Fgithub.com%2Fterraform-google-modules%2Fdocs-examples.git&cloudshell_working_dir=container_attached_cluster_ignore_errors&cloudshell_image=gcr.io%2Fcloudshell-images%2Fcloudshell%3Alatest&open_in_editor=main.tf&cloudshell_print=.%2Fmotd&cloudshell_tutorial=.%2Ftutorial.md\" target=\"_blank\">    <img alt=\"Open in Cloud Shell\" src=\"//gstatic.com/cloudssh/images/open-btn.svg\" style=\"max-height: 44px; margin: 32px auto; max-width: 100%;\">  </a></div>", "example-usage---container-attached-cluster-ignore-errors": "<h2 id=\"example-usage-container-attached-cluster-ignore-errors\">Example Usage - Container Attached Cluster Ignore Errors</h2><p>data \"google_project\" \"project\" {<br />}</p><p>data \"google_container_attached_versions\" \"versions\" {<br />    location       = \"us-west1\"<br />    project        = data.google_project.project.project_id<br />}</p><p>resource \"google_container_attached_cluster\" \"primary\" {<br />  name     = \"basic\"<br />  location = \"us-west1\"<br />  project = data.google_project.project.project_id<br />  description = \"Test cluster\"<br />  distribution = \"aks\"<br />  oidc_config {<br />      issuer_url = \"https://oidc.issuer.url\"<br />  }<br />  platform_version = data.google_container_attached_versions.versions.valid_versions[0]<br />  fleet {<br />    project = \"projects/${data.google_project.project.number}\"<br />  }</p><p>deletion_policy = \"DELETE_IGNORE_ERRORS\"<br />}</p>", "argument-reference": "<h2 id=\"argument-reference\">Argument Reference</h2><p>The following arguments are supported:</p><ul><li><p><code>location</code> -<br />  (Required)<br />  The location for the resource</p></li><li><p><code>name</code> -<br />  (Required)<br />  The name of this resource.</p></li><li><p><code>oidc_config</code> -<br />  (Required)<br />  OIDC discovery information of the target cluster.<br />  Kubernetes Service Account (KSA) tokens are JWT tokens signed by the cluster<br />  API server. This fields indicates how GCP services<br />  validate KSA tokens in order to allow system workloads (such as GKE Connect<br />  and telemetry agents) to authenticate back to GCP.<br />  Both clusters with public and private issuer URLs are supported.<br />  Clusters with public issuers only need to specify the <code>issuer_url</code> field<br />  while clusters with private issuers need to provide both<br /><code>issuer_url</code> and <code>jwks</code>.<br />  Structure is <a href=\"#nested_oidc_config\">documented below</a>.</p></li><li><p><code>platform_version</code> -<br />  (Required)<br />  The platform version for the cluster (e.g. <code>1.23.0-gke.1</code>).</p></li><li><p><code>distribution</code> -<br />  (Required)<br />  The Kubernetes distribution of the underlying attached cluster. Supported values:<br />  \"eks\", \"aks\".</p></li><li><p><code>fleet</code> -<br />  (Required)<br />  Fleet configuration.<br />  Structure is <a href=\"#nested_fleet\">documented below</a>.</p></li></ul><p><a name=\"nested_oidc_config\"></a>The <code>oidc_config</code> block supports:</p><ul><li><p><code>issuer_url</code> -<br />  (Required)<br />  A JSON Web Token (JWT) issuer URI. <code>issuer</code> must start with <code>https://</code></p></li><li><p><code>jwks</code> -<br />  (Optional)<br />  OIDC verification keys in JWKS format (RFC 7517).</p></li></ul><p><a name=\"nested_fleet\"></a>The <code>fleet</code> block supports:</p><ul><li><p><code>membership</code> -<br />  (Output)<br />  The name of the managed Hub Membership resource associated to this<br />  cluster. Membership names are formatted as<br />  projects/<project-number>/locations/global/membership/<cluster-id>.</p></li><li><p><code>project</code> -<br />  (Required)<br />  The number of the Fleet host project where this cluster will be registered.</p></li></ul><hr /><ul><li><p><code>description</code> -<br />  (Optional)<br />  A human readable description of this attached cluster. Cannot be longer<br />  than 255 UTF-8 encoded bytes.</p></li><li><p><code>annotations</code> -<br />  (Optional)<br />  Optional. Annotations on the cluster. This field has the same<br />  restrictions as Kubernetes annotations. The total size of all keys and<br />  values combined is limited to 256k. Key can have 2 segments: prefix (optional)<br />  and name (required), separated by a slash (/). Prefix must be a DNS subdomain.<br />  Name must be 63 characters or less, begin and end with alphanumerics,<br />  with dashes (-), underscores (_), dots (.), and alphanumerics between.</p></li><li><p><code>logging_config</code> -<br />  (Optional)<br />  Logging configuration.<br />  Structure is <a href=\"#nested_logging_config\">documented below</a>.</p></li><li><p><code>authorization</code> -<br />  (Optional)<br />  Configuration related to the cluster RBAC settings.<br />  Structure is <a href=\"#nested_authorization\">documented below</a>.</p></li><li><p><code>monitoring_config</code> -<br />  (Optional)<br />  Monitoring configuration.<br />  Structure is <a href=\"#nested_monitoring_config\">documented below</a>.</p></li><li><p><code>binary_authorization</code> -<br />  (Optional)<br />  Binary Authorization configuration.<br />  Structure is <a href=\"#nested_binary_authorization\">documented below</a>.</p></li><li><p><code>project</code> - (Optional) The ID of the project in which the resource belongs.<br />    If it is not provided, the provider project is used.</p></li><li><p><code>deletion_policy</code> - (Optional) Policy to determine what flags to send on delete.</p></li></ul><p><a name=\"nested_logging_config\"></a>The <code>logging_config</code> block supports:</p><ul><li><code>component_config</code> -<br />  (Optional)<br />  The configuration of the logging components<br />  Structure is <a href=\"#nested_component_config\">documented below</a>.</li></ul><p><a name=\"nested_component_config\"></a>The <code>component_config</code> block supports:</p><ul><li><code>enable_components</code> -<br />  (Optional)<br />  The components to be enabled.<br />  Each value may be one of: <code>SYSTEM_COMPONENTS</code>, <code>WORKLOADS</code>.</li></ul><p><a name=\"nested_authorization\"></a>The <code>authorization</code> block supports:</p><ul><li><code>admin_users</code> -<br />  (Optional)<br />  Users that can perform operations as a cluster admin. A managed<br />  ClusterRoleBinding will be created to grant the <code>cluster-admin</code> ClusterRole<br />  to the users. Up to ten admin users can be provided.<br />  For more info on RBAC, see<br />  https://kubernetes.io/docs/reference/access-authn-authz/rbac/#user-facing-roles</li></ul><p><a name=\"nested_monitoring_config\"></a>The <code>monitoring_config</code> block supports:</p><ul><li><code>managed_prometheus_config</code> -<br />  (Optional)<br />  Enable Google Cloud Managed Service for Prometheus in the cluster.<br />  Structure is <a href=\"#nested_managed_prometheus_config\">documented below</a>.</li></ul><p><a name=\"nested_managed_prometheus_config\"></a>The <code>managed_prometheus_config</code> block supports:</p><ul><li><code>enabled</code> -<br />  (Optional)<br />  Enable Managed Collection.</li></ul><p><a name=\"nested_binary_authorization\"></a>The <code>binary_authorization</code> block supports:</p><ul><li><code>evaluation_mode</code> -<br />  (Optional)<br />  Configure Binary Authorization evaluation mode.<br />  Possible values are: <code>DISABLED</code>, <code>PROJECT_SINGLETON_POLICY_ENFORCE</code>.</li></ul>", "attributes-reference": "<h2 id=\"attributes-reference\">Attributes Reference</h2><p>In addition to the arguments listed above, the following computed attributes are exported:</p><ul><li><p><code>id</code> - an identifier for the resource with format <code>projects/{{project}}/locations/{{location}}/attachedClusters/{{name}}</code></p></li><li><p><code>cluster_region</code> -<br />  Output only. The region where this cluster runs.<br />  For EKS clusters, this is an AWS region. For AKS clusters,<br />  this is an Azure region.</p></li><li><p><code>state</code> -<br />  The current state of the cluster. Possible values:<br />  STATE_UNSPECIFIED, PROVISIONING, RUNNING, RECONCILING, STOPPING, ERROR,<br />  DEGRADED</p></li><li><p><code>uid</code> -<br />  A globally unique identifier for the cluster.</p></li><li><p><code>reconciling</code> -<br />  If set, there are currently changes in flight to the cluster.</p></li><li><p><code>create_time</code> -<br />  Output only. The time at which this cluster was created.</p></li><li><p><code>update_time</code> -<br />  The time at which this cluster was last updated.</p></li><li><p><code>kubernetes_version</code> -<br />  The Kubernetes version of the cluster.</p></li><li><p><code>workload_identity_config</code> -<br />  Workload Identity settings.<br />  Structure is <a href=\"#nested_workload_identity_config\">documented below</a>.</p></li><li><p><code>errors</code> -<br />  A set of errors found in the cluster.<br />  Structure is <a href=\"#nested_errors\">documented below</a>.</p></li></ul><p><a name=\"nested_workload_identity_config\"></a>The <code>workload_identity_config</code> block contains:</p><ul><li><p><code>identity_provider</code> -<br />  (Optional)<br />  The ID of the OIDC Identity Provider (IdP) associated to<br />  the Workload Identity Pool.</p></li><li><p><code>issuer_uri</code> -<br />  (Optional)<br />  The OIDC issuer URL for this cluster.</p></li><li><p><code>workload_pool</code> -<br />  (Optional)<br />  The Workload Identity Pool associated to the cluster.</p></li></ul><p><a name=\"nested_errors\"></a>The <code>errors</code> block contains:</p><ul><li><code>message</code> -<br />  (Optional)<br />  Human-friendly description of the error.</li></ul>", "timeouts": "<h2 id=\"timeouts\">Timeouts</h2><p>This resource provides the following<br /><a href=\"https://developer.hashicorp.com/terraform/plugin/sdkv2/resources/retries-and-customizable-timeouts\">Timeouts</a> configuration options:</p><ul><li><code>create</code> - Default is 20 minutes.</li><li><code>update</code> - Default is 20 minutes.</li><li><code>delete</code> - Default is 20 minutes.</li></ul>", "import": "<h2 id=\"import\">Import</h2><p>Cluster can be imported using any of these accepted formats:</p><p>$ terraform import google_container_attached_cluster.default projects/{{project}}/locations/{{location}}/attachedClusters/{{name}}<br />$ terraform import google_container_attached_cluster.default {{project}}/{{location}}/{{name}}<br />$ terraform import google_container_attached_cluster.default {{location}}/{{name}}</p>", "user-project-overrides": "<h2 id=\"user-project-overrides\">User Project Overrides</h2><p>This resource supports <a href=\"https://registry.terraform.io/providers/hashicorp/google/latest/docs/guides/provider_reference#user_project_override\">User Project Overrides</a>.</p>", "description": "<h1 id=\"google_container_attached_cluster\">google_container_attached_cluster</h1><p>An Anthos cluster running on customer owned infrastructure.</p><p>To get more information about Cluster, see:</p><ul><li><a href=\"https://cloud.google.com/anthos/clusters/docs/multi-cloud/reference/rest\">API documentation</a></li><li>How-to Guides<ul><li><a href=\"https://cloud.google.com/anthos/clusters/docs/multi-cloud/reference/rest/v1/projects.locations.attachedClusters\">API reference</a></li><li><a href=\"https://cloud.google.com/anthos/clusters/docs/multi-cloud\">Multicloud overview</a></li></ul></li></ul><div class = \"oics-button\" style=\"float: right; margin: 0 0 -15px\">  <a href=\"https://console.cloud.google.com/cloudshell/open?cloudshell_git_repo=https%3A%2F%2Fgithub.com%2Fterraform-google-modules%2Fdocs-examples.git&cloudshell_working_dir=container_attached_cluster_basic&cloudshell_image=gcr.io%2Fcloudshell-images%2Fcloudshell%3Alatest&open_in_editor=main.tf&cloudshell_print=.%2Fmotd&cloudshell_tutorial=.%2Ftutorial.md\" target=\"_blank\">    <img alt=\"Open in Cloud Shell\" src=\"//gstatic.com/cloudssh/images/open-btn.svg\" style=\"max-height: 44px; margin: 32px auto; max-width: 100%;\">  </a></div>"}