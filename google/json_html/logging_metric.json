{"": "<h1 id=\"-_2\">----------------------------------------------------------------------------</h1><p>subcategory: \"Cloud (Stackdriver) Logging\"<br />description: |-<br />  Logs-based metric can also be used to extract values from logs and create a a distribution<br />  of the values.</p><hr />", "auto-generated-code-type-mmv1": "<h1 id=\"auto-generated-code-type-mmv1\"><strong><em>     AUTO GENERATED CODE    </em></strong>    Type: MMv1     ***</h1>", "this-file-is-automatically-generated-by-magic-modules-and-manual": "<h1 id=\"this-file-is-automatically-generated-by-magic-modules-and-manual\">This file is automatically generated by Magic Modules and manual</h1>", "changes-will-be-clobbered-when-the-file-is-regenerated": "<h1 id=\"changes-will-be-clobbered-when-the-file-is-regenerated\">changes will be clobbered when the file is regenerated.</h1>", "please-read-more-about-how-to-change-this-file-in": "<h1 id=\"please-read-more-about-how-to-change-this-file-in\">Please read more about how to change this file in</h1>", "github-contributing-md": "<h1 id=\"githubcontributingmd\">.github/CONTRIBUTING.md.</h1>", "google-logging-metric": "<h1 id=\"google_logging_metric\">google_logging_metric</h1><p>Logs-based metric can also be used to extract values from logs and create a a distribution<br />of the values. The distribution records the statistics of the extracted values along with<br />an optional histogram of the values as specified by the bucket options.</p><p>To get more information about Metric, see:</p><ul><li><a href=\"https://cloud.google.com/logging/docs/reference/v2/rest/v2/projects.metrics/create\">API documentation</a></li><li>How-to Guides<ul><li><a href=\"https://cloud.google.com/logging/docs/apis\">Official Documentation</a></li></ul></li></ul><div class = \"oics-button\" style=\"float: right; margin: 0 0 -15px\">  <a href=\"https://console.cloud.google.com/cloudshell/open?cloudshell_git_repo=https%3A%2F%2Fgithub.com%2Fterraform-google-modules%2Fdocs-examples.git&cloudshell_working_dir=logging_metric_basic&cloudshell_image=gcr.io%2Fcloudshell-images%2Fcloudshell%3Alatest&open_in_editor=main.tf&cloudshell_print=.%2Fmotd&cloudshell_tutorial=.%2Ftutorial.md\" target=\"_blank\">    <img alt=\"Open in Cloud Shell\" src=\"//gstatic.com/cloudssh/images/open-btn.svg\" style=\"max-height: 44px; margin: 32px auto; max-width: 100%;\">  </a></div>", "example-usage---logging-metric-basic": "<h2 id=\"example-usage-logging-metric-basic\">Example Usage - Logging Metric Basic</h2><p>resource \"google_logging_metric\" \"logging_metric\" {<br />  name   = \"my-(custom)/metric\"<br />  filter = \"resource.type=gae_app AND severity&gt;=ERROR\"<br />  metric_descriptor {<br />    metric_kind = \"DELTA\"<br />    value_type  = \"DISTRIBUTION\"<br />    unit        = \"1\"<br />    labels {<br />      key         = \"mass\"<br />      value_type  = \"STRING\"<br />      description = \"amount of matter\"<br />    }<br />    labels {<br />      key         = \"sku\"<br />      value_type  = \"INT64\"<br />      description = \"Identifying number for item\"<br />    }<br />    display_name = \"My metric\"<br />  }<br />  value_extractor = \"EXTRACT(jsonPayload.request)\"<br />  label_extractors = {<br />    \"mass\" = \"EXTRACT(jsonPayload.request)\"<br />    \"sku\"  = \"EXTRACT(jsonPayload.id)\"<br />  }<br />  bucket_options {<br />    linear_buckets {<br />      num_finite_buckets = 3<br />      width              = 1<br />      offset             = 1<br />    }<br />  }<br />}</p><div class = \"oics-button\" style=\"float: right; margin: 0 0 -15px\">  <a href=\"https://console.cloud.google.com/cloudshell/open?cloudshell_git_repo=https%3A%2F%2Fgithub.com%2Fterraform-google-modules%2Fdocs-examples.git&cloudshell_working_dir=logging_metric_counter_basic&cloudshell_image=gcr.io%2Fcloudshell-images%2Fcloudshell%3Alatest&open_in_editor=main.tf&cloudshell_print=.%2Fmotd&cloudshell_tutorial=.%2Ftutorial.md\" target=\"_blank\">    <img alt=\"Open in Cloud Shell\" src=\"//gstatic.com/cloudssh/images/open-btn.svg\" style=\"max-height: 44px; margin: 32px auto; max-width: 100%;\">  </a></div>", "example-usage---logging-metric-counter-basic": "<h2 id=\"example-usage-logging-metric-counter-basic\">Example Usage - Logging Metric Counter Basic</h2><p>resource \"google_logging_metric\" \"logging_metric\" {<br />  name   = \"my-(custom)/metric\"<br />  filter = \"resource.type=gae_app AND severity&gt;=ERROR\"<br />  metric_descriptor {<br />    metric_kind = \"DELTA\"<br />    value_type  = \"INT64\"<br />  }<br />}</p><div class = \"oics-button\" style=\"float: right; margin: 0 0 -15px\">  <a href=\"https://console.cloud.google.com/cloudshell/open?cloudshell_git_repo=https%3A%2F%2Fgithub.com%2Fterraform-google-modules%2Fdocs-examples.git&cloudshell_working_dir=logging_metric_counter_labels&cloudshell_image=gcr.io%2Fcloudshell-images%2Fcloudshell%3Alatest&open_in_editor=main.tf&cloudshell_print=.%2Fmotd&cloudshell_tutorial=.%2Ftutorial.md\" target=\"_blank\">    <img alt=\"Open in Cloud Shell\" src=\"//gstatic.com/cloudssh/images/open-btn.svg\" style=\"max-height: 44px; margin: 32px auto; max-width: 100%;\">  </a></div>", "example-usage---logging-metric-counter-labels": "<h2 id=\"example-usage-logging-metric-counter-labels\">Example Usage - Logging Metric Counter Labels</h2><p>resource \"google_logging_metric\" \"logging_metric\" {<br />  name   = \"my-(custom)/metric\"<br />  filter = \"resource.type=gae_app AND severity&gt;=ERROR\"<br />  metric_descriptor {<br />    metric_kind = \"DELTA\"<br />    value_type  = \"INT64\"<br />    labels {<br />      key         = \"mass\"<br />      value_type  = \"STRING\"<br />      description = \"amount of matter\"<br />    }<br />  }<br />  label_extractors = {<br />    \"mass\" = \"EXTRACT(jsonPayload.request)\"<br />  }<br />}</p>", "example-usage---logging-metric-logging-bucket": "<h2 id=\"example-usage-logging-metric-logging-bucket\">Example Usage - Logging Metric Logging Bucket</h2><p>resource \"google_logging_project_bucket_config\" \"logging_metric\" {<br />    location  = \"global\"<br />    project   = \"my-project-name\"<br />    bucket_id = \"_Default\"<br />}</p><p>resource \"google_logging_metric\" \"logging_metric\" {<br />  name        = \"my-(custom)/metric\"<br />  filter      = \"resource.type=gae_app AND severity&gt;=ERROR\"<br />  bucket_name = google_logging_project_bucket_config.logging_metric.id<br />}</p><div class = \"oics-button\" style=\"float: right; margin: 0 0 -15px\">  <a href=\"https://console.cloud.google.com/cloudshell/open?cloudshell_git_repo=https%3A%2F%2Fgithub.com%2Fterraform-google-modules%2Fdocs-examples.git&cloudshell_working_dir=logging_metric_disabled&cloudshell_image=gcr.io%2Fcloudshell-images%2Fcloudshell%3Alatest&open_in_editor=main.tf&cloudshell_print=.%2Fmotd&cloudshell_tutorial=.%2Ftutorial.md\" target=\"_blank\">    <img alt=\"Open in Cloud Shell\" src=\"//gstatic.com/cloudssh/images/open-btn.svg\" style=\"max-height: 44px; margin: 32px auto; max-width: 100%;\">  </a></div>", "example-usage---logging-metric-disabled": "<h2 id=\"example-usage-logging-metric-disabled\">Example Usage - Logging Metric Disabled</h2><p>resource \"google_logging_metric\" \"logging_metric\" {<br />  name   = \"my-(custom)/metric\"<br />  filter = \"resource.type=gae_app AND severity&gt;=ERROR\"<br />  metric_descriptor {<br />    metric_kind = \"DELTA\"<br />    value_type  = \"INT64\"<br />  }<br />  disabled = true<br />}</p>", "argument-reference": "<h2 id=\"argument-reference\">Argument Reference</h2><p>The following arguments are supported:</p><ul><li><p><code>name</code> -<br />  (Required)<br />  The client-assigned metric identifier. Examples - \"error_count\", \"nginx/requests\".<br />  Metric identifiers are limited to 100 characters and can include only the following<br />  characters A-Z, a-z, 0-9, and the special characters _-.,+!*',()%/. The forward-slash<br />  character (/) denotes a hierarchy of name pieces, and it cannot be the first character<br />  of the name.</p></li><li><p><code>filter</code> -<br />  (Required)<br />  An advanced logs filter (https://cloud.google.com/logging/docs/view/advanced-filters) which<br />  is used to match log entries.</p></li></ul><hr /><ul><li><p><code>description</code> -<br />  (Optional)<br />  A description of this metric, which is used in documentation. The maximum length of the<br />  description is 8000 characters.</p></li><li><p><code>bucket_name</code> -<br />  (Optional)<br />  The resource name of the Log Bucket that owns the Log Metric. Only Log Buckets in projects<br />  are supported. The bucket has to be in the same project as the metric.</p></li><li><p><code>disabled</code> -<br />  (Optional)<br />  If set to True, then this metric is disabled and it does not generate any points.</p></li><li><p><code>metric_descriptor</code> -<br />  (Optional)<br />  The optional metric descriptor associated with the logs-based metric.<br />  If unspecified, it uses a default metric descriptor with a DELTA metric kind,<br />  INT64 value type, with no labels and a unit of \"1\". Such a metric counts the<br />  number of log entries matching the filter expression.<br />  Structure is <a href=\"#nested_metric_descriptor\">documented below</a>.</p></li><li><p><code>label_extractors</code> -<br />  (Optional)<br />  A map from a label key string to an extractor expression which is used to extract data from a log<br />  entry field and assign as the label value. Each label key specified in the LabelDescriptor must<br />  have an associated extractor expression in this map. The syntax of the extractor expression is<br />  the same as for the valueExtractor field.</p></li><li><p><code>value_extractor</code> -<br />  (Optional)<br />  A valueExtractor is required when using a distribution logs-based metric to extract the values to<br />  record from a log entry. Two functions are supported for value extraction - EXTRACT(field) or<br />  REGEXP_EXTRACT(field, regex). The argument are 1. field - The name of the log entry field from which<br />  the value is to be extracted. 2. regex - A regular expression using the Google RE2 syntax<br />  (https://github.com/google/re2/wiki/Syntax) with a single capture group to extract data from the specified<br />  log entry field. The value of the field is converted to a string before applying the regex. It is an<br />  error to specify a regex that does not include exactly one capture group.</p></li><li><p><code>bucket_options</code> -<br />  (Optional)<br />  The bucketOptions are required when the logs-based metric is using a DISTRIBUTION value type and it<br />  describes the bucket boundaries used to create a histogram of the extracted values.<br />  Structure is <a href=\"#nested_bucket_options\">documented below</a>.</p></li><li><p><code>project</code> - (Optional) The ID of the project in which the resource belongs.<br />    If it is not provided, the provider project is used.</p></li></ul><p><a name=\"nested_metric_descriptor\"></a>The <code>metric_descriptor</code> block supports:</p><ul><li><p><code>unit</code> -<br />  (Optional)<br />  The unit in which the metric value is reported. It is only applicable if the valueType is<br /><code>INT64</code>, <code>DOUBLE</code>, or <code>DISTRIBUTION</code>. The supported units are a subset of<br /><a href=\"http://unitsofmeasure.org/ucum.html\">The Unified Code for Units of Measure</a> standard</p></li><li><p><code>value_type</code> -<br />  (Required)<br />  Whether the measurement is an integer, a floating-point number, etc.<br />  Some combinations of metricKind and valueType might not be supported.<br />  For counter metrics, set this to INT64.<br />  Possible values are: <code>BOOL</code>, <code>INT64</code>, <code>DOUBLE</code>, <code>STRING</code>, <code>DISTRIBUTION</code>, <code>MONEY</code>.</p></li><li><p><code>metric_kind</code> -<br />  (Required)<br />  Whether the metric records instantaneous values, changes to a value, etc.<br />  Some combinations of metricKind and valueType might not be supported.<br />  For counter metrics, set this to DELTA.<br />  Possible values are: <code>DELTA</code>, <code>GAUGE</code>, <code>CUMULATIVE</code>.</p></li><li><p><code>labels</code> -<br />  (Optional)<br />  The set of labels that can be used to describe a specific instance of this metric type. For<br />  example, the appengine.googleapis.com/http/server/response_latencies metric type has a label<br />  for the HTTP response code, response_code, so you can look at latencies for successful responses<br />  or just for responses that failed.<br />  Structure is <a href=\"#nested_labels\">documented below</a>.</p></li><li><p><code>display_name</code> -<br />  (Optional)<br />  A concise name for the metric, which can be displayed in user interfaces. Use sentence case<br />  without an ending period, for example \"Request count\". This field is optional but it is<br />  recommended to be set for any metrics associated with user-visible concepts, such as Quota.</p></li></ul><p><a name=\"nested_labels\"></a>The <code>labels</code> block supports:</p><ul><li><p><code>key</code> -<br />  (Required)<br />  The label key.</p></li><li><p><code>description</code> -<br />  (Optional)<br />  A human-readable description for the label.</p></li><li><p><code>value_type</code> -<br />  (Optional)<br />  The type of data that can be assigned to the label.<br />  Default value is <code>STRING</code>.<br />  Possible values are: <code>BOOL</code>, <code>INT64</code>, <code>STRING</code>.</p></li></ul><p><a name=\"nested_bucket_options\"></a>The <code>bucket_options</code> block supports:</p><ul><li><p><code>linear_buckets</code> -<br />  (Optional)<br />  Specifies a linear sequence of buckets that all have the same width (except overflow and underflow).<br />  Each bucket represents a constant absolute uncertainty on the specific value in the bucket.<br />  Structure is <a href=\"#nested_linear_buckets\">documented below</a>.</p></li><li><p><code>exponential_buckets</code> -<br />  (Optional)<br />  Specifies an exponential sequence of buckets that have a width that is proportional to the value of<br />  the lower bound. Each bucket represents a constant relative uncertainty on a specific value in the bucket.<br />  Structure is <a href=\"#nested_exponential_buckets\">documented below</a>.</p></li><li><p><code>explicit_buckets</code> -<br />  (Optional)<br />  Specifies a set of buckets with arbitrary widths.<br />  Structure is <a href=\"#nested_explicit_buckets\">documented below</a>.</p></li></ul><p><a name=\"nested_linear_buckets\"></a>The <code>linear_buckets</code> block supports:</p><ul><li><p><code>num_finite_buckets</code> -<br />  (Optional)<br />  Must be greater than 0.</p></li><li><p><code>width</code> -<br />  (Optional)<br />  Must be greater than 0.</p></li><li><p><code>offset</code> -<br />  (Optional)<br />  Lower bound of the first bucket.</p></li></ul><p><a name=\"nested_exponential_buckets\"></a>The <code>exponential_buckets</code> block supports:</p><ul><li><p><code>num_finite_buckets</code> -<br />  (Optional)<br />  Must be greater than 0.</p></li><li><p><code>growth_factor</code> -<br />  (Optional)<br />  Must be greater than 1.</p></li><li><p><code>scale</code> -<br />  (Optional)<br />  Must be greater than 0.</p></li></ul><p><a name=\"nested_explicit_buckets\"></a>The <code>explicit_buckets</code> block supports:</p><ul><li><code>bounds</code> -<br />  (Required)<br />  The values must be monotonically increasing.</li></ul>", "attributes-reference": "<h2 id=\"attributes-reference\">Attributes Reference</h2><p>In addition to the arguments listed above, the following computed attributes are exported:</p><ul><li><code>id</code> - an identifier for the resource with format <code>{{name}}</code></li></ul>", "timeouts": "<h2 id=\"timeouts\">Timeouts</h2><p>This resource provides the following<br /><a href=\"https://developer.hashicorp.com/terraform/plugin/sdkv2/resources/retries-and-customizable-timeouts\">Timeouts</a> configuration options:</p><ul><li><code>create</code> - Default is 20 minutes.</li><li><code>update</code> - Default is 20 minutes.</li><li><code>delete</code> - Default is 20 minutes.</li></ul>", "import": "<h2 id=\"import\">Import</h2><p>Metric can be imported using any of these accepted formats:</p><p>$ terraform import google_logging_metric.default {{project}} {{name}}<br />$ terraform import google_logging_metric.default {{name}}</p>", "user-project-overrides": "<h2 id=\"user-project-overrides\">User Project Overrides</h2><p>This resource supports <a href=\"https://registry.terraform.io/providers/hashicorp/google/latest/docs/guides/provider_reference#user_project_override\">User Project Overrides</a>.</p>", "description": "<h1 id=\"google_logging_metric\">google_logging_metric</h1><p>Logs-based metric can also be used to extract values from logs and create a a distribution<br />of the values. The distribution records the statistics of the extracted values along with<br />an optional histogram of the values as specified by the bucket options.</p><p>To get more information about Metric, see:</p><ul><li><a href=\"https://cloud.google.com/logging/docs/reference/v2/rest/v2/projects.metrics/create\">API documentation</a></li><li>How-to Guides<ul><li><a href=\"https://cloud.google.com/logging/docs/apis\">Official Documentation</a></li></ul></li></ul><div class = \"oics-button\" style=\"float: right; margin: 0 0 -15px\">  <a href=\"https://console.cloud.google.com/cloudshell/open?cloudshell_git_repo=https%3A%2F%2Fgithub.com%2Fterraform-google-modules%2Fdocs-examples.git&cloudshell_working_dir=logging_metric_basic&cloudshell_image=gcr.io%2Fcloudshell-images%2Fcloudshell%3Alatest&open_in_editor=main.tf&cloudshell_print=.%2Fmotd&cloudshell_tutorial=.%2Ftutorial.md\" target=\"_blank\">    <img alt=\"Open in Cloud Shell\" src=\"//gstatic.com/cloudssh/images/open-btn.svg\" style=\"max-height: 44px; margin: 32px auto; max-width: 100%;\">  </a></div>"}