{"": "<h1 id=\"-_2\">----------------------------------------------------------------------------</h1><p>subcategory: \"Dataproc metastore\"<br />description: |-<br />  A managed metastore service that serves metadata queries.</p><hr />", "auto-generated-code-type-mmv1": "<h1 id=\"auto-generated-code-type-mmv1\"><strong><em>     AUTO GENERATED CODE    </em></strong>    Type: MMv1     ***</h1>", "this-file-is-automatically-generated-by-magic-modules-and-manual": "<h1 id=\"this-file-is-automatically-generated-by-magic-modules-and-manual\">This file is automatically generated by Magic Modules and manual</h1>", "changes-will-be-clobbered-when-the-file-is-regenerated": "<h1 id=\"changes-will-be-clobbered-when-the-file-is-regenerated\">changes will be clobbered when the file is regenerated.</h1>", "please-read-more-about-how-to-change-this-file-in": "<h1 id=\"please-read-more-about-how-to-change-this-file-in\">Please read more about how to change this file in</h1>", "github-contributing-md": "<h1 id=\"githubcontributingmd\">.github/CONTRIBUTING.md.</h1>", "google-dataproc-metastore-service": "<h1 id=\"google_dataproc_metastore_service\">google_dataproc_metastore_service</h1><p>A managed metastore service that serves metadata queries.</p><p>To get more information about Service, see:</p><ul><li><a href=\"https://cloud.google.com/dataproc-metastore/docs/reference/rest/v1/projects.locations.services\">API documentation</a></li><li>How-to Guides<ul><li><a href=\"https://cloud.google.com/dataproc-metastore/docs/overview\">Official Documentation</a></li></ul></li></ul><div class = \"oics-button\" style=\"float: right; margin: 0 0 -15px\">  <a href=\"https://console.cloud.google.com/cloudshell/open?cloudshell_git_repo=https%3A%2F%2Fgithub.com%2Fterraform-google-modules%2Fdocs-examples.git&cloudshell_working_dir=dataproc_metastore_service_basic&cloudshell_image=gcr.io%2Fcloudshell-images%2Fcloudshell%3Alatest&open_in_editor=main.tf&cloudshell_print=.%2Fmotd&cloudshell_tutorial=.%2Ftutorial.md\" target=\"_blank\">    <img alt=\"Open in Cloud Shell\" src=\"//gstatic.com/cloudssh/images/open-btn.svg\" style=\"max-height: 44px; margin: 32px auto; max-width: 100%;\">  </a></div>", "example-usage---dataproc-metastore-service-basic": "<h2 id=\"example-usage-dataproc-metastore-service-basic\">Example Usage - Dataproc Metastore Service Basic</h2><p>resource \"google_dataproc_metastore_service\" \"default\" {<br />  service_id = \"metastore-srv\"<br />  location   = \"us-central1\"<br />  port       = 9080<br />  tier       = \"DEVELOPER\"</p><p>maintenance_window {<br />    hour_of_day = 2<br />    day_of_week = \"SUNDAY\"<br />  }</p><p>hive_metastore_config {<br />    version = \"2.3.6\"<br />  }<br />}</p>", "example-usage---dataproc-metastore-service-cmek-example": "<h2 id=\"example-usage-dataproc-metastore-service-cmek-example\">Example Usage - Dataproc Metastore Service Cmek Example</h2><p>resource \"google_dataproc_metastore_service\" \"default\" {<br />  service_id = \"example-service\"<br />  location   = \"us-central1\"</p><p>encryption_config {<br />    kms_key = google_kms_crypto_key.crypto_key.id<br />  }</p><p>hive_metastore_config {<br />    version = \"3.1.2\"<br />  }<br />}</p><p>resource \"google_kms_crypto_key\" \"crypto_key\" {<br />  provider = google-beta<br />  name     = \"example-key\"<br />  key_ring = google_kms_key_ring.key_ring.id</p><p>purpose  = \"ENCRYPT_DECRYPT\"<br />}</p><p>resource \"google_kms_key_ring\" \"key_ring\" {<br />  provider = google-beta<br />  name     = \"example-keyring\"<br />  location = \"us-central1\"<br />}</p>", "example-usage---dataproc-metastore-service-private-service-connect": "<h2 id=\"example-usage-dataproc-metastore-service-private-service-connect\">Example Usage - Dataproc Metastore Service Private Service Connect</h2><p>resource \"google_compute_network\" \"net\" {<br />  name                    = \"my-network\"<br />  auto_create_subnetworks = false<br />}</p><p>resource \"google_compute_subnetwork\" \"subnet\" {<br />  name                     = \"my-subnetwork\"<br />  region                   = \"us-central1\"<br />  network                  = google_compute_network.net.id<br />  ip_cidr_range            = \"10.0.0.0/22\"<br />  private_ip_google_access = true<br />}</p><p>resource \"google_dataproc_metastore_service\" \"default\" {<br />  service_id = \"metastore-srv\"<br />  location   = \"us-central1\"</p><p>hive_metastore_config {<br />    version = \"3.1.2\"<br />  }</p><p>network_config {<br />    consumers {<br />      subnetwork = google_compute_subnetwork.subnet.id<br />    }<br />  }<br />}</p><div class = \"oics-button\" style=\"float: right; margin: 0 0 -15px\">  <a href=\"https://console.cloud.google.com/cloudshell/open?cloudshell_git_repo=https%3A%2F%2Fgithub.com%2Fterraform-google-modules%2Fdocs-examples.git&cloudshell_working_dir=dataproc_metastore_service_dpms2&cloudshell_image=gcr.io%2Fcloudshell-images%2Fcloudshell%3Alatest&open_in_editor=main.tf&cloudshell_print=.%2Fmotd&cloudshell_tutorial=.%2Ftutorial.md\" target=\"_blank\">    <img alt=\"Open in Cloud Shell\" src=\"//gstatic.com/cloudssh/images/open-btn.svg\" style=\"max-height: 44px; margin: 32px auto; max-width: 100%;\">  </a></div>", "example-usage---dataproc-metastore-service-dpms2": "<h2 id=\"example-usage-dataproc-metastore-service-dpms2\">Example Usage - Dataproc Metastore Service Dpms2</h2><p>resource \"google_dataproc_metastore_service\" \"dpms2\" {<br />  service_id = \"dpms2\"<br />  location   = \"us-central1\"</p><p># DPMS 2 requires SPANNER database type, and does not require<br />  # a maintenance window.<br />  database_type = \"SPANNER\"</p><p>hive_metastore_config {<br />    version           = \"3.1.2\"<br />  }</p><p>scaling_config {<br />    instance_size = \"EXTRA_SMALL\"<br />  }<br />}</p><div class = \"oics-button\" style=\"float: right; margin: 0 0 -15px\">  <a href=\"https://console.cloud.google.com/cloudshell/open?cloudshell_git_repo=https%3A%2F%2Fgithub.com%2Fterraform-google-modules%2Fdocs-examples.git&cloudshell_working_dir=dataproc_metastore_service_dpms2_scaling_factor&cloudshell_image=gcr.io%2Fcloudshell-images%2Fcloudshell%3Alatest&open_in_editor=main.tf&cloudshell_print=.%2Fmotd&cloudshell_tutorial=.%2Ftutorial.md\" target=\"_blank\">    <img alt=\"Open in Cloud Shell\" src=\"//gstatic.com/cloudssh/images/open-btn.svg\" style=\"max-height: 44px; margin: 32px auto; max-width: 100%;\">  </a></div>", "example-usage---dataproc-metastore-service-dpms2-scaling-factor": "<h2 id=\"example-usage-dataproc-metastore-service-dpms2-scaling-factor\">Example Usage - Dataproc Metastore Service Dpms2 Scaling Factor</h2><p>resource \"google_dataproc_metastore_service\" \"dpms2_scaling_factor\" {<br />  service_id = \"dpms2sf\"<br />  location   = \"us-central1\"</p><p># DPMS 2 requires SPANNER database type, and does not require<br />  # a maintenance window.<br />  database_type = \"SPANNER\"</p><p>hive_metastore_config {<br />    version           = \"3.1.2\"<br />  }</p><p>scaling_config {<br />    scaling_factor = \"2\"<br />  }<br />}</p>", "argument-reference": "<h2 id=\"argument-reference\">Argument Reference</h2><p>The following arguments are supported:</p><ul><li><code>service_id</code> -<br />  (Required)<br />  The ID of the metastore service. The id must contain only letters (a-z, A-Z), numbers (0-9), underscores (_),<br />  and hyphens (-). Cannot begin or end with underscore or hyphen. Must consist of between<br />  3 and 63 characters.</li></ul><hr /><ul><li><p><code>labels</code> -<br />  (Optional)<br />  User-defined labels for the metastore service.</p></li><li><p><code>network</code> -<br />  (Optional)<br />  The relative resource name of the VPC network on which the instance can be accessed. It is specified in the following form:<br />  \"projects/{projectNumber}/global/networks/{network_id}\".</p></li><li><p><code>port</code> -<br />  (Optional)<br />  The TCP port at which the metastore service is reached. Default: 9083.</p></li><li><p><code>tier</code> -<br />  (Optional)<br />  The tier of the service.<br />  Possible values are: <code>DEVELOPER</code>, <code>ENTERPRISE</code>.</p></li><li><p><code>scaling_config</code> -<br />  (Optional)<br />  Represents the scaling configuration of a metastore service.<br />  Structure is <a href=\"#nested_scaling_config\">documented below</a>.</p></li><li><p><code>maintenance_window</code> -<br />  (Optional)<br />  The one hour maintenance window of the metastore service.<br />  This specifies when the service can be restarted for maintenance purposes in UTC time.<br />  Maintenance window is not needed for services with the <code>SPANNER</code> database type.<br />  Structure is <a href=\"#nested_maintenance_window\">documented below</a>.</p></li><li><p><code>encryption_config</code> -<br />  (Optional)<br />  Information used to configure the Dataproc Metastore service to encrypt<br />  customer data at rest.<br />  Structure is <a href=\"#nested_encryption_config\">documented below</a>.</p></li><li><p><code>hive_metastore_config</code> -<br />  (Optional)<br />  Configuration information specific to running Hive metastore software as the metastore service.<br />  Structure is <a href=\"#nested_hive_metastore_config\">documented below</a>.</p></li><li><p><code>network_config</code> -<br />  (Optional)<br />  The configuration specifying the network settings for the Dataproc Metastore service.<br />  Structure is <a href=\"#nested_network_config\">documented below</a>.</p></li><li><p><code>database_type</code> -<br />  (Optional)<br />  The database type that the Metastore service stores its data.<br />  Default value is <code>MYSQL</code>.<br />  Possible values are: <code>MYSQL</code>, <code>SPANNER</code>.</p></li><li><p><code>release_channel</code> -<br />  (Optional)<br />  The release channel of the service. If unspecified, defaults to <code>STABLE</code>.<br />  Default value is <code>STABLE</code>.<br />  Possible values are: <code>CANARY</code>, <code>STABLE</code>.</p></li><li><p><code>metadata_integration</code> -<br />  (Optional, <a href=\"https://terraform.io/docs/providers/google/guides/provider_versions.html\">Beta</a>)<br />  The setting that defines how metastore metadata should be integrated with external services and systems.<br />  Structure is <a href=\"#nested_metadata_integration\">documented below</a>.</p></li><li><p><code>telemetry_config</code> -<br />  (Optional)<br />  The configuration specifying telemetry settings for the Dataproc Metastore service. If unspecified defaults to JSON.<br />  Structure is <a href=\"#nested_telemetry_config\">documented below</a>.</p></li><li><p><code>location</code> -<br />  (Optional)<br />  The location where the metastore service should reside.<br />  The default value is <code>global</code>.</p></li><li><p><code>project</code> - (Optional) The ID of the project in which the resource belongs.<br />    If it is not provided, the provider project is used.</p></li></ul><p><a name=\"nested_scaling_config\"></a>The <code>scaling_config</code> block supports:</p><ul><li><p><code>instance_size</code> -<br />  (Optional)<br />  Metastore instance sizes.<br />  Possible values are: <code>EXTRA_SMALL</code>, <code>SMALL</code>, <code>MEDIUM</code>, <code>LARGE</code>, <code>EXTRA_LARGE</code>.</p></li><li><p><code>scaling_factor</code> -<br />  (Optional)<br />  Scaling factor, in increments of 0.1 for values less than 1.0, and increments of 1.0 for values greater than 1.0.</p></li></ul><p><a name=\"nested_maintenance_window\"></a>The <code>maintenance_window</code> block supports:</p><ul><li><p><code>hour_of_day</code> -<br />  (Required)<br />  The hour of day (0-23) when the window starts.</p></li><li><p><code>day_of_week</code> -<br />  (Required)<br />  The day of week, when the window starts.<br />  Possible values are: <code>MONDAY</code>, <code>TUESDAY</code>, <code>WEDNESDAY</code>, <code>THURSDAY</code>, <code>FRIDAY</code>, <code>SATURDAY</code>, <code>SUNDAY</code>.</p></li></ul><p><a name=\"nested_encryption_config\"></a>The <code>encryption_config</code> block supports:</p><ul><li><code>kms_key</code> -<br />  (Required)<br />  The fully qualified customer provided Cloud KMS key name to use for customer data encryption.<br />  Use the following format: <code>projects/([^/]+)/locations/([^/]+)/keyRings/([^/]+)/cryptoKeys/([^/]+)</code></li></ul><p><a name=\"nested_hive_metastore_config\"></a>The <code>hive_metastore_config</code> block supports:</p><ul><li><p><code>endpoint_protocol</code> -<br />  (Optional, <a href=\"https://terraform.io/docs/providers/google/guides/provider_versions.html\">Beta</a>)<br />  The protocol to use for the metastore service endpoint. If unspecified, defaults to <code>THRIFT</code>.<br />  Default value is <code>THRIFT</code>.<br />  Possible values are: <code>THRIFT</code>, <code>GRPC</code>.</p></li><li><p><code>version</code> -<br />  (Required)<br />  The Hive metastore schema version.</p></li><li><p><code>config_overrides</code> -<br />  (Optional)<br />  A mapping of Hive metastore configuration key-value pairs to apply to the Hive metastore (configured in hive-site.xml).<br />  The mappings override system defaults (some keys cannot be overridden)</p></li><li><p><code>kerberos_config</code> -<br />  (Optional)<br />  Information used to configure the Hive metastore service as a service principal in a Kerberos realm.<br />  Structure is <a href=\"#nested_kerberos_config\">documented below</a>.</p></li><li><p><code>auxiliary_versions</code> -<br />  (Optional, <a href=\"https://terraform.io/docs/providers/google/guides/provider_versions.html\">Beta</a>)<br />  A mapping of Hive metastore version to the auxiliary version configuration.<br />  When specified, a secondary Hive metastore service is created along with the primary service.<br />  All auxiliary versions must be less than the service's primary version.<br />  The key is the auxiliary service name and it must match the regular expression a-z?.<br />  This means that the first character must be a lowercase letter, and all the following characters must be hyphens, lowercase letters, or digits, except the last character, which cannot be a hyphen.<br />  Structure is <a href=\"#nested_auxiliary_versions\">documented below</a>.</p></li></ul><p><a name=\"nested_kerberos_config\"></a>The <code>kerberos_config</code> block supports:</p><ul><li><p><code>keytab</code> -<br />  (Required)<br />  A Kerberos keytab file that can be used to authenticate a service principal with a Kerberos Key Distribution Center (KDC).<br />  Structure is <a href=\"#nested_keytab\">documented below</a>.</p></li><li><p><code>principal</code> -<br />  (Required)<br />  A Kerberos principal that exists in the both the keytab the KDC to authenticate as. A typical principal is of the form \"primary/instance@REALM\", but there is no exact format.</p></li><li><p><code>krb5_config_gcs_uri</code> -<br />  (Required)<br />  A Cloud Storage URI that specifies the path to a krb5.conf file. It is of the form gs://{bucket_name}/path/to/krb5.conf, although the file does not need to be named krb5.conf explicitly.</p></li></ul><p><a name=\"nested_keytab\"></a>The <code>keytab</code> block supports:</p><ul><li><code>cloud_secret</code> -<br />  (Required)<br />  The relative resource name of a Secret Manager secret version, in the following form:<br />  \"projects/{projectNumber}/secrets/{secret_id}/versions/{version_id}\".</li></ul><p><a name=\"nested_auxiliary_versions\"></a>The <code>auxiliary_versions</code> block supports:</p><ul><li><p><code>key</code> - (Required) The identifier for this object. Format specified above.</p></li><li><p><code>version</code> -<br />  (Required)<br />  The Hive metastore version of the auxiliary service. It must be less than the primary Hive metastore service's version.</p></li><li><p><code>config_overrides</code> -<br />  (Optional)<br />  A mapping of Hive metastore configuration key-value pairs to apply to the auxiliary Hive metastore (configured in hive-site.xml) in addition to the primary version's overrides.<br />  If keys are present in both the auxiliary version's overrides and the primary version's overrides, the value from the auxiliary version's overrides takes precedence.</p></li></ul><p><a name=\"nested_network_config\"></a>The <code>network_config</code> block supports:</p><ul><li><code>consumers</code> -<br />  (Required)<br />  The consumer-side network configuration for the Dataproc Metastore instance.<br />  Structure is <a href=\"#nested_consumers\">documented below</a>.</li></ul><p><a name=\"nested_consumers\"></a>The <code>consumers</code> block supports:</p><ul><li><p><code>endpoint_uri</code> -<br />  (Output)<br />  The URI of the endpoint used to access the metastore service.</p></li><li><p><code>subnetwork</code> -<br />  (Required)<br />  The subnetwork of the customer project from which an IP address is reserved and used as the Dataproc Metastore service's endpoint.<br />  It is accessible to hosts in the subnet and to all hosts in a subnet in the same region and same network.<br />  There must be at least one IP address available in the subnet's primary range. The subnet is specified in the following form:<br />  `projects/{projectNumber}/regions/{region_id}/subnetworks/{subnetwork_id}</p></li></ul><p><a name=\"nested_metadata_integration\"></a>The <code>metadata_integration</code> block supports:</p><ul><li><code>data_catalog_config</code> -<br />  (Required)<br />  The integration config for the Data Catalog service.<br />  Structure is <a href=\"#nested_data_catalog_config\">documented below</a>.</li></ul><p><a name=\"nested_data_catalog_config\"></a>The <code>data_catalog_config</code> block supports:</p><ul><li><code>enabled</code> -<br />  (Required)<br />  Defines whether the metastore metadata should be synced to Data Catalog. The default value is to disable syncing metastore metadata to Data Catalog.</li></ul><p><a name=\"nested_telemetry_config\"></a>The <code>telemetry_config</code> block supports:</p><ul><li><code>log_format</code> -<br />  (Optional)<br />  The output format of the Dataproc Metastore service's logs.<br />  Default value is <code>JSON</code>.<br />  Possible values are: <code>LEGACY</code>, <code>JSON</code>.</li></ul>", "attributes-reference": "<h2 id=\"attributes-reference\">Attributes Reference</h2><p>In addition to the arguments listed above, the following computed attributes are exported:</p><ul><li><p><code>id</code> - an identifier for the resource with format <code>projects/{{project}}/locations/{{location}}/services/{{service_id}}</code></p></li><li><p><code>name</code> -<br />  The relative resource name of the metastore service.</p></li><li><p><code>endpoint_uri</code> -<br />  The URI of the endpoint used to access the metastore service.</p></li><li><p><code>state</code> -<br />  The current state of the metastore service.</p></li><li><p><code>state_message</code> -<br />  Additional information about the current state of the metastore service, if available.</p></li><li><p><code>artifact_gcs_uri</code> -<br />  A Cloud Storage URI (starting with gs://) that specifies where artifacts related to the metastore service are stored.</p></li><li><p><code>uid</code> -<br />  The globally unique resource identifier of the metastore service.</p></li></ul>", "timeouts": "<h2 id=\"timeouts\">Timeouts</h2><p>This resource provides the following<br /><a href=\"https://developer.hashicorp.com/terraform/plugin/sdkv2/resources/retries-and-customizable-timeouts\">Timeouts</a> configuration options:</p><ul><li><code>create</code> - Default is 60 minutes.</li><li><code>update</code> - Default is 60 minutes.</li><li><code>delete</code> - Default is 60 minutes.</li></ul>", "import": "<h2 id=\"import\">Import</h2><p>Service can be imported using any of these accepted formats:</p><p>$ terraform import google_dataproc_metastore_service.default projects/{{project}}/locations/{{location}}/services/{{service_id}}<br />$ terraform import google_dataproc_metastore_service.default {{project}}/{{location}}/{{service_id}}<br />$ terraform import google_dataproc_metastore_service.default {{location}}/{{service_id}}</p>", "user-project-overrides": "<h2 id=\"user-project-overrides\">User Project Overrides</h2><p>This resource supports <a href=\"https://registry.terraform.io/providers/hashicorp/google/latest/docs/guides/provider_reference#user_project_override\">User Project Overrides</a>.</p>", "description": "<h1 id=\"google_dataproc_metastore_service\">google_dataproc_metastore_service</h1><p>A managed metastore service that serves metadata queries.</p><p>To get more information about Service, see:</p><ul><li><a href=\"https://cloud.google.com/dataproc-metastore/docs/reference/rest/v1/projects.locations.services\">API documentation</a></li><li>How-to Guides<ul><li><a href=\"https://cloud.google.com/dataproc-metastore/docs/overview\">Official Documentation</a></li></ul></li></ul><div class = \"oics-button\" style=\"float: right; margin: 0 0 -15px\">  <a href=\"https://console.cloud.google.com/cloudshell/open?cloudshell_git_repo=https%3A%2F%2Fgithub.com%2Fterraform-google-modules%2Fdocs-examples.git&cloudshell_working_dir=dataproc_metastore_service_basic&cloudshell_image=gcr.io%2Fcloudshell-images%2Fcloudshell%3Alatest&open_in_editor=main.tf&cloudshell_print=.%2Fmotd&cloudshell_tutorial=.%2Ftutorial.md\" target=\"_blank\">    <img alt=\"Open in Cloud Shell\" src=\"//gstatic.com/cloudssh/images/open-btn.svg\" style=\"max-height: 44px; margin: 32px auto; max-width: 100%;\">  </a></div>"}