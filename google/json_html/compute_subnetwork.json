{"": "<h1 id=\"-_2\">----------------------------------------------------------------------------</h1><p>subcategory: \"Compute Engine\"<br />description: |-<br />  A VPC network is a virtual version of the traditional physical networks<br />  that exist within and between physical data centers.</p><hr />", "auto-generated-code-type-mmv1": "<h1 id=\"auto-generated-code-type-mmv1\"><strong><em>     AUTO GENERATED CODE    </em></strong>    Type: MMv1     ***</h1>", "this-file-is-automatically-generated-by-magic-modules-and-manual": "<h1 id=\"this-file-is-automatically-generated-by-magic-modules-and-manual\">This file is automatically generated by Magic Modules and manual</h1>", "changes-will-be-clobbered-when-the-file-is-regenerated": "<h1 id=\"changes-will-be-clobbered-when-the-file-is-regenerated\">changes will be clobbered when the file is regenerated.</h1>", "please-read-more-about-how-to-change-this-file-in": "<h1 id=\"please-read-more-about-how-to-change-this-file-in\">Please read more about how to change this file in</h1>", "github-contributing-md": "<h1 id=\"githubcontributingmd\">.github/CONTRIBUTING.md.</h1>", "google-compute-subnetwork": "<h1 id=\"google_compute_subnetwork\">google_compute_subnetwork</h1><p>A VPC network is a virtual version of the traditional physical networks<br />that exist within and between physical data centers. A VPC network<br />provides connectivity for your Compute Engine virtual machine (VM)<br />instances, Container Engine containers, App Engine Flex services, and<br />other network-related resources.</p><p>Each GCP project contains one or more VPC networks. Each VPC network is a<br />global entity spanning all GCP regions. This global VPC network allows VM<br />instances and other resources to communicate with each other via internal,<br />private IP addresses.</p><p>Each VPC network is subdivided into subnets, and each subnet is contained<br />within a single region. You can have more than one subnet in a region for<br />a given VPC network. Each subnet has a contiguous private RFC1918 IP<br />space. You create instances, containers, and the like in these subnets.<br />When you create an instance, you must create it in a subnet, and the<br />instance draws its internal IP address from that subnet.</p><p>Virtual machine (VM) instances in a VPC network can communicate with<br />instances in all other subnets of the same VPC network, regardless of<br />region, using their RFC1918 private IP addresses. You can isolate portions<br />of the network, even entire subnets, using firewall rules.</p><p>To get more information about Subnetwork, see:</p><ul><li><a href=\"https://cloud.google.com/compute/docs/reference/rest/v1/subnetworks\">API documentation</a></li><li>How-to Guides<ul><li><a href=\"https://cloud.google.com/vpc/docs/configure-private-google-access\">Private Google Access</a></li><li><a href=\"https://cloud.google.com/vpc/docs/using-vpc\">Cloud Networking</a></li></ul></li></ul><div class = \"oics-button\" style=\"float: right; margin: 0 0 -15px\">  <a href=\"https://console.cloud.google.com/cloudshell/open?cloudshell_git_repo=https%3A%2F%2Fgithub.com%2Fterraform-google-modules%2Fdocs-examples.git&cloudshell_working_dir=subnetwork_basic&cloudshell_image=gcr.io%2Fcloudshell-images%2Fcloudshell%3Alatest&open_in_editor=main.tf&cloudshell_print=.%2Fmotd&cloudshell_tutorial=.%2Ftutorial.md\" target=\"_blank\">    <img alt=\"Open in Cloud Shell\" src=\"//gstatic.com/cloudssh/images/open-btn.svg\" style=\"max-height: 44px; margin: 32px auto; max-width: 100%;\">  </a></div>", "example-usage---subnetwork-basic": "<h2 id=\"example-usage-subnetwork-basic\">Example Usage - Subnetwork Basic</h2><p><br />resource \"google_compute_subnetwork\" \"network-with-private-secondary-ip-ranges\" {<br />  name          = \"test-subnetwork\"<br />  ip_cidr_range = \"10.2.0.0/16\"<br />  region        = \"us-central1\"<br />  network       = google_compute_network.custom-test.id<br />  secondary_ip_range {<br />    range_name    = \"tf-test-secondary-range-update1\"<br />    ip_cidr_range = \"192.168.10.0/24\"<br />  }<br />}</p><p>resource \"google_compute_network\" \"custom-test\" {<br />  name                    = \"test-network\"<br />  auto_create_subnetworks = false<br />}<br /></p><div class = \"oics-button\" style=\"float: right; margin: 0 0 -15px\">  <a href=\"https://console.cloud.google.com/cloudshell/open?cloudshell_git_repo=https%3A%2F%2Fgithub.com%2Fterraform-google-modules%2Fdocs-examples.git&cloudshell_working_dir=subnetwork_logging_config&cloudshell_image=gcr.io%2Fcloudshell-images%2Fcloudshell%3Alatest&open_in_editor=main.tf&cloudshell_print=.%2Fmotd&cloudshell_tutorial=.%2Ftutorial.md\" target=\"_blank\">    <img alt=\"Open in Cloud Shell\" src=\"//gstatic.com/cloudssh/images/open-btn.svg\" style=\"max-height: 44px; margin: 32px auto; max-width: 100%;\">  </a></div>", "example-usage---subnetwork-logging-config": "<h2 id=\"example-usage-subnetwork-logging-config\">Example Usage - Subnetwork Logging Config</h2><p><br />resource \"google_compute_subnetwork\" \"subnet-with-logging\" {<br />  name          = \"log-test-subnetwork\"<br />  ip_cidr_range = \"10.2.0.0/16\"<br />  region        = \"us-central1\"<br />  network       = google_compute_network.custom-test.id</p><p>log_config {<br />    aggregation_interval = \"INTERVAL_10_MIN\"<br />    flow_sampling        = 0.5<br />    metadata             = \"INCLUDE_ALL_METADATA\"<br />  }<br />}</p><p>resource \"google_compute_network\" \"custom-test\" {<br />  name                    = \"log-test-network\"<br />  auto_create_subnetworks = false<br />}<br /></p><div class = \"oics-button\" style=\"float: right; margin: 0 0 -15px\">  <a href=\"https://console.cloud.google.com/cloudshell/open?cloudshell_git_repo=https%3A%2F%2Fgithub.com%2Fterraform-google-modules%2Fdocs-examples.git&cloudshell_working_dir=subnetwork_internal_l7lb&cloudshell_image=gcr.io%2Fcloudshell-images%2Fcloudshell%3Alatest&open_in_editor=main.tf&cloudshell_print=.%2Fmotd&cloudshell_tutorial=.%2Ftutorial.md\" target=\"_blank\">    <img alt=\"Open in Cloud Shell\" src=\"//gstatic.com/cloudssh/images/open-btn.svg\" style=\"max-height: 44px; margin: 32px auto; max-width: 100%;\">  </a></div>", "example-usage---subnetwork-internal-l7lb": "<h2 id=\"example-usage-subnetwork-internal-l7lb\">Example Usage - Subnetwork Internal L7lb</h2><p><br />resource \"google_compute_subnetwork\" \"network-for-l7lb\" {<br />  provider = google-beta</p><p>name          = \"l7lb-test-subnetwork\"<br />  ip_cidr_range = \"10.0.0.0/22\"<br />  region        = \"us-central1\"<br />  purpose       = \"REGIONAL_MANAGED_PROXY\"<br />  role          = \"ACTIVE\"<br />  network       = google_compute_network.custom-test.id<br />}</p><p>resource \"google_compute_network\" \"custom-test\" {<br />  provider = google-beta</p><p>name                    = \"l7lb-test-network\"<br />  auto_create_subnetworks = false<br />}<br /></p><div class = \"oics-button\" style=\"float: right; margin: 0 0 -15px\">  <a href=\"https://console.cloud.google.com/cloudshell/open?cloudshell_git_repo=https%3A%2F%2Fgithub.com%2Fterraform-google-modules%2Fdocs-examples.git&cloudshell_working_dir=subnetwork_ipv6&cloudshell_image=gcr.io%2Fcloudshell-images%2Fcloudshell%3Alatest&open_in_editor=main.tf&cloudshell_print=.%2Fmotd&cloudshell_tutorial=.%2Ftutorial.md\" target=\"_blank\">    <img alt=\"Open in Cloud Shell\" src=\"//gstatic.com/cloudssh/images/open-btn.svg\" style=\"max-height: 44px; margin: 32px auto; max-width: 100%;\">  </a></div>", "example-usage---subnetwork-ipv6": "<h2 id=\"example-usage-subnetwork-ipv6\">Example Usage - Subnetwork Ipv6</h2><p><br />resource \"google_compute_subnetwork\" \"subnetwork-ipv6\" {<br />  name          = \"ipv6-test-subnetwork\"</p><p>ip_cidr_range = \"10.0.0.0/22\"<br />  region        = \"us-west2\"</p><p>stack_type       = \"IPV4_IPV6\"<br />  ipv6_access_type = \"EXTERNAL\"</p><p>network       = google_compute_network.custom-test.id<br />}</p><p>resource \"google_compute_network\" \"custom-test\" {<br />  name                    = \"ipv6-test-network\"<br />  auto_create_subnetworks = false<br />}<br /></p><div class = \"oics-button\" style=\"float: right; margin: 0 0 -15px\">  <a href=\"https://console.cloud.google.com/cloudshell/open?cloudshell_git_repo=https%3A%2F%2Fgithub.com%2Fterraform-google-modules%2Fdocs-examples.git&cloudshell_working_dir=subnetwork_internal_ipv6&cloudshell_image=gcr.io%2Fcloudshell-images%2Fcloudshell%3Alatest&open_in_editor=main.tf&cloudshell_print=.%2Fmotd&cloudshell_tutorial=.%2Ftutorial.md\" target=\"_blank\">    <img alt=\"Open in Cloud Shell\" src=\"//gstatic.com/cloudssh/images/open-btn.svg\" style=\"max-height: 44px; margin: 32px auto; max-width: 100%;\">  </a></div>", "example-usage---subnetwork-internal-ipv6": "<h2 id=\"example-usage-subnetwork-internal-ipv6\">Example Usage - Subnetwork Internal Ipv6</h2><p><br />resource \"google_compute_subnetwork\" \"subnetwork-internal-ipv6\" {<br />  name          = \"internal-ipv6-test-subnetwork\"</p><p>ip_cidr_range = \"10.0.0.0/22\"<br />  region        = \"us-west2\"</p><p>stack_type       = \"IPV4_IPV6\"<br />  ipv6_access_type = \"INTERNAL\"</p><p>network       = google_compute_network.custom-test.id<br />}</p><p>resource \"google_compute_network\" \"custom-test\" {<br />  name                    = \"internal-ipv6-test-network\"<br />  auto_create_subnetworks = false<br />  enable_ula_internal_ipv6 = true<br />}<br /></p>", "argument-reference": "<h2 id=\"argument-reference\">Argument Reference</h2><p>The following arguments are supported:</p><ul><li><p><code>ip_cidr_range</code> -<br />  (Required)<br />  The range of internal addresses that are owned by this subnetwork.<br />  Provide this property when you create the subnetwork. For example,<br />  10.0.0.0/8 or 192.168.0.0/16. Ranges must be unique and<br />  non-overlapping within a network. Only IPv4 is supported.</p></li><li><p><code>name</code> -<br />  (Required)<br />  The name of the resource, provided by the client when initially<br />  creating the resource. The name must be 1-63 characters long, and<br />  comply with RFC1035. Specifically, the name must be 1-63 characters<br />  long and match the regular expression <code>[a-z]([-a-z0-9]*[a-z0-9])?</code> which<br />  means the first character must be a lowercase letter, and all<br />  following characters must be a dash, lowercase letter, or digit,<br />  except the last character, which cannot be a dash.</p></li><li><p><code>network</code> -<br />  (Required)<br />  The network this subnet belongs to.<br />  Only networks that are in the distributed mode can have subnetworks.</p></li></ul><hr /><ul><li><p><code>description</code> -<br />  (Optional)<br />  An optional description of this resource. Provide this property when<br />  you create the resource. This field can be set only at resource<br />  creation time.</p></li><li><p><code>purpose</code> -<br />  (Optional)<br />  The purpose of the resource. This field can be either <code>PRIVATE_RFC_1918</code>, <code>REGIONAL_MANAGED_PROXY</code>, <code>GLOBAL_MANAGED_PROXY</code>, or <code>PRIVATE_SERVICE_CONNECT</code>.<br />  A subnet with purpose set to <code>REGIONAL_MANAGED_PROXY</code> is a user-created subnetwork that is reserved for regional Envoy-based load balancers.<br />  A subnetwork in a given region with purpose set to <code>GLOBAL_MANAGED_PROXY</code> is a proxy-only subnet and is shared between all the cross-regional Envoy-based load balancers.<br />  A subnetwork with purpose set to <code>PRIVATE_SERVICE_CONNECT</code> reserves the subnet for hosting a Private Service Connect published service.<br />  Note that <code>REGIONAL_MANAGED_PROXY</code> is the preferred setting for all regional Envoy load balancers.<br />  If unspecified, the purpose defaults to <code>PRIVATE_RFC_1918</code>.</p></li><li><p><code>role</code> -<br />  (Optional)<br />  The role of subnetwork.<br />  Currently, this field is only used when <code>purpose</code> is <code>REGIONAL_MANAGED_PROXY</code>.<br />  The value can be set to <code>ACTIVE</code> or <code>BACKUP</code>.<br />  An <code>ACTIVE</code> subnetwork is one that is currently being used for Envoy-based load balancers in a region.<br />  A <code>BACKUP</code> subnetwork is one that is ready to be promoted to <code>ACTIVE</code> or is currently draining.<br />  Possible values are: <code>ACTIVE</code>, <code>BACKUP</code>.</p></li><li><p><code>secondary_ip_range</code> -<br />  (Optional)<br />  An array of configurations for secondary IP ranges for VM instances<br />  contained in this subnetwork. The primary IP of such VM must belong<br />  to the primary ipCidrRange of the subnetwork. The alias IPs may belong<br />  to either primary or secondary ranges.<br /><strong>Note</strong>: This field uses <a href=\"https://www.terraform.io/docs/configuration/attr-as-blocks.html\">attr-as-block mode</a> to avoid<br />  breaking users during the 0.12 upgrade. To explicitly send a list<br />  of zero objects you must use the following syntax:<br /><code>example=[]</code><br />  For more details about this behavior, see <a href=\"https://www.terraform.io/docs/configuration/attr-as-blocks.html#defining-a-fixed-object-collection-value\">this section</a>.<br />  Structure is <a href=\"#nested_secondary_ip_range\">documented below</a>.</p></li><li><p><code>private_ip_google_access</code> -<br />  (Optional)<br />  When enabled, VMs in this subnetwork without external IP addresses can<br />  access Google APIs and services by using Private Google Access.</p></li><li><p><code>private_ipv6_google_access</code> -<br />  (Optional)<br />  The private IPv6 google access type for the VMs in this subnet.</p></li><li><p><code>region</code> -<br />  (Optional)<br />  The GCP region for this subnetwork.</p></li><li><p><code>log_config</code> -<br />  (Optional)<br />  This field denotes the VPC flow logging options for this subnetwork. If<br />  logging is enabled, logs are exported to Cloud Logging. Flow logging<br />  isn't supported if the subnet <code>purpose</code> field is set to subnetwork is<br /><code>REGIONAL_MANAGED_PROXY</code> or <code>GLOBAL_MANAGED_PROXY</code>.<br />  Structure is <a href=\"#nested_log_config\">documented below</a>.</p></li><li><p><code>stack_type</code> -<br />  (Optional)<br />  The stack type for this subnet to identify whether the IPv6 feature is enabled or not.<br />  If not specified IPV4_ONLY will be used.<br />  Possible values are: <code>IPV4_ONLY</code>, <code>IPV4_IPV6</code>.</p></li><li><p><code>ipv6_access_type</code> -<br />  (Optional)<br />  The access type of IPv6 address this subnet holds. It's immutable and can only be specified during creation<br />  or the first time the subnet is updated into IPV4_IPV6 dual stack. If the ipv6_type is EXTERNAL then this subnet<br />  cannot enable direct path.<br />  Possible values are: <code>EXTERNAL</code>, <code>INTERNAL</code>.</p></li><li><p><code>project</code> - (Optional) The ID of the project in which the resource belongs.<br />    If it is not provided, the provider project is used.</p></li></ul><p><a name=\"nested_secondary_ip_range\"></a>The <code>secondary_ip_range</code> block supports:</p><ul><li><p><code>range_name</code> -<br />  (Required)<br />  The name associated with this subnetwork secondary range, used<br />  when adding an alias IP range to a VM instance. The name must<br />  be 1-63 characters long, and comply with RFC1035. The name<br />  must be unique within the subnetwork.</p></li><li><p><code>ip_cidr_range</code> -<br />  (Required)<br />  The range of IP addresses belonging to this subnetwork secondary<br />  range. Provide this property when you create the subnetwork.<br />  Ranges must be unique and non-overlapping with all primary and<br />  secondary IP ranges within a network. Only IPv4 is supported.</p></li></ul><p><a name=\"nested_log_config\"></a>The <code>log_config</code> block supports:</p><ul><li><p><code>aggregation_interval</code> -<br />  (Optional)<br />  Can only be specified if VPC flow logging for this subnetwork is enabled.<br />  Toggles the aggregation interval for collecting flow logs. Increasing the<br />  interval time will reduce the amount of generated flow logs for long<br />  lasting connections. Default is an interval of 5 seconds per connection.<br />  Default value is <code>INTERVAL_5_SEC</code>.<br />  Possible values are: <code>INTERVAL_5_SEC</code>, <code>INTERVAL_30_SEC</code>, <code>INTERVAL_1_MIN</code>, <code>INTERVAL_5_MIN</code>, <code>INTERVAL_10_MIN</code>, <code>INTERVAL_15_MIN</code>.</p></li><li><p><code>flow_sampling</code> -<br />  (Optional)<br />  Can only be specified if VPC flow logging for this subnetwork is enabled.<br />  The value of the field must be in [0, 1]. Set the sampling rate of VPC<br />  flow logs within the subnetwork where 1.0 means all collected logs are<br />  reported and 0.0 means no logs are reported. Default is 0.5 which means<br />  half of all collected logs are reported.</p></li><li><p><code>metadata</code> -<br />  (Optional)<br />  Can only be specified if VPC flow logging for this subnetwork is enabled.<br />  Configures whether metadata fields should be added to the reported VPC<br />  flow logs.<br />  Default value is <code>INCLUDE_ALL_METADATA</code>.<br />  Possible values are: <code>EXCLUDE_ALL_METADATA</code>, <code>INCLUDE_ALL_METADATA</code>, <code>CUSTOM_METADATA</code>.</p></li><li><p><code>metadata_fields</code> -<br />  (Optional)<br />  List of metadata fields that should be added to reported logs.<br />  Can only be specified if VPC flow logs for this subnetwork is enabled and \"metadata\" is set to CUSTOM_METADATA.</p></li><li><p><code>filter_expr</code> -<br />  (Optional)<br />  Export filter used to define which VPC flow logs should be logged, as as CEL expression. See<br />  https://cloud.google.com/vpc/docs/flow-logs#filtering for details on how to format this field.<br />  The default value is 'true', which evaluates to include everything.</p></li></ul>", "attributes-reference": "<h2 id=\"attributes-reference\">Attributes Reference</h2><p>In addition to the arguments listed above, the following computed attributes are exported:</p><ul><li><p><code>id</code> - an identifier for the resource with format <code>projects/{{project}}/regions/{{region}}/subnetworks/{{name}}</code></p></li><li><p><code>creation_timestamp</code> -<br />  Creation timestamp in RFC3339 text format.</p></li><li><p><code>gateway_address</code> -<br />  The gateway address for default routes to reach destination addresses<br />  outside this subnetwork.</p></li><li><p><code>ipv6_cidr_range</code> -<br />  The range of internal IPv6 addresses that are owned by this subnetwork.</p></li><li><p><code>external_ipv6_prefix</code> -<br />  The range of external IPv6 addresses that are owned by this subnetwork.</p></li><li><code>self_link</code> - The URI of the created resource.</li></ul>", "timeouts": "<h2 id=\"timeouts\">Timeouts</h2><p>This resource provides the following<br /><a href=\"https://developer.hashicorp.com/terraform/plugin/sdkv2/resources/retries-and-customizable-timeouts\">Timeouts</a> configuration options:</p><ul><li><code>create</code> - Default is 20 minutes.</li><li><code>update</code> - Default is 20 minutes.</li><li><code>delete</code> - Default is 20 minutes.</li></ul>", "import": "<h2 id=\"import\">Import</h2><p>Subnetwork can be imported using any of these accepted formats:</p><p><code>$ terraform import google_compute_subnetwork.default projects/{{project}}/regions/{{region}}/subnetworks/{{name}}$ terraform import google_compute_subnetwork.default {{project}}/{{region}}/{{name}}$ terraform import google_compute_subnetwork.default {{region}}/{{name}}$ terraform import google_compute_subnetwork.default {{name}}</code></p>", "user-project-overrides": "<h2 id=\"user-project-overrides\">User Project Overrides</h2><p>This resource supports <a href=\"https://registry.terraform.io/providers/hashicorp/google/latest/docs/guides/provider_reference#user_project_override\">User Project Overrides</a>.</p>", "description": "<h1 id=\"google_compute_subnetwork\">google_compute_subnetwork</h1><p>A VPC network is a virtual version of the traditional physical networks<br />that exist within and between physical data centers. A VPC network<br />provides connectivity for your Compute Engine virtual machine (VM)<br />instances, Container Engine containers, App Engine Flex services, and<br />other network-related resources.</p><p>Each GCP project contains one or more VPC networks. Each VPC network is a<br />global entity spanning all GCP regions. This global VPC network allows VM<br />instances and other resources to communicate with each other via internal,<br />private IP addresses.</p><p>Each VPC network is subdivided into subnets, and each subnet is contained<br />within a single region. You can have more than one subnet in a region for<br />a given VPC network. Each subnet has a contiguous private RFC1918 IP<br />space. You create instances, containers, and the like in these subnets.<br />When you create an instance, you must create it in a subnet, and the<br />instance draws its internal IP address from that subnet.</p><p>Virtual machine (VM) instances in a VPC network can communicate with<br />instances in all other subnets of the same VPC network, regardless of<br />region, using their RFC1918 private IP addresses. You can isolate portions<br />of the network, even entire subnets, using firewall rules.</p><p>To get more information about Subnetwork, see:</p><ul><li><a href=\"https://cloud.google.com/compute/docs/reference/rest/v1/subnetworks\">API documentation</a></li><li>How-to Guides<ul><li><a href=\"https://cloud.google.com/vpc/docs/configure-private-google-access\">Private Google Access</a></li><li><a href=\"https://cloud.google.com/vpc/docs/using-vpc\">Cloud Networking</a></li></ul></li></ul><div class = \"oics-button\" style=\"float: right; margin: 0 0 -15px\">  <a href=\"https://console.cloud.google.com/cloudshell/open?cloudshell_git_repo=https%3A%2F%2Fgithub.com%2Fterraform-google-modules%2Fdocs-examples.git&cloudshell_working_dir=subnetwork_basic&cloudshell_image=gcr.io%2Fcloudshell-images%2Fcloudshell%3Alatest&open_in_editor=main.tf&cloudshell_print=.%2Fmotd&cloudshell_tutorial=.%2Ftutorial.md\" target=\"_blank\">    <img alt=\"Open in Cloud Shell\" src=\"//gstatic.com/cloudssh/images/open-btn.svg\" style=\"max-height: 44px; margin: 32px auto; max-width: 100%;\">  </a></div>"}