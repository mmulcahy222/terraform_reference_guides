{"": "<h1 id=\"-_2\">----------------------------------------------------------------------------</h1><p>subcategory: \"Compute Engine\"<br />description: |-<br />  BGP information that must be configured into the routing stack to<br />  establish BGP peering.</p><hr />", "auto-generated-code-type-mmv1": "<h1 id=\"auto-generated-code-type-mmv1\"><strong><em>     AUTO GENERATED CODE    </em></strong>    Type: MMv1     ***</h1>", "this-file-is-automatically-generated-by-magic-modules-and-manual": "<h1 id=\"this-file-is-automatically-generated-by-magic-modules-and-manual\">This file is automatically generated by Magic Modules and manual</h1>", "changes-will-be-clobbered-when-the-file-is-regenerated": "<h1 id=\"changes-will-be-clobbered-when-the-file-is-regenerated\">changes will be clobbered when the file is regenerated.</h1>", "please-read-more-about-how-to-change-this-file-in": "<h1 id=\"please-read-more-about-how-to-change-this-file-in\">Please read more about how to change this file in</h1>", "github-contributing-md": "<h1 id=\"githubcontributingmd\">.github/CONTRIBUTING.md.</h1>", "google-compute-router-peer": "<h1 id=\"google_compute_router_peer\">google_compute_router_peer</h1><p>BGP information that must be configured into the routing stack to<br />establish BGP peering. This information must specify the peer ASN<br />and either the interface name, IP address, or peer IP address.<br />Please refer to RFC4273.</p><p>To get more information about RouterBgpPeer, see:</p><ul><li><a href=\"https://cloud.google.com/compute/docs/reference/rest/v1/routers\">API documentation</a></li><li>How-to Guides<ul><li><a href=\"https://cloud.google.com/router/docs/\">Google Cloud Router</a></li></ul></li></ul>", "example-usage---router-peer-basic": "<h2 id=\"example-usage-router-peer-basic\">Example Usage - Router Peer Basic</h2><p>resource \"google_compute_router_peer\" \"peer\" {<br />  name                      = \"my-router-peer\"<br />  router                    = \"my-router\"<br />  region                    = \"us-central1\"<br />  peer_asn                  = 65513<br />  advertised_route_priority = 100<br />  interface                 = \"interface-1\"<br />}</p>", "example-usage---router-peer-disabled": "<h2 id=\"example-usage-router-peer-disabled\">Example Usage - Router Peer Disabled</h2><p>resource \"google_compute_router_peer\" \"peer\" {<br />  name                      = \"my-router-peer\"<br />  router                    = \"my-router\"<br />  region                    = \"us-central1\"<br />  peer_ip_address           = \"169.254.1.2\"<br />  peer_asn                  = 65513<br />  advertised_route_priority = 100<br />  interface                 = \"interface-1\"<br />  enable                    = false<br />}</p>", "example-usage---router-peer-bfd": "<h2 id=\"example-usage-router-peer-bfd\">Example Usage - Router Peer Bfd</h2><p>resource \"google_compute_router_peer\" \"peer\" {<br />  name                      = \"my-router-peer\"<br />  router                    = \"my-router\"<br />  region                    = \"us-central1\"<br />  peer_ip_address           = \"169.254.1.2\"<br />  peer_asn                  = 65513<br />  advertised_route_priority = 100<br />  interface                 = \"interface-1\"</p><p>bfd {<br />    min_receive_interval        = 1000<br />    min_transmit_interval       = 1000<br />    multiplier                  = 5<br />    session_initialization_mode = \"ACTIVE\"<br />  }<br />}</p><div class = \"oics-button\" style=\"float: right; margin: 0 0 -15px\">  <a href=\"https://console.cloud.google.com/cloudshell/open?cloudshell_git_repo=https%3A%2F%2Fgithub.com%2Fterraform-google-modules%2Fdocs-examples.git&cloudshell_working_dir=router_peer_router_appliance&cloudshell_image=gcr.io%2Fcloudshell-images%2Fcloudshell%3Alatest&open_in_editor=main.tf&cloudshell_print=.%2Fmotd&cloudshell_tutorial=.%2Ftutorial.md\" target=\"_blank\">    <img alt=\"Open in Cloud Shell\" src=\"//gstatic.com/cloudssh/images/open-btn.svg\" style=\"max-height: 44px; margin: 32px auto; max-width: 100%;\">  </a></div>", "example-usage---router-peer-router-appliance": "<h2 id=\"example-usage-router-peer-router-appliance\">Example Usage - Router Peer Router Appliance</h2><p>resource \"google_compute_network\" \"network\" {<br />  name                    = \"my-router-net\"<br />  auto_create_subnetworks = false<br />}</p><p>resource \"google_compute_subnetwork\" \"subnetwork\" {<br />  name          = \"my-router-sub\"<br />  network       = google_compute_network.network.self_link<br />  ip_cidr_range = \"10.0.0.0/16\"<br />  region        = \"us-central1\"<br />}</p><p>resource \"google_compute_address\" \"addr_intf\" {<br />  name         = \"my-router-addr-intf\"<br />  region       = google_compute_subnetwork.subnetwork.region<br />  subnetwork   = google_compute_subnetwork.subnetwork.id<br />  address_type = \"INTERNAL\"<br />}</p><p>resource \"google_compute_address\" \"addr_intf_redundant\" {<br />  name         = \"my-router-addr-intf-red\"<br />  region       = google_compute_subnetwork.subnetwork.region<br />  subnetwork   = google_compute_subnetwork.subnetwork.id<br />  address_type = \"INTERNAL\"<br />}</p><p>resource \"google_compute_address\" \"addr_peer\" {<br />  name         = \"my-router-addr-peer\"<br />  region       = google_compute_subnetwork.subnetwork.region<br />  subnetwork   = google_compute_subnetwork.subnetwork.id<br />  address_type = \"INTERNAL\"<br />}</p><p>resource \"google_compute_instance\" \"instance\" {<br />  name           = \"router-appliance\"<br />  zone           = \"us-central1-a\"<br />  machine_type   = \"e2-medium\"<br />  can_ip_forward = true</p><p>boot_disk {<br />    initialize_params {<br />      image = \"debian-cloud/debian-11\"<br />    }<br />  }</p><p>network_interface {<br />    network_ip = google_compute_address.addr_peer.address<br />    subnetwork = google_compute_subnetwork.subnetwork.self_link<br />  }<br />}</p><p>resource \"google_network_connectivity_hub\" \"hub\" {<br />  name = \"my-router-hub\"<br />}</p><p>resource \"google_network_connectivity_spoke\" \"spoke\" {<br />  name     = \"my-router-spoke\"<br />  location = google_compute_subnetwork.subnetwork.region<br />  hub      = google_network_connectivity_hub.hub.id</p><p>linked_router_appliance_instances {<br />    instances {<br />      virtual_machine = google_compute_instance.instance.self_link<br />      ip_address      = google_compute_address.addr_peer.address<br />    }<br />    site_to_site_data_transfer = false<br />  }<br />}</p><p>resource \"google_compute_router\" \"router\" {<br />  name    = \"my-router-router\"<br />  region  = google_compute_subnetwork.subnetwork.region<br />  network = google_compute_network.network.self_link<br />  bgp {<br />    asn = 64514<br />  }<br />}</p><p>resource \"google_compute_router_interface\" \"interface_redundant\" {<br />  name               = \"my-router-intf-red\"<br />  region             = google_compute_router.router.region<br />  router             = google_compute_router.router.name<br />  subnetwork         = google_compute_subnetwork.subnetwork.self_link<br />  private_ip_address = google_compute_address.addr_intf_redundant.address<br />}</p><p>resource \"google_compute_router_interface\" \"interface\" {<br />  name                = \"my-router-intf\"<br />  region              = google_compute_router.router.region<br />  router              = google_compute_router.router.name<br />  subnetwork          = google_compute_subnetwork.subnetwork.self_link<br />  private_ip_address  = google_compute_address.addr_intf.address<br />  redundant_interface = google_compute_router_interface.interface_redundant.name<br />}</p><p>resource \"google_compute_router_peer\" \"peer\" {<br />  name                      = \"my-router-peer\"<br />  router                    = google_compute_router.router.name<br />  region                    = google_compute_router.router.region<br />  interface                 = google_compute_router_interface.interface.name<br />  router_appliance_instance = google_compute_instance.instance.self_link<br />  peer_asn                  = 65513<br />  peer_ip_address           = google_compute_address.addr_peer.address<br />}</p>", "argument-reference": "<h2 id=\"argument-reference\">Argument Reference</h2><p>The following arguments are supported:</p><ul><li><p><code>name</code> -<br />  (Required)<br />  Name of this BGP peer. The name must be 1-63 characters long,<br />  and comply with RFC1035. Specifically, the name must be 1-63 characters<br />  long and match the regular expression <code>[a-z]([-a-z0-9]*[a-z0-9])?</code> which<br />  means the first character must be a lowercase letter, and all<br />  following characters must be a dash, lowercase letter, or digit,<br />  except the last character, which cannot be a dash.</p></li><li><p><code>interface</code> -<br />  (Required)<br />  Name of the interface the BGP peer is associated with.</p></li><li><p><code>peer_asn</code> -<br />  (Required)<br />  Peer BGP Autonomous System Number (ASN).<br />  Each BGP interface may use a different value.</p></li><li><p><code>router</code> -<br />  (Required)<br />  The name of the Cloud Router in which this BgpPeer will be configured.</p></li></ul><hr /><ul><li><p><code>ip_address</code> -<br />  (Optional)<br />  IP address of the interface inside Google Cloud Platform.<br />  Only IPv4 is supported.</p></li><li><p><code>peer_ip_address</code> -<br />  (Optional)<br />  IP address of the BGP interface outside Google Cloud Platform.<br />  Only IPv4 is supported. Required if <code>ip_address</code> is set.</p></li><li><p><code>advertised_route_priority</code> -<br />  (Optional)<br />  The priority of routes advertised to this BGP peer.<br />  Where there is more than one matching route of maximum<br />  length, the routes with the lowest priority value win.</p></li><li><p><code>advertise_mode</code> -<br />  (Optional)<br />  User-specified flag to indicate which mode to use for advertisement.<br />  Valid values of this enum field are: <code>DEFAULT</code>, <code>CUSTOM</code><br />  Default value is <code>DEFAULT</code>.<br />  Possible values are: <code>DEFAULT</code>, <code>CUSTOM</code>.</p></li><li><p><code>advertised_groups</code> -<br />  (Optional)<br />  User-specified list of prefix groups to advertise in custom<br />  mode, which currently supports the following option:</p></li><li><code>ALL_SUBNETS</code>: Advertises all of the router's own VPC subnets.<br />  This excludes any routes learned for subnets that use VPC Network<br />  Peering.</li></ul><p>Note that this field can only be populated if advertiseMode is <code>CUSTOM</code><br />  and overrides the list defined for the router (in the \"bgp\" message).<br />  These groups are advertised in addition to any specified prefixes.<br />  Leave this field blank to advertise no custom groups.</p><ul><li><p><code>advertised_ip_ranges</code> -<br />  (Optional)<br />  User-specified list of individual IP ranges to advertise in<br />  custom mode. This field can only be populated if advertiseMode<br />  is <code>CUSTOM</code> and is advertised to all peers of the router. These IP<br />  ranges will be advertised in addition to any specified groups.<br />  Leave this field blank to advertise no custom IP ranges.<br />  Structure is <a href=\"#nested_advertised_ip_ranges\">documented below</a>.</p></li><li><p><code>bfd</code> -<br />  (Optional)<br />  BFD configuration for the BGP peering.<br />  Structure is <a href=\"#nested_bfd\">documented below</a>.</p></li><li><p><code>enable</code> -<br />  (Optional)<br />  The status of the BGP peer connection. If set to false, any active session<br />  with the peer is terminated and all associated routing information is removed.<br />  If set to true, the peer connection can be established with routing information.<br />  The default is true.</p></li><li><p><code>router_appliance_instance</code> -<br />  (Optional)<br />  The URI of the VM instance that is used as third-party router appliances<br />  such as Next Gen Firewalls, Virtual Routers, or Router Appliances.<br />  The VM instance must be located in zones contained in the same region as<br />  this Cloud Router. The VM instance is the peer side of the BGP session.</p></li><li><p><code>enable_ipv6</code> -<br />  (Optional)<br />  Enable IPv6 traffic over BGP Peer. If not specified, it is disabled by default.</p></li><li><p><code>ipv6_nexthop_address</code> -<br />  (Optional)<br />  IPv6 address of the interface inside Google Cloud Platform.<br />  The address must be in the range 2600:2d00:0:2::/64 or 2600:2d00:0:3::/64.<br />  If you do not specify the next hop addresses, Google Cloud automatically<br />  assigns unused addresses from the 2600:2d00:0:2::/64 or 2600:2d00:0:3::/64 range for you.</p></li><li><p><code>peer_ipv6_nexthop_address</code> -<br />  (Optional)<br />  IPv6 address of the BGP interface outside Google Cloud Platform.<br />  The address must be in the range 2600:2d00:0:2::/64 or 2600:2d00:0:3::/64.<br />  If you do not specify the next hop addresses, Google Cloud automatically<br />  assigns unused addresses from the 2600:2d00:0:2::/64 or 2600:2d00:0:3::/64 range for you.</p></li><li><p><code>region</code> -<br />  (Optional)<br />  Region where the router and BgpPeer reside.<br />  If it is not provided, the provider region is used.</p></li><li><p><code>project</code> - (Optional) The ID of the project in which the resource belongs.<br />    If it is not provided, the provider project is used.</p></li></ul><p><a name=\"nested_advertised_ip_ranges\"></a>The <code>advertised_ip_ranges</code> block supports:</p><ul><li><p><code>range</code> -<br />  (Required)<br />  The IP range to advertise. The value must be a<br />  CIDR-formatted string.</p></li><li><p><code>description</code> -<br />  (Optional)<br />  User-specified description for the IP range.</p></li></ul><p><a name=\"nested_bfd\"></a>The <code>bfd</code> block supports:</p><ul><li><p><code>session_initialization_mode</code> -<br />  (Required)<br />  The BFD session initialization mode for this BGP peer.<br />  If set to <code>ACTIVE</code>, the Cloud Router will initiate the BFD session<br />  for this BGP peer. If set to <code>PASSIVE</code>, the Cloud Router will wait<br />  for the peer router to initiate the BFD session for this BGP peer.<br />  If set to <code>DISABLED</code>, BFD is disabled for this BGP peer.<br />  Possible values are: <code>ACTIVE</code>, <code>DISABLED</code>, <code>PASSIVE</code>.</p></li><li><p><code>min_transmit_interval</code> -<br />  (Optional)<br />  The minimum interval, in milliseconds, between BFD control packets<br />  transmitted to the peer router. The actual value is negotiated<br />  between the two routers and is equal to the greater of this value<br />  and the corresponding receive interval of the other router. If set,<br />  this value must be between 1000 and 30000.</p></li><li><p><code>min_receive_interval</code> -<br />  (Optional)<br />  The minimum interval, in milliseconds, between BFD control packets<br />  received from the peer router. The actual value is negotiated<br />  between the two routers and is equal to the greater of this value<br />  and the transmit interval of the other router. If set, this value<br />  must be between 1000 and 30000.</p></li><li><p><code>multiplier</code> -<br />  (Optional)<br />  The number of consecutive BFD packets that must be missed before<br />  BFD declares that a peer is unavailable. If set, the value must<br />  be a value between 5 and 16.</p></li></ul>", "attributes-reference": "<h2 id=\"attributes-reference\">Attributes Reference</h2><p>In addition to the arguments listed above, the following computed attributes are exported:</p><ul><li><p><code>id</code> - an identifier for the resource with format <code>projects/{{project}}/regions/{{region}}/routers/{{router}}/{{name}}</code></p></li><li><p><code>management_type</code> -<br />  The resource that configures and manages this BGP peer.</p></li><li><code>MANAGED_BY_USER</code> is the default value and can be managed by<br />  you or other users</li><li><code>MANAGED_BY_ATTACHMENT</code> is a BGP peer that is configured and<br />  managed by Cloud Interconnect, specifically by an<br />  InterconnectAttachment of type PARTNER. Google automatically<br />  creates, updates, and deletes this type of BGP peer when the<br />  PARTNER InterconnectAttachment is created, updated,<br />  or deleted.</li></ul>", "timeouts": "<h2 id=\"timeouts\">Timeouts</h2><p>This resource provides the following<br /><a href=\"https://developer.hashicorp.com/terraform/plugin/sdkv2/resources/retries-and-customizable-timeouts\">Timeouts</a> configuration options:</p><ul><li><code>create</code> - Default is 20 minutes.</li><li><code>update</code> - Default is 20 minutes.</li><li><code>delete</code> - Default is 20 minutes.</li></ul>", "import": "<h2 id=\"import\">Import</h2><p>RouterBgpPeer can be imported using any of these accepted formats:</p><p>$ terraform import google_compute_router_peer.default projects/{{project}}/regions/{{region}}/routers/{{router}}/{{name}}<br />$ terraform import google_compute_router_peer.default {{project}}/{{region}}/{{router}}/{{name}}<br />$ terraform import google_compute_router_peer.default {{region}}/{{router}}/{{name}}<br />$ terraform import google_compute_router_peer.default {{router}}/{{name}}</p>", "user-project-overrides": "<h2 id=\"user-project-overrides\">User Project Overrides</h2><p>This resource supports <a href=\"https://registry.terraform.io/providers/hashicorp/google/latest/docs/guides/provider_reference#user_project_override\">User Project Overrides</a>.</p>", "description": "<h1 id=\"google_compute_router_peer\">google_compute_router_peer</h1><p>BGP information that must be configured into the routing stack to<br />establish BGP peering. This information must specify the peer ASN<br />and either the interface name, IP address, or peer IP address.<br />Please refer to RFC4273.</p><p>To get more information about RouterBgpPeer, see:</p><ul><li><a href=\"https://cloud.google.com/compute/docs/reference/rest/v1/routers\">API documentation</a></li><li>How-to Guides<ul><li><a href=\"https://cloud.google.com/router/docs/\">Google Cloud Router</a></li></ul></li></ul>"}