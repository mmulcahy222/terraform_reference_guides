{"": "<h1 id=\"-_2\">----------------------------------------------------------------------------</h1><p>subcategory: \"Access Context Manager (VPC Service Controls)\"<br />description: |-<br />  Replace all existing Service Perimeters in an Access Policy with the Service Perimeters provided.</p><hr />", "auto-generated-code-type-mmv1": "<h1 id=\"auto-generated-code-type-mmv1\"><strong><em>     AUTO GENERATED CODE    </em></strong>    Type: MMv1     ***</h1>", "this-file-is-automatically-generated-by-magic-modules-and-manual": "<h1 id=\"this-file-is-automatically-generated-by-magic-modules-and-manual\">This file is automatically generated by Magic Modules and manual</h1>", "changes-will-be-clobbered-when-the-file-is-regenerated": "<h1 id=\"changes-will-be-clobbered-when-the-file-is-regenerated\">changes will be clobbered when the file is regenerated.</h1>", "please-read-more-about-how-to-change-this-file-in": "<h1 id=\"please-read-more-about-how-to-change-this-file-in\">Please read more about how to change this file in</h1>", "github-contributing-md": "<h1 id=\"githubcontributingmd\">.github/CONTRIBUTING.md.</h1>", "google-access-context-manager-service-perimeters": "<h1 id=\"google_access_context_manager_service_perimeters\">google_access_context_manager_service_perimeters</h1><p>Replace all existing Service Perimeters in an Access Policy with the Service Perimeters provided. This is done atomically.<br />This is a bulk edit of all Service Perimeters and may override existing Service Perimeters created by <code>google_access_context_manager_service_perimeter</code>,<br />thus causing a permadiff if used alongside <code>google_access_context_manager_service_perimeter</code> on the same parent.</p><p>To get more information about ServicePerimeters, see:</p><ul><li><a href=\"https://cloud.google.com/access-context-manager/docs/reference/rest/v1/accessPolicies.servicePerimeters\">API documentation</a></li><li>How-to Guides<ul><li><a href=\"https://cloud.google.com/vpc-service-controls/docs/quickstart\">Service Perimeter Quickstart</a></li></ul></li></ul>", "example-usage---access-context-manager-service-perimeters-basic": "<h2 id=\"example-usage-access-context-manager-service-perimeters-basic\">Example Usage - Access Context Manager Service Perimeters Basic</h2><p><br />resource \"google_access_context_manager_service_perimeters\" \"service-perimeter\" {<br />  parent = \"accessPolicies/${google_access_context_manager_access_policy.access-policy.name}\"</p><p>service_perimeters {<br />    name   = \"accessPolicies/${google_access_context_manager_access_policy.access-policy.name}/servicePerimeters/\"<br />    title  = \"\"<br />    status {<br />      restricted_services = [\"storage.googleapis.com\"]<br />    }<br />  }</p><p>service_perimeters {<br />    name   = \"accessPolicies/${google_access_context_manager_access_policy.access-policy.name}/servicePerimeters/\"<br />    title  = \"\"<br />    status {<br />      restricted_services = [\"bigtable.googleapis.com\"]<br />    }<br />  }<br />}</p><p>resource \"google_access_context_manager_access_level\" \"access-level\" {<br />  parent = \"accessPolicies/${google_access_context_manager_access_policy.access-policy.name}\"<br />  name   = \"accessPolicies/${google_access_context_manager_access_policy.access-policy.name}/accessLevels/chromeos_no_lock\"<br />  title  = \"chromeos_no_lock\"<br />  basic {<br />    conditions {<br />      device_policy {<br />        require_screen_lock = false<br />        os_constraints {<br />          os_type = \"DESKTOP_CHROME_OS\"<br />        }<br />      }<br />      regions = [<br />        \"CH\",<br />        \"IT\",<br />        \"US\",<br />      ]<br />    }<br />  }<br />}</p><p>resource \"google_access_context_manager_access_policy\" \"access-policy\" {<br />  parent = \"organizations/123456789\"<br />  title  = \"my policy\"<br />}<br /></p>", "argument-reference": "<h2 id=\"argument-reference\">Argument Reference</h2><p>The following arguments are supported:</p><ul><li><code>parent</code> -<br />  (Required)<br />  The AccessPolicy this ServicePerimeter lives in.<br />  Format: accessPolicies/{policy_id}</li></ul><hr /><ul><li><code>service_perimeters</code> -<br />  (Optional)<br />  The desired Service Perimeters that should replace all existing Service Perimeters in the Access Policy.<br />  Structure is <a href=\"#nested_service_perimeters\">documented below</a>.</li></ul><p><a name=\"nested_service_perimeters\"></a>The <code>service_perimeters</code> block supports:</p><ul><li><p><code>name</code> -<br />  (Required)<br />  Resource name for the ServicePerimeter. The short_name component must<br />  begin with a letter and only include alphanumeric and '_'.<br />  Format: accessPolicies/{policy_id}/servicePerimeters/{short_name}</p></li><li><p><code>title</code> -<br />  (Required)<br />  Human readable title. Must be unique within the Policy.</p></li><li><p><code>description</code> -<br />  (Optional)<br />  Description of the ServicePerimeter and its use. Does not affect<br />  behavior.</p></li><li><p><code>create_time</code> -<br />  (Output)<br />  Time the AccessPolicy was created in UTC.</p></li><li><p><code>update_time</code> -<br />  (Output)<br />  Time the AccessPolicy was updated in UTC.</p></li><li><p><code>perimeter_type</code> -<br />  (Optional)<br />  Specifies the type of the Perimeter. There are two types: regular and<br />  bridge. Regular Service Perimeter contains resources, access levels,<br />  and restricted services. Every resource can be in at most<br />  ONE regular Service Perimeter.<br />  In addition to being in a regular service perimeter, a resource can also<br />  be in zero or more perimeter bridges. A perimeter bridge only contains<br />  resources. Cross project operations are permitted if all effected<br />  resources share some perimeter (whether bridge or regular). Perimeter<br />  Bridge does not contain access levels or services: those are governed<br />  entirely by the regular perimeter that resource is in.<br />  Perimeter Bridges are typically useful when building more complex<br />  topologies with many independent perimeters that need to share some data<br />  with a common perimeter, but should not be able to share data among<br />  themselves.<br />  Default value is <code>PERIMETER_TYPE_REGULAR</code>.<br />  Possible values are: <code>PERIMETER_TYPE_REGULAR</code>, <code>PERIMETER_TYPE_BRIDGE</code>.</p></li><li><p><code>status</code> -<br />  (Optional)<br />  ServicePerimeter configuration. Specifies sets of resources,<br />  restricted services and access levels that determine<br />  perimeter content and boundaries.<br />  Structure is <a href=\"#nested_status\">documented below</a>.</p></li><li><p><code>spec</code> -<br />  (Optional)<br />  Proposed (or dry run) ServicePerimeter configuration.<br />  This configuration allows to specify and test ServicePerimeter configuration<br />  without enforcing actual access restrictions. Only allowed to be set when<br />  the <code>useExplicitDryRunSpec</code> flag is set.<br />  Structure is <a href=\"#nested_spec\">documented below</a>.</p></li><li><p><code>use_explicit_dry_run_spec</code> -<br />  (Optional)<br />  Use explicit dry run spec flag. Ordinarily, a dry-run spec implicitly exists<br />  for all Service Perimeters, and that spec is identical to the status for those<br />  Service Perimeters. When this flag is set, it inhibits the generation of the<br />  implicit spec, thereby allowing the user to explicitly provide a<br />  configuration (\"spec\") to use in a dry-run version of the Service Perimeter.<br />  This allows the user to test changes to the enforced config (\"status\") without<br />  actually enforcing them. This testing is done through analyzing the differences<br />  between currently enforced and suggested restrictions. useExplicitDryRunSpec must<br />  bet set to True if any of the fields in the spec are set to non-default values.</p></li></ul><p><a name=\"nested_status\"></a>The <code>status</code> block supports:</p><ul><li><p><code>resources</code> -<br />  (Optional)<br />  A list of GCP resources that are inside of the service perimeter.<br />  Currently only projects are allowed.<br />  Format: projects/{project_number}</p></li><li><p><code>access_levels</code> -<br />  (Optional)<br />  A list of AccessLevel resource names that allow resources within<br />  the ServicePerimeter to be accessed from the internet.<br />  AccessLevels listed must be in the same policy as this<br />  ServicePerimeter. Referencing a nonexistent AccessLevel is a<br />  syntax error. If no AccessLevel names are listed, resources within<br />  the perimeter can only be accessed via GCP calls with request<br />  origins within the perimeter. For Service Perimeter Bridge, must<br />  be empty.<br />  Format: accessPolicies/{policy_id}/accessLevels/{access_level_name}</p></li><li><p><code>restricted_services</code> -<br />  (Optional)<br />  GCP services that are subject to the Service Perimeter<br />  restrictions. Must contain a list of services. For example, if<br /><code>storage.googleapis.com</code> is specified, access to the storage<br />  buckets inside the perimeter must meet the perimeter's access<br />  restrictions.</p></li><li><p><code>vpc_accessible_services</code> -<br />  (Optional)<br />  Specifies how APIs are allowed to communicate within the Service<br />  Perimeter.<br />  Structure is <a href=\"#nested_vpc_accessible_services\">documented below</a>.</p></li><li><p><code>ingress_policies</code> -<br />  (Optional)<br />  List of <code>IngressPolicies</code> to apply to the perimeter. A perimeter may<br />  have multiple <code>IngressPolicies</code>, each of which is evaluated<br />  separately. Access is granted if any <code>Ingress Policy</code> grants it.<br />  Must be empty for a perimeter bridge.<br />  Structure is <a href=\"#nested_ingress_policies\">documented below</a>.</p></li><li><p><code>egress_policies</code> -<br />  (Optional)<br />  List of EgressPolicies to apply to the perimeter. A perimeter may<br />  have multiple EgressPolicies, each of which is evaluated separately.<br />  Access is granted if any EgressPolicy grants it. Must be empty for<br />  a perimeter bridge.<br />  Structure is <a href=\"#nested_egress_policies\">documented below</a>.</p></li></ul><p><a name=\"nested_vpc_accessible_services\"></a>The <code>vpc_accessible_services</code> block supports:</p><ul><li><p><code>enable_restriction</code> -<br />  (Optional)<br />  Whether to restrict API calls within the Service Perimeter to the<br />  list of APIs specified in 'allowedServices'.</p></li><li><p><code>allowed_services</code> -<br />  (Optional)<br />  The list of APIs usable within the Service Perimeter.<br />  Must be empty unless <code>enableRestriction</code> is True.</p></li></ul><p><a name=\"nested_ingress_policies\"></a>The <code>ingress_policies</code> block supports:</p><ul><li><p><code>ingress_from</code> -<br />  (Optional)<br />  Defines the conditions on the source of a request causing this <code>IngressPolicy</code><br />  to apply.<br />  Structure is <a href=\"#nested_ingress_from\">documented below</a>.</p></li><li><p><code>ingress_to</code> -<br />  (Optional)<br />  Defines the conditions on the <code>ApiOperation</code> and request destination that cause<br />  this <code>IngressPolicy</code> to apply.<br />  Structure is <a href=\"#nested_ingress_to\">documented below</a>.</p></li></ul><p><a name=\"nested_ingress_from\"></a>The <code>ingress_from</code> block supports:</p><ul><li><p><code>identity_type</code> -<br />  (Optional)<br />  Specifies the type of identities that are allowed access from outside the<br />  perimeter. If left unspecified, then members of <code>identities</code> field will be<br />  allowed access.<br />  Possible values are: <code>IDENTITY_TYPE_UNSPECIFIED</code>, <code>ANY_IDENTITY</code>, <code>ANY_USER_ACCOUNT</code>, <code>ANY_SERVICE_ACCOUNT</code>.</p></li><li><p><code>identities</code> -<br />  (Optional)<br />  A list of identities that are allowed access through this ingress policy.<br />  Should be in the format of email address. The email address should represent<br />  individual user or service account only.</p></li><li><p><code>sources</code> -<br />  (Optional)<br />  Sources that this <code>IngressPolicy</code> authorizes access from.<br />  Structure is <a href=\"#nested_sources\">documented below</a>.</p></li></ul><p><a name=\"nested_sources\"></a>The <code>sources</code> block supports:</p><ul><li><p><code>access_level</code> -<br />  (Optional)<br />  An <code>AccessLevel</code> resource name that allow resources within the<br /><code>ServicePerimeters</code> to be accessed from the internet. <code>AccessLevels</code> listed<br />  must be in the same policy as this <code>ServicePerimeter</code>. Referencing a nonexistent<br /><code>AccessLevel</code> will cause an error. If no <code>AccessLevel</code> names are listed,<br />  resources within the perimeter can only be accessed via Google Cloud calls<br />  with request origins within the perimeter.<br />  Example <code>accessPolicies/MY_POLICY/accessLevels/MY_LEVEL.</code><br />  If * is specified, then all IngressSources will be allowed.</p></li><li><p><code>resource</code> -<br />  (Optional)<br />  A Google Cloud resource that is allowed to ingress the perimeter.<br />  Requests from these resources will be allowed to access perimeter data.<br />  Currently only projects are allowed. Format <code>projects/{project_number}</code><br />  The project may be in any Google Cloud organization, not just the<br />  organization that the perimeter is defined in. <code>*</code> is not allowed, the case<br />  of allowing all Google Cloud resources only is not supported.</p></li></ul><p><a name=\"nested_ingress_to\"></a>The <code>ingress_to</code> block supports:</p><ul><li><p><code>resources</code> -<br />  (Optional)<br />  A list of resources, currently only projects in the form<br /><code>projects/&lt;projectnumber&gt;</code>, protected by this <code>ServicePerimeter</code><br />  that are allowed to be accessed by sources defined in the<br />  corresponding <code>IngressFrom</code>. A request matches if it contains<br />  a resource in this list. If <code>*</code> is specified for resources,<br />  then this <code>IngressTo</code> rule will authorize access to all<br />  resources inside the perimeter, provided that the request<br />  also matches the <code>operations</code> field.</p></li><li><p><code>operations</code> -<br />  (Optional)<br />  A list of <code>ApiOperations</code> the sources specified in corresponding <code>IngressFrom</code><br />  are allowed to perform in this <code>ServicePerimeter</code>.<br />  Structure is <a href=\"#nested_operations\">documented below</a>.</p></li></ul><p><a name=\"nested_operations\"></a>The <code>operations</code> block supports:</p><ul><li><p><code>service_name</code> -<br />  (Optional)<br />  The name of the API whose methods or permissions the <code>IngressPolicy</code> or<br /><code>EgressPolicy</code> want to allow. A single <code>ApiOperation</code> with <code>serviceName</code><br />  field set to <code>*</code> will allow all methods AND permissions for all services.</p></li><li><p><code>method_selectors</code> -<br />  (Optional)<br />  API methods or permissions to allow. Method or permission must belong to<br />  the service specified by serviceName field. A single <code>MethodSelector</code> entry<br />  with <code>*</code> specified for the method field will allow all methods AND<br />  permissions for the service specified in <code>serviceName</code>.<br />  Structure is <a href=\"#nested_method_selectors\">documented below</a>.</p></li></ul><p><a name=\"nested_method_selectors\"></a>The <code>method_selectors</code> block supports:</p><ul><li><p><code>method</code> -<br />  (Optional)<br />  Value for method should be a valid method name for the corresponding<br />  serviceName in <code>ApiOperation</code>. If <code>*</code> used as value for <code>method</code>, then<br />  ALL methods and permissions are allowed.</p></li><li><p><code>permission</code> -<br />  (Optional)<br />  Value for permission should be a valid Cloud IAM permission for the<br />  corresponding <code>serviceName</code> in <code>ApiOperation</code>.</p></li></ul><p><a name=\"nested_egress_policies\"></a>The <code>egress_policies</code> block supports:</p><ul><li><p><code>egress_from</code> -<br />  (Optional)<br />  Defines conditions on the source of a request causing this <code>EgressPolicy</code> to apply.<br />  Structure is <a href=\"#nested_egress_from\">documented below</a>.</p></li><li><p><code>egress_to</code> -<br />  (Optional)<br />  Defines the conditions on the <code>ApiOperation</code> and destination resources that<br />  cause this <code>EgressPolicy</code> to apply.<br />  Structure is <a href=\"#nested_egress_to\">documented below</a>.</p></li></ul><p><a name=\"nested_egress_from\"></a>The <code>egress_from</code> block supports:</p><ul><li><p><code>identity_type</code> -<br />  (Optional)<br />  Specifies the type of identities that are allowed access to outside the<br />  perimeter. If left unspecified, then members of <code>identities</code> field will<br />  be allowed access.<br />  Possible values are: <code>IDENTITY_TYPE_UNSPECIFIED</code>, <code>ANY_IDENTITY</code>, <code>ANY_USER_ACCOUNT</code>, <code>ANY_SERVICE_ACCOUNT</code>.</p></li><li><p><code>identities</code> -<br />  (Optional)<br />  A list of identities that are allowed access through this <code>EgressPolicy</code>.<br />  Should be in the format of email address. The email address should<br />  represent individual user or service account only.</p></li></ul><p><a name=\"nested_egress_to\"></a>The <code>egress_to</code> block supports:</p><ul><li><p><code>resources</code> -<br />  (Optional)<br />  A list of resources, currently only projects in the form<br /><code>projects/&lt;projectnumber&gt;</code>, that match this to stanza. A request matches<br />  if it contains a resource in this list. If * is specified for resources,<br />  then this <code>EgressTo</code> rule will authorize access to all resources outside<br />  the perimeter.</p></li><li><p><code>external_resources</code> -<br />  (Optional)<br />  A list of external resources that are allowed to be accessed. A request<br />  matches if it contains an external resource in this list (Example:<br />  s3://bucket/path). Currently '*' is not allowed.</p></li><li><p><code>operations</code> -<br />  (Optional)<br />  A list of <code>ApiOperations</code> that this egress rule applies to. A request matches<br />  if it contains an operation/service in this list.<br />  Structure is <a href=\"#nested_operations\">documented below</a>.</p></li></ul><p><a name=\"nested_operations\"></a>The <code>operations</code> block supports:</p><ul><li><p><code>service_name</code> -<br />  (Optional)<br />  The name of the API whose methods or permissions the <code>IngressPolicy</code> or<br /><code>EgressPolicy</code> want to allow. A single <code>ApiOperation</code> with serviceName<br />  field set to <code>*</code> will allow all methods AND permissions for all services.</p></li><li><p><code>method_selectors</code> -<br />  (Optional)<br />  API methods or permissions to allow. Method or permission must belong<br />  to the service specified by <code>serviceName</code> field. A single MethodSelector<br />  entry with <code>*</code> specified for the <code>method</code> field will allow all methods<br />  AND permissions for the service specified in <code>serviceName</code>.<br />  Structure is <a href=\"#nested_method_selectors\">documented below</a>.</p></li></ul><p><a name=\"nested_method_selectors\"></a>The <code>method_selectors</code> block supports:</p><ul><li><p><code>method</code> -<br />  (Optional)<br />  Value for <code>method</code> should be a valid method name for the corresponding<br /><code>serviceName</code> in <code>ApiOperation</code>. If <code>*</code> used as value for method,<br />  then ALL methods and permissions are allowed.</p></li><li><p><code>permission</code> -<br />  (Optional)<br />  Value for permission should be a valid Cloud IAM permission for the<br />  corresponding <code>serviceName</code> in <code>ApiOperation</code>.</p></li></ul><p><a name=\"nested_spec\"></a>The <code>spec</code> block supports:</p><ul><li><p><code>resources</code> -<br />  (Optional)<br />  A list of GCP resources that are inside of the service perimeter.<br />  Currently only projects are allowed.<br />  Format: projects/{project_number}</p></li><li><p><code>access_levels</code> -<br />  (Optional)<br />  A list of AccessLevel resource names that allow resources within<br />  the ServicePerimeter to be accessed from the internet.<br />  AccessLevels listed must be in the same policy as this<br />  ServicePerimeter. Referencing a nonexistent AccessLevel is a<br />  syntax error. If no AccessLevel names are listed, resources within<br />  the perimeter can only be accessed via GCP calls with request<br />  origins within the perimeter. For Service Perimeter Bridge, must<br />  be empty.<br />  Format: accessPolicies/{policy_id}/accessLevels/{access_level_name}</p></li><li><p><code>restricted_services</code> -<br />  (Optional)<br />  GCP services that are subject to the Service Perimeter<br />  restrictions. Must contain a list of services. For example, if<br /><code>storage.googleapis.com</code> is specified, access to the storage<br />  buckets inside the perimeter must meet the perimeter's access<br />  restrictions.</p></li><li><p><code>vpc_accessible_services</code> -<br />  (Optional)<br />  Specifies how APIs are allowed to communicate within the Service<br />  Perimeter.<br />  Structure is <a href=\"#nested_vpc_accessible_services\">documented below</a>.</p></li><li><p><code>ingress_policies</code> -<br />  (Optional)<br />  List of <code>IngressPolicies</code> to apply to the perimeter. A perimeter may<br />  have multiple <code>IngressPolicies</code>, each of which is evaluated<br />  separately. Access is granted if any <code>Ingress Policy</code> grants it.<br />  Must be empty for a perimeter bridge.<br />  Structure is <a href=\"#nested_ingress_policies\">documented below</a>.</p></li><li><p><code>egress_policies</code> -<br />  (Optional)<br />  List of EgressPolicies to apply to the perimeter. A perimeter may<br />  have multiple EgressPolicies, each of which is evaluated separately.<br />  Access is granted if any EgressPolicy grants it. Must be empty for<br />  a perimeter bridge.<br />  Structure is <a href=\"#nested_egress_policies\">documented below</a>.</p></li></ul><p><a name=\"nested_vpc_accessible_services\"></a>The <code>vpc_accessible_services</code> block supports:</p><ul><li><p><code>enable_restriction</code> -<br />  (Optional)<br />  Whether to restrict API calls within the Service Perimeter to the<br />  list of APIs specified in 'allowedServices'.</p></li><li><p><code>allowed_services</code> -<br />  (Optional)<br />  The list of APIs usable within the Service Perimeter.<br />  Must be empty unless <code>enableRestriction</code> is True.</p></li></ul><p><a name=\"nested_ingress_policies\"></a>The <code>ingress_policies</code> block supports:</p><ul><li><p><code>ingress_from</code> -<br />  (Optional)<br />  Defines the conditions on the source of a request causing this <code>IngressPolicy</code><br />  to apply.<br />  Structure is <a href=\"#nested_ingress_from\">documented below</a>.</p></li><li><p><code>ingress_to</code> -<br />  (Optional)<br />  Defines the conditions on the <code>ApiOperation</code> and request destination that cause<br />  this <code>IngressPolicy</code> to apply.<br />  Structure is <a href=\"#nested_ingress_to\">documented below</a>.</p></li></ul><p><a name=\"nested_ingress_from\"></a>The <code>ingress_from</code> block supports:</p><ul><li><p><code>identity_type</code> -<br />  (Optional)<br />  Specifies the type of identities that are allowed access from outside the<br />  perimeter. If left unspecified, then members of <code>identities</code> field will be<br />  allowed access.<br />  Possible values are: <code>IDENTITY_TYPE_UNSPECIFIED</code>, <code>ANY_IDENTITY</code>, <code>ANY_USER_ACCOUNT</code>, <code>ANY_SERVICE_ACCOUNT</code>.</p></li><li><p><code>identities</code> -<br />  (Optional)<br />  A list of identities that are allowed access through this ingress policy.<br />  Should be in the format of email address. The email address should represent<br />  individual user or service account only.</p></li><li><p><code>sources</code> -<br />  (Optional)<br />  Sources that this <code>IngressPolicy</code> authorizes access from.<br />  Structure is <a href=\"#nested_sources\">documented below</a>.</p></li></ul><p><a name=\"nested_sources\"></a>The <code>sources</code> block supports:</p><ul><li><p><code>access_level</code> -<br />  (Optional)<br />  An <code>AccessLevel</code> resource name that allow resources within the<br /><code>ServicePerimeters</code> to be accessed from the internet. <code>AccessLevels</code> listed<br />  must be in the same policy as this <code>ServicePerimeter</code>. Referencing a nonexistent<br /><code>AccessLevel</code> will cause an error. If no <code>AccessLevel</code> names are listed,<br />  resources within the perimeter can only be accessed via Google Cloud calls<br />  with request origins within the perimeter.<br />  Example <code>accessPolicies/MY_POLICY/accessLevels/MY_LEVEL.</code><br />  If * is specified, then all IngressSources will be allowed.</p></li><li><p><code>resource</code> -<br />  (Optional)<br />  A Google Cloud resource that is allowed to ingress the perimeter.<br />  Requests from these resources will be allowed to access perimeter data.<br />  Currently only projects are allowed. Format <code>projects/{project_number}</code><br />  The project may be in any Google Cloud organization, not just the<br />  organization that the perimeter is defined in. <code>*</code> is not allowed, the case<br />  of allowing all Google Cloud resources only is not supported.</p></li></ul><p><a name=\"nested_ingress_to\"></a>The <code>ingress_to</code> block supports:</p><ul><li><p><code>resources</code> -<br />  (Optional)<br />  A list of resources, currently only projects in the form<br /><code>projects/&lt;projectnumber&gt;</code>, protected by this <code>ServicePerimeter</code><br />  that are allowed to be accessed by sources defined in the<br />  corresponding <code>IngressFrom</code>. A request matches if it contains<br />  a resource in this list. If <code>*</code> is specified for resources,<br />  then this <code>IngressTo</code> rule will authorize access to all<br />  resources inside the perimeter, provided that the request<br />  also matches the <code>operations</code> field.</p></li><li><p><code>operations</code> -<br />  (Optional)<br />  A list of <code>ApiOperations</code> the sources specified in corresponding <code>IngressFrom</code><br />  are allowed to perform in this <code>ServicePerimeter</code>.<br />  Structure is <a href=\"#nested_operations\">documented below</a>.</p></li></ul><p><a name=\"nested_operations\"></a>The <code>operations</code> block supports:</p><ul><li><p><code>service_name</code> -<br />  (Optional)<br />  The name of the API whose methods or permissions the <code>IngressPolicy</code> or<br /><code>EgressPolicy</code> want to allow. A single <code>ApiOperation</code> with <code>serviceName</code><br />  field set to <code>*</code> will allow all methods AND permissions for all services.</p></li><li><p><code>method_selectors</code> -<br />  (Optional)<br />  API methods or permissions to allow. Method or permission must belong to<br />  the service specified by serviceName field. A single <code>MethodSelector</code> entry<br />  with <code>*</code> specified for the method field will allow all methods AND<br />  permissions for the service specified in <code>serviceName</code>.<br />  Structure is <a href=\"#nested_method_selectors\">documented below</a>.</p></li></ul><p><a name=\"nested_method_selectors\"></a>The <code>method_selectors</code> block supports:</p><ul><li><p><code>method</code> -<br />  (Optional)<br />  Value for method should be a valid method name for the corresponding<br />  serviceName in <code>ApiOperation</code>. If <code>*</code> used as value for <code>method</code>, then<br />  ALL methods and permissions are allowed.</p></li><li><p><code>permission</code> -<br />  (Optional)<br />  Value for permission should be a valid Cloud IAM permission for the<br />  corresponding <code>serviceName</code> in <code>ApiOperation</code>.</p></li></ul><p><a name=\"nested_egress_policies\"></a>The <code>egress_policies</code> block supports:</p><ul><li><p><code>egress_from</code> -<br />  (Optional)<br />  Defines conditions on the source of a request causing this <code>EgressPolicy</code> to apply.<br />  Structure is <a href=\"#nested_egress_from\">documented below</a>.</p></li><li><p><code>egress_to</code> -<br />  (Optional)<br />  Defines the conditions on the <code>ApiOperation</code> and destination resources that<br />  cause this <code>EgressPolicy</code> to apply.<br />  Structure is <a href=\"#nested_egress_to\">documented below</a>.</p></li></ul><p><a name=\"nested_egress_from\"></a>The <code>egress_from</code> block supports:</p><ul><li><p><code>identity_type</code> -<br />  (Optional)<br />  Specifies the type of identities that are allowed access to outside the<br />  perimeter. If left unspecified, then members of <code>identities</code> field will<br />  be allowed access.<br />  Possible values are: <code>IDENTITY_TYPE_UNSPECIFIED</code>, <code>ANY_IDENTITY</code>, <code>ANY_USER_ACCOUNT</code>, <code>ANY_SERVICE_ACCOUNT</code>.</p></li><li><p><code>identities</code> -<br />  (Optional)<br />  A list of identities that are allowed access through this <code>EgressPolicy</code>.<br />  Should be in the format of email address. The email address should<br />  represent individual user or service account only.</p></li></ul><p><a name=\"nested_egress_to\"></a>The <code>egress_to</code> block supports:</p><ul><li><p><code>resources</code> -<br />  (Optional)<br />  A list of resources, currently only projects in the form<br /><code>projects/&lt;projectnumber&gt;</code>, that match this to stanza. A request matches<br />  if it contains a resource in this list. If * is specified for resources,<br />  then this <code>EgressTo</code> rule will authorize access to all resources outside<br />  the perimeter.</p></li><li><p><code>external_resources</code> -<br />  (Optional)<br />  A list of external resources that are allowed to be accessed. A request<br />  matches if it contains an external resource in this list (Example:<br />  s3://bucket/path). Currently '*' is not allowed.</p></li><li><p><code>operations</code> -<br />  (Optional)<br />  A list of <code>ApiOperations</code> that this egress rule applies to. A request matches<br />  if it contains an operation/service in this list.<br />  Structure is <a href=\"#nested_operations\">documented below</a>.</p></li></ul><p><a name=\"nested_operations\"></a>The <code>operations</code> block supports:</p><ul><li><p><code>service_name</code> -<br />  (Optional)<br />  The name of the API whose methods or permissions the <code>IngressPolicy</code> or<br /><code>EgressPolicy</code> want to allow. A single <code>ApiOperation</code> with serviceName<br />  field set to <code>*</code> will allow all methods AND permissions for all services.</p></li><li><p><code>method_selectors</code> -<br />  (Optional)<br />  API methods or permissions to allow. Method or permission must belong<br />  to the service specified by <code>serviceName</code> field. A single MethodSelector<br />  entry with <code>*</code> specified for the <code>method</code> field will allow all methods<br />  AND permissions for the service specified in <code>serviceName</code>.<br />  Structure is <a href=\"#nested_method_selectors\">documented below</a>.</p></li></ul><p><a name=\"nested_method_selectors\"></a>The <code>method_selectors</code> block supports:</p><ul><li><p><code>method</code> -<br />  (Optional)<br />  Value for <code>method</code> should be a valid method name for the corresponding<br /><code>serviceName</code> in <code>ApiOperation</code>. If <code>*</code> used as value for method,<br />  then ALL methods and permissions are allowed.</p></li><li><p><code>permission</code> -<br />  (Optional)<br />  Value for permission should be a valid Cloud IAM permission for the<br />  corresponding <code>serviceName</code> in <code>ApiOperation</code>.</p></li></ul>", "attributes-reference": "<h2 id=\"attributes-reference\">Attributes Reference</h2><p>In addition to the arguments listed above, the following computed attributes are exported:</p><ul><li><code>id</code> - an identifier for the resource with format <code>{{parent}}/servicePerimeters</code></li></ul>", "timeouts": "<h2 id=\"timeouts\">Timeouts</h2><p>This resource provides the following<br /><a href=\"https://developer.hashicorp.com/terraform/plugin/sdkv2/resources/retries-and-customizable-timeouts\">Timeouts</a> configuration options:</p><ul><li><code>create</code> - Default is 20 minutes.</li><li><code>update</code> - Default is 20 minutes.</li><li><code>delete</code> - Default is 20 minutes.</li></ul>", "import": "<h2 id=\"import\">Import</h2><p>ServicePerimeters can be imported using any of these accepted formats:</p><p><code>$ terraform import google_access_context_manager_service_perimeters.default {{parent}}/servicePerimeters$ terraform import google_access_context_manager_service_perimeters.default {{parent}}</code></p>", "description": "<h1 id=\"google_access_context_manager_service_perimeters\">google_access_context_manager_service_perimeters</h1><p>Replace all existing Service Perimeters in an Access Policy with the Service Perimeters provided. This is done atomically.<br />This is a bulk edit of all Service Perimeters and may override existing Service Perimeters created by <code>google_access_context_manager_service_perimeter</code>,<br />thus causing a permadiff if used alongside <code>google_access_context_manager_service_perimeter</code> on the same parent.</p><p>To get more information about ServicePerimeters, see:</p><ul><li><a href=\"https://cloud.google.com/access-context-manager/docs/reference/rest/v1/accessPolicies.servicePerimeters\">API documentation</a></li><li>How-to Guides<ul><li><a href=\"https://cloud.google.com/vpc-service-controls/docs/quickstart\">Service Perimeter Quickstart</a></li></ul></li></ul>"}