{"resource-aws-iot-provisioning-template": "<h1 id=\"resource-aws_iot_provisioning_template\">Resource: aws_iot_provisioning_template</h1><p>Manages an IoT fleet provisioning template. For more info, see the AWS documentation on <a href=\"https://docs.aws.amazon.com/iot/latest/developerguide/provision-wo-cert.html\">fleet provisioning</a>.</p>", "example-usage": "<h2 id=\"example-usage\">Example Usage</h2><p>terraform<br />data \"aws_iam_policy_document\" \"iot_assume_role_policy\" {<br />  statement {<br />    actions = [\"sts:AssumeRole\"]</p><pre><code>principals {  type        = \"Service\"  identifiers = [\"iot.amazonaws.com\"]}</code></pre><p>}<br />}</p><p>resource \"aws_iam_role\" \"iot_fleet_provisioning\" {<br />  name               = \"IoTProvisioningServiceRole\"<br />  path               = \"/service-role/\"<br />  assume_role_policy = data.aws_iam_policy_document.iot_assume_role_policy.json<br />}</p><p>resource \"aws_iam_role_policy_attachment\" \"iot_fleet_provisioning_registration\" {<br />  role       = aws_iam_role.iot_fleet_provisioning.name<br />  policy_arn = \"arn:aws:iam::aws:policy/service-role/AWSIoTThingsRegistration\"<br />}</p><p>data \"aws_iam_policy_document\" \"device_policy\" {<br />  statement {<br />    actions   = [\"iot:Subscribe\"]<br />    resources = [\"*\"]<br />  }<br />}</p><p>resource \"aws_iot_policy\" \"device_policy\" {<br />  name   = \"DevicePolicy\"<br />  policy = data.aws_iam_policy_document.device_policy.json<br />}</p><p>resource \"aws_iot_provisioning_template\" \"fleet\" {<br />  name                  = \"FleetTemplate\"<br />  description           = \"My provisioning template\"<br />  provisioning_role_arn = aws_iam_role.iot_fleet_provisioning.arn<br />  enabled               = true</p><p>template_body = jsonencode({<br />    Parameters = {<br />      SerialNumber = { Type = \"String\" }<br />    }</p><pre><code>Resources = {  certificate = {    Properties = {      CertificateId = { Ref = \"AWS::IoT::Certificate::Id\" }      Status        = \"Active\"    }    Type = \"AWS::IoT::Certificate\"  }  policy = {    Properties = {      PolicyName = aws_iot_policy.device_policy.name    }    Type = \"AWS::IoT::Policy\"  }}</code></pre><p>})<br />}<br /></p>", "argument-reference": "<h2 id=\"argument-reference\">Argument Reference</h2><p>This resource supports the following arguments:</p><ul><li><code>name</code> - (Required) The name of the fleet provisioning template.</li><li><code>description</code> - (Optional) The description of the fleet provisioning template.</li><li><code>enabled</code> - (Optional) True to enable the fleet provisioning template, otherwise false.</li><li><code>pre_provisioning_hook</code> - (Optional) Creates a pre-provisioning hook template. Details below.</li><li><code>provisioning_role_arn</code> - (Required) The role ARN for the role associated with the fleet provisioning template. This IoT role grants permission to provision a device.</li><li><code>tags</code> - (Optional) A map of tags to assign to the resource. If configured with a provider <a href=\"https://registry.terraform.io/providers/hashicorp/aws/latest/docs#default_tags-configuration-block\"><code>default_tags</code> configuration block</a> present, tags with matching keys will overwrite those defined at the provider-level.</li><li><code>template_body</code> - (Required) The JSON formatted contents of the fleet provisioning template.</li></ul><h3 id=\"pre_provisioning_hook\">pre_provisioning_hook</h3><p>The <code>pre_provisioning_hook</code> configuration block supports the following:</p><ul><li><code>payload_version</code> - (Optional) The version of the payload that was sent to the target function. The only valid (and the default) payload version is <code>\"2020-04-01\"</code>.</li><li><code>target_arn</code> - (Optional) The ARN of the target function.</li></ul>", "attribute-reference": "<h2 id=\"attribute-reference\">Attribute Reference</h2><p>This resource exports the following attributes in addition to the arguments above:</p><ul><li><code>arn</code> - The ARN that identifies the provisioning template.</li><li><code>default_version_id</code> - The default version of the fleet provisioning template.</li><li><code>tags_all</code> - A map of tags assigned to the resource, including those inherited from the provider <a href=\"https://registry.terraform.io/providers/hashicorp/aws/latest/docs#default_tags-configuration-block\"><code>default_tags</code> configuration block</a>.</li></ul>", "import": "<h2 id=\"import\">Import</h2><p>In Terraform v1.5.0 and later, use an <a href=\"https://developer.hashicorp.com/terraform/language/import\"><code>import</code> block</a> to import IoT fleet provisioning templates using the <code>name</code>. For example:</p><p><code>terraformimport {  to = aws_iot_provisioning_template.fleet  id = \"FleetProvisioningTemplate\"}</code></p><p>Using <code>terraform import</code>, import IoT fleet provisioning templates using the <code>name</code>. For example:</p><p><code>console% terraform import aws_iot_provisioning_template.fleet FleetProvisioningTemplate</code></p>", "description": "<h1 id=\"resource-aws_iot_provisioning_template\">Resource: aws_iot_provisioning_template</h1><p>Manages an IoT fleet provisioning template. For more info, see the AWS documentation on <a href=\"https://docs.aws.amazon.com/iot/latest/developerguide/provision-wo-cert.html\">fleet provisioning</a>.</p>"}