{"resource-aws-launch-configuration": "<h1 id=\"resource-aws_launch_configuration\">Resource: aws_launch_configuration</h1><p>Provides a resource to create a new launch configuration, used for autoscaling groups.</p><p>!&gt; <strong>WARNING:</strong> The use of launch configurations is discouraged in favour of launch templates. Read more in the <a href=\"https://docs.aws.amazon.com/autoscaling/ec2/userguide/launch-configurations.html\">AWS EC2 Documentation</a>.</p><p>-&gt; <strong>Note</strong> When using <code>aws_launch_configuration</code> with <code>aws_autoscaling_group</code>, it is recommended to use the <code>name_prefix</code> (Optional) instead of the <code>name</code> (Optional) attribute. This will allow Terraform lifecycles to detect changes to the launch configuration and update the autoscaling group correctly.</p>", "example-usage": "<h2 id=\"example-usage\">Example Usage</h2><p>terraform<br />data \"aws_ami\" \"ubuntu\" {<br />  most_recent = true</p><br /><p>filter {<br />    name   = \"name\"<br />    values = [\"ubuntu/images/hvm-ssd/ubuntu-trusty-14.04-amd64-server-*\"]<br />  }</p><br /><p>filter {<br />    name   = \"virtualization-type\"<br />    values = [\"hvm\"]<br />  }</p><br /><p>owners = [\"099720109477\"] # Canonical<br />}</p><br /><p>resource \"aws_launch_configuration\" \"as_conf\" {<br />  name          = \"web_config\"<br />  image_id      = data.aws_ami.ubuntu.id<br />  instance_type = \"t2.micro\"<br />}</p><br />", "using-with-autoscaling-groups": "<h2 id=\"using-with-autoscaling-groups\">Using with AutoScaling Groups</h2><p>Launch Configurations cannot be updated after creation with the Amazon<br />Web Service API. In order to update a Launch Configuration, Terraform will<br />destroy the existing resource and create a replacement. In order to effectively<br />use a Launch Configuration resource with an <a href=\"/docs/providers/aws/r/autoscaling_group.html\">AutoScaling Group resource</a>,<br />it's recommended to specify <code>create_before_destroy</code> in a <a href=\"https://www.terraform.io/docs/configuration/meta-arguments/lifecycle.html\">lifecycle</a> block.<br />Either omit the Launch Configuration <code>name</code> attribute, or specify a partial name<br />with <code>name_prefix</code>.  Example:</p><p>terraform<br />data \"aws_ami\" \"ubuntu\" {<br />  most_recent = true</p><p>filter {<br />    name   = \"name\"<br />    values = [\"ubuntu/images/hvm-ssd/ubuntu-trusty-14.04-amd64-server-*\"]<br />  }</p><p>filter {<br />    name   = \"virtualization-type\"<br />    values = [\"hvm\"]<br />  }</p><p>owners = [\"099720109477\"] # Canonical<br />}</p><p>resource \"aws_launch_configuration\" \"as_conf\" {<br />  name_prefix   = \"terraform-lc-example-\"<br />  image_id      = data.aws_ami.ubuntu.id<br />  instance_type = \"t2.micro\"</p><p>lifecycle {<br />    create_before_destroy = true<br />  }<br />}</p><p>resource \"aws_autoscaling_group\" \"bar\" {<br />  name                 = \"terraform-asg-example\"<br />  launch_configuration = aws_launch_configuration.as_conf.name<br />  min_size             = 1<br />  max_size             = 2</p><p>lifecycle {<br />    create_before_destroy = true<br />  }<br />}</p><p>With this setup Terraform generates a unique name for your Launch<br />Configuration and can then update the AutoScaling Group without conflict before<br />destroying the previous Launch Configuration.</p>", "using-with-spot-instances": "<h2 id=\"using-with-spot-instances\">Using with Spot Instances</h2><p>Launch configurations can set the spot instance pricing to be used for the<br />Auto Scaling Group to reserve instances. Simply specifying the <code>spot_price</code><br />parameter will set the price on the Launch Configuration which will attempt to<br />reserve your instances at this price.  See the <a href=\"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-spot-instances.html\">AWS Spot Instance<br />documentation</a><br />for more information or how to launch <a href=\"/docs/providers/aws/r/spot_instance_request.html\">Spot Instances</a> with Terraform.</p><p>terraform<br />data \"aws_ami\" \"ubuntu\" {<br />  most_recent = true</p><p>filter {<br />    name   = \"name\"<br />    values = [\"ubuntu/images/hvm-ssd/ubuntu-trusty-14.04-amd64-server-*\"]<br />  }</p><p>filter {<br />    name   = \"virtualization-type\"<br />    values = [\"hvm\"]<br />  }</p><p>owners = [\"099720109477\"] # Canonical<br />}</p><p>resource \"aws_launch_configuration\" \"as_conf\" {<br />  image_id      = data.aws_ami.ubuntu.id<br />  instance_type = \"m4.large\"<br />  spot_price    = \"0.001\"</p><p>lifecycle {<br />    create_before_destroy = true<br />  }<br />}</p><p>resource \"aws_autoscaling_group\" \"bar\" {<br />  name                 = \"terraform-asg-example\"<br />  launch_configuration = aws_launch_configuration.as_conf.name<br />}</p>", "argument-reference": "<h2 id=\"argument-reference\">Argument Reference</h2><p>The following arguments are required:</p><ul><li><code>image_id</code> - (Required) The EC2 image ID to launch.</li><li><code>instance_type</code> - (Required) The size of instance to launch.</li></ul><p>The following arguments are optional:</p><ul><li><code>associate_public_ip_address</code> - (Optional) Associate a public ip address with an instance in a VPC.</li><li><code>ebs_block_device</code> - (Optional) Additional EBS block devices to attach to the instance. See <a href=\"#block-devices\">Block Devices</a> below for details.</li><li><code>ebs_optimized</code> - (Optional) If true, the launched EC2 instance will be EBS-optimized.</li><li><code>enable_monitoring</code> - (Optional) Enables/disables detailed monitoring. This is enabled by default.</li><li><code>ephemeral_block_device</code> - (Optional) Customize Ephemeral (also known as \"Instance Store\") volumes on the instance. See <a href=\"#block-devices\">Block Devices</a> below for details.</li><li><code>iam_instance_profile</code> - (Optional) The name attribute of the IAM instance profile to associate with launched instances.</li><li><code>key_name</code> - (Optional) The key name that should be used for the instance.</li><li><code>metadata_options</code> - The metadata options for the instance.<ul><li><code>http_endpoint</code> - The state of the metadata service: <code>enabled</code>, <code>disabled</code>.</li><li><code>http_tokens</code> - If session tokens are required: <code>optional</code>, <code>required</code>.</li><li><code>http_put_response_hop_limit</code> - The desired HTTP PUT response hop limit for instance metadata requests.</li></ul></li><li><code>name</code> - (Optional) The name of the launch configuration. If you leave this blank, Terraform will auto-generate a unique name. Conflicts with <code>name_prefix</code>.</li><li><code>name_prefix</code> - (Optional) Creates a unique name beginning with the specified prefix. Conflicts with <code>name</code>.</li><li><code>security_groups</code> - (Optional) A list of associated security group IDS.</li><li><code>placement_tenancy</code> - (Optional) The tenancy of the instance. Valid values are <code>default</code> or <code>dedicated</code>, see <a href=\"http://docs.aws.amazon.com/AutoScaling/latest/APIReference/API_CreateLaunchConfiguration.html\">AWS's Create Launch Configuration</a> for more details.</li><li><code>root_block_device</code> - (Optional) Customize details about the root block device of the instance. See <a href=\"#block-devices\">Block Devices</a> below for details.</li><li><code>spot_price</code> - (Optional; Default: On-demand price) The maximum price to use for reserving spot instances.</li><li><code>user_data</code> - (Optional) The user data to provide when launching the instance. Do not pass gzip-compressed data via this argument; see <code>user_data_base64</code> instead.</li><li><code>user_data_base64</code> - (Optional) Can be used instead of <code>user_data</code> to pass base64-encoded binary data directly. Use this instead of <code>user_data</code> whenever the value is not a valid UTF-8 string. For example, gzip-encoded user data must be base64-encoded and passed via this argument to avoid corruption.</li></ul>", "block-devices": "<h2 id=\"block-devices\">Block devices</h2><p>Each of the <code>*_block_device</code> attributes controls a portion of the AWS<br />Launch Configuration's \"Block Device Mapping\". It's a good idea to familiarize yourself with <a href=\"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/block-device-mapping-concepts.html\">AWS's Block Device<br />Mapping docs</a><br />to understand the implications of using these attributes.</p><p>Each AWS Instance type has a different set of Instance Store block devices<br />available for attachment. AWS <a href=\"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/InstanceStorage.html#StorageOnInstanceTypes\">publishes a<br />list</a><br />of which ephemeral devices are available on each type. The devices are always<br />identified by the <code>virtual_name</code> in the format <code>ephemeral{0..N}</code>.</p><p>~&gt; <strong>NOTE:</strong> Changes to <code>*_block_device</code> configuration of <em>existing</em> resources<br />cannot currently be detected by Terraform. After updating to block device<br />configuration, resource recreation can be manually triggered by using the<br /><a href=\"https://www.terraform.io/docs/commands/taint.html\"><code>taint</code> command</a>.</p><h3 id=\"ebs_block_device\">ebs_block_device</h3><p>Modifying any of the <code>ebs_block_device</code> settings requires resource replacement.</p><ul><li><code>device_name</code> - (Required) The name of the device to mount.</li><li><code>snapshot_id</code> - (Optional) The Snapshot ID to mount.</li><li><code>volume_type</code> - (Optional) The type of volume. Can be <code>standard</code>, <code>gp2</code>, <code>gp3</code>, <code>st1</code>, <code>sc1</code> or <code>io1</code>.</li><li><code>volume_size</code> - (Optional) The size of the volume in gigabytes.</li><li><code>iops</code> - (Optional) The amount of provisioned<br /><a href=\"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ebs-io-characteristics.html\">IOPS</a>.<br />  This must be set with a <code>volume_type</code> of <code>\"io1\"</code>.</li><li><code>throughput</code> - (Optional) The throughput (MiBps) to provision for a <code>gp3</code> volume.</li><li><code>delete_on_termination</code> - (Optional) Whether the volume should be destroyed<br />  on instance termination (Default: <code>true</code>).</li><li><code>encrypted</code> - (Optional) Whether the volume should be encrypted or not. Defaults to <code>false</code>.</li><li><code>no_device</code> - (Optional) Whether the device in the block device mapping of the AMI is suppressed.</li></ul><h3 id=\"ephemeral_block_device\">ephemeral_block_device</h3><ul><li><code>device_name</code> - (Required) The name of the block device to mount on the instance.</li><li><code>no_device</code> - (Optional) Whether the device in the block device mapping of the AMI is suppressed.</li><li><code>virtual_name</code> - (Optional) The <a href=\"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/InstanceStorage.html#InstanceStoreDeviceNames\">Instance Store Device Name</a>.</li></ul><h3 id=\"root_block_device\">root_block_device</h3><p>-&gt; Modifying any of the <code>root_block_device</code> settings requires resource replacement.</p><ul><li><code>delete_on_termination</code> - (Optional) Whether the volume should be destroyed on instance termination. Defaults to <code>true</code>.</li><li><code>encrypted</code> - (Optional) Whether the volume should be encrypted or not. Defaults to <code>false</code>.</li><li><code>iops</code> - (Optional) The amount of provisioned <a href=\"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ebs-io-characteristics.html\">IOPS</a>. This must be set with a <code>volume_type</code> of <code>io1</code>.</li><li><code>throughput</code> - (Optional) The throughput (MiBps) to provision for a <code>gp3</code> volume.</li><li><code>volume_size</code> - (Optional) The size of the volume in gigabytes.</li><li><code>volume_type</code> - (Optional) The type of volume. Can be <code>standard</code>, <code>gp2</code>, <code>gp3</code>, <code>st1</code>, <code>sc1</code> or <code>io1</code>.</li></ul>", "attribute-reference": "<h2 id=\"attribute-reference\">Attribute Reference</h2><p>This resource exports the following attributes in addition to the arguments above:</p><ul><li><code>id</code> - The ID of the launch configuration.</li><li><code>arn</code> - The Amazon Resource Name of the launch configuration.</li><li><code>name</code> - The name of the launch configuration.</li></ul>", "import": "<h2 id=\"import\">Import</h2><p>In Terraform v1.5.0 and later, use an <a href=\"https://developer.hashicorp.com/terraform/language/import\"><code>import</code> block</a> to import launch configurations using the <code>name</code>. For example:</p><p>terraform<br />import {<br />  to = aws_launch_configuration.as_conf<br />  id = \"terraform-lg-123456\"<br />}</p><p>Using <code>terraform import</code>, import launch configurations using the <code>name</code>. For example:</p><p>console<br />% terraform import aws_launch_configuration.as_conf terraform-lg-123456</p>", "description": "<h1 id=\"resource-aws_launch_configuration\">Resource: aws_launch_configuration</h1><p>Provides a resource to create a new launch configuration, used for autoscaling groups.</p><p>!&gt; <strong>WARNING:</strong> The use of launch configurations is discouraged in favour of launch templates. Read more in the <a href=\"https://docs.aws.amazon.com/autoscaling/ec2/userguide/launch-configurations.html\">AWS EC2 Documentation</a>.</p><p>-&gt; <strong>Note</strong> When using <code>aws_launch_configuration</code> with <code>aws_autoscaling_group</code>, it is recommended to use the <code>name_prefix</code> (Optional) instead of the <code>name</code> (Optional) attribute. This will allow Terraform lifecycles to detect changes to the launch configuration and update the autoscaling group correctly.</p>"}