{"resource-aws-s3control-storage-lens-configuration": "<h1 id=\"resource-aws_s3control_storage_lens_configuration\">Resource: aws_s3control_storage_lens_configuration</h1><p>Provides a resource to manage an S3 Storage Lens configuration.</p>", "example-usage": "<h2 id=\"example-usage\">Example Usage</h2><p>terraform<br />data \"aws_caller_identity\" \"current\" {}</p><br /><p>resource \"aws_s3control_storage_lens_configuration\" \"example\" {<br />  config_id = \"example-1\"</p><br /><p>storage_lens_configuration {<br />    enabled = true</p><br /><pre><code>account_level {<br />  activity_metrics {<br />    enabled = true<br />  }<br /><br />  bucket_level {<br />    activity_metrics {<br />      enabled = true<br />    }<br />  }<br />}<br /><br />data_export {<br />  cloud_watch_metrics {<br />    enabled = true<br />  }<br /><br />  s3_bucket_destination {<br />    account_id            = data.aws_caller_identity.current.account_id<br />    arn                   = aws_s3_bucket.target.arn<br />    format                = \"CSV\"<br />    output_schema_version = \"V_1\"<br /><br />    encryption {<br />      sse_s3 {}<br />    }<br />  }<br />}<br /><br />exclude {<br />  buckets = [aws_s3_bucket.b1.arn, aws_s3_bucket.b2.arn]<br />  regions = [\"us-east-2\"]<br />}<br /></code></pre><br /><p>}<br />}</p><br />", "argument-reference": "<h2 id=\"argument-reference\">Argument Reference</h2><p>This resource supports the following arguments:</p><ul><li><code>account_id</code> - (Optional) The AWS account ID for the S3 Storage Lens configuration. Defaults to automatically determined account ID of the Terraform AWS provider.</li><li><code>config_id</code> - (Required) The ID of the S3 Storage Lens configuration.</li><li><code>storage_lens_configuration</code> - (Required) The S3 Storage Lens configuration. See <a href=\"#storage-lens-configuration\">Storage Lens Configuration</a> below for more details.</li><li><code>tags</code> - (Optional) Key-value map of resource tags. If configured with a provider <a href=\"https://registry.terraform.io/providers/hashicorp/aws/latest/docs#default_tags-configuration-block\"><code>default_tags</code> configuration block</a> present, tags with matching keys will overwrite those defined at the provider-level.</li></ul><h3 id=\"storage-lens-configuration\">Storage Lens Configuration</h3><p>The <code>storage_lens_configuration</code> block supports the following:</p><ul><li><code>account_level</code> (Required) The account-level configurations of the S3 Storage Lens configuration. See <a href=\"#account-level\">Account Level</a> below for more details.</li><li><code>aws_org</code> (Optional) The Amazon Web Services organization for the S3 Storage Lens configuration. See <a href=\"#aws-org\">AWS Org</a> below for more details.</li><li><code>data_export</code> (Optional) Properties of S3 Storage Lens metrics export including the destination, schema and format. See <a href=\"#data-export\">Data Export</a> below for more details.</li><li><code>enabled</code> (Required) Whether the S3 Storage Lens configuration is enabled.</li><li><code>exclude</code> (Optional) What is excluded in this configuration. Conflicts with <code>include</code>. See <a href=\"#exclude\">Exclude</a> below for more details.</li><li><code>include</code> (Optional) What is included in this configuration. Conflicts with <code>exclude</code>. See <a href=\"#include\">Include</a> below for more details.</li></ul><h3 id=\"account-level\">Account Level</h3><p>The <code>account_level</code> block supports the following:</p><ul><li><code>activity_metrics</code> (Optional) S3 Storage Lens activity metrics. See <a href=\"#activity-metrics\">Activity Metrics</a> below for more details.</li><li><code>advanced_cost_optimization_metrics</code> (Optional) Advanced cost-optimization metrics for S3 Storage Lens. See <a href=\"#advanced-cost-optimization-metrics\">Advanced Cost-Optimization Metrics</a> below for more details.</li><li><code>advanced_data_protection_metrics</code> (Optional) Advanced data-protection metrics for S3 Storage Lens. See <a href=\"#advanced-data-protection-metrics\">Advanced Data-Protection Metrics</a> below for more details.</li><li><code>bucket_level</code> (Required) S3 Storage Lens bucket-level configuration. See <a href=\"#bucket-level\">Bucket Level</a> below for more details.</li><li><code>detailed_status_code_metrics</code> (Optional) Detailed status code metrics for S3 Storage Lens. See <a href=\"#detailed-status-code-metrics\">Detailed Status Code Metrics</a> below for more details.</li></ul><h3 id=\"activity-metrics\">Activity Metrics</h3><p>The <code>activity_metrics</code> block supports the following:</p><ul><li><code>enabled</code> (Optional) Whether the activity metrics are enabled.</li></ul><h3 id=\"advanced-cost-optimization-metrics\">Advanced Cost-Optimization Metrics</h3><p>The <code>advanced_cost_optimization_metrics</code> block supports the following:</p><ul><li><code>enabled</code> (Optional) Whether advanced cost-optimization metrics are enabled.</li></ul><h3 id=\"advanced-data-protection-metrics\">Advanced Data-Protection Metrics</h3><p>The <code>advanced_data_protection_metrics</code> block supports the following:</p><ul><li><code>enabled</code> (Optional) Whether advanced data-protection metrics are enabled.</li></ul><h3 id=\"detailed-status-code-metrics\">Detailed Status Code Metrics</h3><p>The <code>detailed_status_code_metrics</code> block supports the following:</p><ul><li><code>enabled</code> (Optional) Whether detailed status code metrics are enabled.</li></ul><h3 id=\"bucket-level\">Bucket Level</h3><p>The <code>bucket_level</code> block supports the following:</p><ul><li><code>activity_metrics</code> (Optional) S3 Storage Lens activity metrics. See <a href=\"#activity-metrics\">Activity Metrics</a> above for more details.</li><li><code>advanced_cost_optimization_metrics</code> (Optional) Advanced cost-optimization metrics for S3 Storage Lens. See <a href=\"#advanced-cost-optimization-metrics\">Advanced Cost-Optimization Metrics</a> above for more details.</li><li><code>advanced_data_protection_metrics</code> (Optional) Advanced data-protection metrics for S3 Storage Lens. See <a href=\"#advanced-data-protection-metrics\">Advanced Data-Protection Metrics</a> above for more details.</li><li><code>detailed_status_code_metrics</code> (Optional) Detailed status code metrics for S3 Storage Lens. See <a href=\"#detailed-status-code-metrics\">Detailed Status Code Metrics</a> above for more details.</li><li><code>prefix_level</code> (Optional) Prefix-level metrics for S3 Storage Lens. See <a href=\"#prefix-level\">Prefix Level</a> below for more details.</li></ul><h3 id=\"prefix-level\">Prefix Level</h3><p>The <code>prefix_level</code> block supports the following:</p><ul><li><code>storage_metrics</code> (Required) Prefix-level storage metrics for S3 Storage Lens. See <a href=\"#prefix-level-storage-metrics\">Prefix Level Storage Metrics</a> below for more details.</li></ul><h3 id=\"prefix-level-storage-metrics\">Prefix Level Storage Metrics</h3><p>The <code>storage_metrics</code> block supports the following:</p><ul><li><code>enabled</code> (Optional) Whether prefix-level storage metrics are enabled.</li><li><code>selection_criteria</code> (Optional) Selection criteria. See <a href=\"#selection-criteria\">Selection Criteria</a> below for more details.</li></ul><h3 id=\"selection-criteria\">Selection Criteria</h3><p>The <code>selection_criteria</code> block supports the following:</p><ul><li><code>delimiter</code> (Optional) The delimiter of the selection criteria being used.</li><li><code>max_depth</code> (Optional) The max depth of the selection criteria.</li><li><code>min_storage_bytes_percentage</code> (Optional) The minimum number of storage bytes percentage whose metrics will be selected.</li></ul><h3 id=\"aws-org\">AWS Org</h3><p>The <code>aws_org</code> block supports the following:</p><ul><li><code>arn</code> (Required) The Amazon Resource Name (ARN) of the Amazon Web Services organization.</li></ul><h3 id=\"data-export\">Data Export</h3><p>The <code>data_export</code> block supports the following:</p><ul><li><code>cloud_watch_metrics</code> (Optional) Amazon CloudWatch publishing for S3 Storage Lens metrics. See <a href=\"#cloud-watch-metrics\">Cloud Watch Metrics</a> below for more details.</li><li><code>s3_bucket_destination</code> (Optional) The bucket where the S3 Storage Lens metrics export will be located. See <a href=\"#s3-bucket-destination\">S3 Bucket Destination</a> below for more details.</li></ul><h3 id=\"cloud-watch-metrics\">Cloud Watch Metrics</h3><p>The <code>cloud_watch_metrics</code> block supports the following:</p><ul><li><code>enabled</code> (Required) Whether CloudWatch publishing for S3 Storage Lens metrics is enabled.</li></ul><h3 id=\"s3-bucket-destination\">S3 Bucket Destination</h3><p>The <code>s3_bucket_destination</code> block supports the following:</p><ul><li><code>account_id</code> (Required) The account ID of the owner of the S3 Storage Lens metrics export bucket.</li><li><code>arn</code> (Required) The Amazon Resource Name (ARN) of the bucket.</li><li><code>encryption</code> (Optional) Encryption of the metrics exports in this bucket. See <a href=\"#encryption\">Encryption</a> below for more details.</li><li><code>format</code> (Required) The export format. Valid values: <code>CSV</code>, <code>Parquet</code>.</li><li><code>output_schema_version</code> (Required) The schema version of the export file. Valid values: <code>V_1</code>.</li><li><code>prefix</code> (Optional) The prefix of the destination bucket where the metrics export will be delivered.</li></ul><h3 id=\"encryption\">Encryption</h3><p>The <code>encryption</code> block supports the following:</p><ul><li><code>sse_kms</code> (Optional) SSE-KMS encryption. See <a href=\"#sse-kms\">SSE KMS</a> below for more details.</li><li><code>sse_s3</code> (Optional) SSE-S3 encryption. An empty configuration block <code>{}</code> should be used.</li></ul><h3 id=\"sse-kms\">SSE KMS</h3><p>The <code>sse_kms</code> block supports the following:</p><ul><li><code>key_id</code> (Required) KMS key ARN.</li></ul><h3 id=\"exclude\">Exclude</h3><p>The <code>exclude</code> block supports the following:</p><ul><li><code>buckets</code> (Optional) List of S3 bucket ARNs.</li><li><code>regions</code> (Optional) List of AWS Regions.</li></ul><h3 id=\"include\">Include</h3><p>The <code>include</code> block supports the following:</p><ul><li><code>buckets</code> (Optional) List of S3 bucket ARNs.</li><li><code>regions</code> (Optional) List of AWS Regions.</li></ul>", "attribute-reference": "<h2 id=\"attribute-reference\">Attribute Reference</h2><p>This resource exports the following attributes in addition to the arguments above:</p><ul><li><code>arn</code> - Amazon Resource Name (ARN) of the S3 Storage Lens configuration.</li><li><code>tags_all</code> - A map of tags assigned to the resource, including those inherited from the provider <a href=\"https://registry.terraform.io/providers/hashicorp/aws/latest/docs#default_tags-configuration-block\"><code>default_tags</code> configuration block</a>.</li></ul>", "import": "<h2 id=\"import\">Import</h2><p>In Terraform v1.5.0 and later, use an <a href=\"https://developer.hashicorp.com/terraform/language/import\"><code>import</code> block</a> to import S3 Storage Lens configurations using the <code>account_id</code> and <code>config_id</code>, separated by a colon (<code>:</code>). For example:</p><p>terraform<br />import {<br />  to = aws_s3control_storage_lens_configuration.example<br />  id = \"123456789012:example-1\"<br />}</p><p>Using <code>terraform import</code>, import S3 Storage Lens configurations using the <code>account_id</code> and <code>config_id</code>, separated by a colon (<code>:</code>). For example:</p><p>console<br />% terraform import aws_s3control_storage_lens_configuration.example 123456789012:example-1</p>", "description": "<h1 id=\"resource-aws_s3control_storage_lens_configuration\">Resource: aws_s3control_storage_lens_configuration</h1><p>Provides a resource to manage an S3 Storage Lens configuration.</p>"}