{"resource-aws-opsworks-instance": "<h1 id=\"resource-aws_opsworks_instance\">Resource: aws_opsworks_instance</h1><p>Provides an OpsWorks instance resource.</p>", "example-usage": "<h2 id=\"example-usage\">Example Usage</h2><p>terraform<br />resource \"aws_opsworks_instance\" \"my-instance\" {<br />  stack_id = aws_opsworks_stack.main.id</p><br /><p>layer_ids = [<br />    aws_opsworks_custom_layer.my-layer.id,<br />  ]</p><br /><p>instance_type = \"t2.micro\"<br />  os            = \"Amazon Linux 2015.09\"<br />  state         = \"stopped\"<br />}</p><br />", "argument-reference": "<h2 id=\"argument-reference\">Argument Reference</h2><p>The following arguments are required:</p><ul><li><code>layer_ids</code> - (Required) List of the layers the instance will belong to.</li><li><code>stack_id</code> - (Required) Identifier of the stack the instance will belong to.</li></ul><p>The following arguments are optional:</p><ul><li><code>agent_version</code> - (Optional) OpsWorks agent to install. Default is <code>INHERIT</code>.</li><li><code>ami_id</code> - (Optional) AMI to use for the instance.  If an AMI is specified, <code>os</code> must be <code>Custom</code>.</li><li><code>architecture</code> - (Optional) Machine architecture for created instances.  Valid values are <code>x86_64</code> or <code>i386</code>. The default is <code>x86_64</code>.</li><li><code>auto_scaling_type</code> - (Optional) Creates load-based or time-based instances.  Valid values are <code>load</code>, <code>timer</code>.</li><li><code>availability_zone</code> - (Optional) Name of the availability zone where instances will be created by default.</li><li><code>delete_ebs</code> - (Optional) Whether to delete EBS volume on deletion. Default is <code>true</code>.</li><li><code>delete_eip</code> - (Optional) Whether to delete the Elastic IP on deletion.</li><li><code>ebs_block_device</code> - (Optional) Configuration block for additional EBS block devices to attach to the instance. See <a href=\"#block-devices\">Block Devices</a> below.</li><li><code>ebs_optimized</code> - (Optional) Whether the launched EC2 instance will be EBS-optimized.</li><li><code>ecs_cluster_arn</code> - (Optional) ECS cluster's ARN for container instances.</li><li><code>elastic_ip</code> - (Optional) Instance Elastic IP address.</li><li><code>ephemeral_block_device</code> - (Optional) Configuration block for ephemeral (also known as \"Instance Store\") volumes on the instance. See <a href=\"#block-devices\">Block Devices</a> below.</li><li><code>hostname</code> - (Optional) Instance's host name.</li><li><code>infrastructure_class</code> - (Optional) For registered instances, infrastructure class: ec2 or on-premises.</li><li><code>install_updates_on_boot</code> - (Optional) Controls where to install OS and package updates when the instance boots.  Default is <code>true</code>.</li><li><code>instance_profile_arn</code> - (Optional) ARN of the instance's IAM profile.</li><li><code>instance_type</code> - (Optional) Type of instance to start.</li><li><code>os</code> - (Optional) Name of operating system that will be installed.</li><li><code>root_block_device</code> - (Optional) Configuration block for the root block device of the instance. See <a href=\"#block-devices\">Block Devices</a> below.</li><li><code>root_device_type</code> - (Optional) Name of the type of root device instances will have by default. Valid values are <code>ebs</code> or <code>instance-store</code>.</li><li><code>ssh_key_name</code> - (Optional) Name of the SSH keypair that instances will have by default.</li><li><code>state</code> - (Optional) Desired state of the instance. Valid values are <code>running</code> or <code>stopped</code>.</li><li><code>subnet_id</code> - (Optional) Subnet ID to attach to.</li><li><code>tenancy</code> - (Optional) Instance tenancy to use. Valid values are <code>default</code>, <code>dedicated</code> or <code>host</code>.</li><li><code>virtualization_type</code> - (Optional) Keyword to choose what virtualization mode created instances will use. Valid values are <code>paravirtual</code> or <code>hvm</code>.</li></ul>", "block-devices": "<h2 id=\"block-devices\">Block devices</h2><p>Each of the <code>*_block_device</code> attributes controls a portion of the AWS<br />Instance's \"Block Device Mapping\". It's a good idea to familiarize yourself with <a href=\"http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/block-device-mapping-concepts.html\">AWS's Block Device<br />Mapping docs</a><br />to understand the implications of using these attributes.</p><h3 id=\"ebs_block_device\"><code>ebs_block_device</code></h3><ul><li><code>delete_on_termination</code> - (Optional) Whether the volume should be destroyed on instance termination. Default is <code>true</code>.</li><li><code>device_name</code> - (Required) Name of the device to mount.</li><li><code>iops</code> - (Optional) Amount of provisioned <a href=\"http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ebs-io-characteristics.html\">IOPS</a>. This must be set with a <code>volume_type</code> of <code>io1</code>.</li><li><code>snapshot_id</code> - (Optional) Snapshot ID to mount.</li><li><code>volume_size</code> - (Optional) Size of the volume in gigabytes.</li><li><code>volume_type</code> - (Optional) Type of volume. Valid values are <code>standard</code>, <code>gp2</code>, or <code>io1</code>. Default is <code>standard</code>.</li></ul><p>Modifying any <code>ebs_block_device</code> currently requires resource replacement.</p><h3 id=\"ephemeral_block_device\"><code>ephemeral_block_device</code></h3><ul><li><code>device_name</code> - Name of the block device to mount on the instance.</li><li><code>virtual_name</code> - The <a href=\"http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/InstanceStorage.html#InstanceStoreDeviceNames\">Instance Store Device Name</a> (e.g., <code>ephemeral0</code>).</li></ul><p>Each AWS Instance type has a different set of Instance Store block devices<br />available for attachment. AWS <a href=\"http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/InstanceStorage.html#StorageOnInstanceTypes\">publishes a<br />list</a><br />of which ephemeral devices are available on each type. The devices are always<br />identified by the <code>virtual_name</code> in the format <code>ephemeral{0..N}</code>.</p><h3 id=\"root_block_device\"><code>root_block_device</code></h3><ul><li><code>delete_on_termination</code> - (Optional) Whether the volume should be destroyed on instance termination. Default is <code>true</code>.</li><li><code>iops</code> - (Optional) Amount of provisioned <a href=\"http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ebs-io-characteristics.html\">IOPS</a>. This must be set with a <code>volume_type</code> of <code>io1</code>.</li><li><code>volume_size</code> - (Optional) Size of the volume in gigabytes.</li><li><code>volume_type</code> - (Optional) Type of volume. Valid values are <code>standard</code>, <code>gp2</code>, or <code>io1</code>. Default is <code>standard</code>.</li></ul><p>Modifying any of the <code>root_block_device</code> settings requires resource<br />replacement.</p><p>~&gt; <strong>NOTE:</strong> Currently, changes to <code>*_block_device</code> configuration of <em>existing</em><br />resources cannot be automatically detected by Terraform. After making updates<br />to block device configuration, resource recreation can be manually triggered by<br />using the <a href=\"https://www.terraform.io/docs/commands/taint.html\"><code>taint</code> command</a>.</p>", "attribute-reference": "<h2 id=\"attribute-reference\">Attribute Reference</h2><p>This resource exports the following attributes in addition to the arguments above:</p><ul><li><code>created_at</code> - Time that the instance was created.</li><li><code>ec2_instance_id</code> - EC2 instance ID.</li><li><code>id</code> - ID of the OpsWorks instance.</li><li><code>last_service_error_id</code> - ID of the last service error.</li><li><code>platform</code> - Instance's platform.</li><li><code>private_dns</code> - Private DNS name assigned to the instance. Can only be used inside the Amazon EC2, and only available if you've enabled DNS hostnames for your VPC.</li><li><code>private_ip</code> - Private IP address assigned to the instance.</li><li><code>public_dns</code> - Public DNS name assigned to the instance. For EC2-VPC, this is only available if you've enabled DNS hostnames for your VPC.</li><li><code>public_ip</code> - Public IP address assigned to the instance, if applicable.</li><li><code>registered_by</code> - For registered instances, who performed the registration.</li><li><code>reported_agent_version</code> - Instance's reported AWS OpsWorks Stacks agent version.</li><li><code>reported_os_family</code> - For registered instances, the reported operating system family.</li><li><code>reported_os_name</code> - For registered instances, the reported operating system name.</li><li><code>reported_os_version</code> - For registered instances, the reported operating system version.</li><li><code>root_device_volume_id</code> - Root device volume ID.</li><li><code>security_group_ids</code> - Associated security groups.</li><li><code>ssh_host_dsa_key_fingerprint</code> - SSH key's Deep Security Agent (DSA) fingerprint.</li><li><code>ssh_host_rsa_key_fingerprint</code> - SSH key's RSA fingerprint.</li><li><code>status</code> - Instance status. Will be one of <code>booting</code>, <code>connection_lost</code>, <code>online</code>, <code>pending</code>, <code>rebooting</code>, <code>requested</code>, <code>running_setup</code>, <code>setup_failed</code>, <code>shutting_down</code>, <code>start_failed</code>, <code>stop_failed</code>, <code>stopped</code>, <code>stopping</code>, <code>terminated</code>, or <code>terminating</code>.</li></ul>", "timeouts": "<h2 id=\"timeouts\">Timeouts</h2><p><a href=\"https://developer.hashicorp.com/terraform/language/resources/syntax#operation-timeouts\">Configuration options</a>:</p><ul><li><code>create</code> - (Default <code>10m</code>)</li><li><code>delete</code> - (Default <code>10m</code>)</li><li><code>update</code> - (Default <code>10m</code>)</li></ul>", "import": "<h2 id=\"import\">Import</h2><p>In Terraform v1.5.0 and later, use an <a href=\"https://developer.hashicorp.com/terraform/language/import\"><code>import</code> block</a> to import Opsworks Instances using the instance <code>id</code>. For example:</p><p>terraform<br />import {<br />  to = aws_opsworks_instance.my_instance<br />  id = \"4d6d1710-ded9-42a1-b08e-b043ad7af1e2\"<br />}</p><p>Using <code>terraform import</code>, import Opsworks Instances using the instance <code>id</code>. For example:</p><p>console<br />% terraform import aws_opsworks_instance.my_instance 4d6d1710-ded9-42a1-b08e-b043ad7af1e2</p>", "description": "<h1 id=\"resource-aws_opsworks_instance\">Resource: aws_opsworks_instance</h1><p>Provides an OpsWorks instance resource.</p>"}