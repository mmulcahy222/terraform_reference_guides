{"resource-aws-vpc-ipam-pool-cidr": "<h1 id=\"resource-aws_vpc_ipam_pool_cidr\">Resource: aws_vpc_ipam_pool_cidr</h1><p>Provisions a CIDR from an IPAM address pool.</p><p>~&gt; <strong>NOTE:</strong> Provisioning Public IPv4 or Public IPv6 require <a href=\"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-byoip.html#prepare-for-byoip\">steps outside the scope of this resource</a>. The resource accepts <code>message</code> and <code>signature</code> as part of the <code>cidr_authorization_context</code> attribute but those must be generated ahead of time. Public IPv6 CIDRs that are provisioned into a Pool with <code>publicly_advertisable = true</code> and all public IPv4 CIDRs also require creating a Route Origin Authorization (ROA) object in your Regional Internet Registry (RIR).</p><p>~&gt; <strong>NOTE:</strong> In order to deprovision CIDRs all Allocations must be released. Allocations created by a VPC take up to 30 minutes to be released. However, for IPAM to properly manage the removal of allocation records created by VPCs and other resources, you must <a href=\"https://docs.aws.amazon.com/vpc/latest/ipam/choose-single-user-or-orgs-ipam.html\">grant it permissions</a> in<br />either a single account or organizationally. If you are unable to deprovision a cidr after waiting over 30 minutes, you may be missing the Service Linked Role.</p>", "example-usage": "<h2 id=\"example-usage\">Example Usage</h2><p>Basic usage:</p><br /><p>terraform<br />data \"aws_region\" \"current\" {}</p><br /><p>resource \"aws_vpc_ipam\" \"example\" {<br />  operating_regions {<br />    region_name = data.aws_region.current.name<br />  }<br />}</p><br /><p>resource \"aws_vpc_ipam_pool\" \"example\" {<br />  address_family = \"ipv4\"<br />  ipam_scope_id  = aws_vpc_ipam.example.private_default_scope_id<br />  locale         = data.aws_region.current.name<br />}</p><br /><p>resource \"aws_vpc_ipam_pool_cidr\" \"example\" {<br />  ipam_pool_id = aws_vpc_ipam_pool.example.id<br />  cidr         = \"172.20.0.0/16\"<br />}</p><br /><p>Provision Public IPv6 Pool CIDRs:</p><br /><p>terraform<br />data \"aws_region\" \"current\" {}</p><br /><p>resource \"aws_vpc_ipam\" \"example\" {<br />  operating_regions {<br />    region_name = data.aws_region.current.name<br />  }<br />}</p><br /><p>resource \"aws_vpc_ipam_pool\" \"ipv6_test_public\" {<br />  address_family = \"ipv6\"<br />  ipam_scope_id  = aws_vpc_ipam.example.public_default_scope_id<br />  locale         = \"us-east-1\"<br />  description    = \"public ipv6\"<br />  advertisable   = false<br />  aws_service    = \"ec2\"<br />}</p><br /><p>resource \"aws_vpc_ipam_pool_cidr\" \"ipv6_test_public\" {<br />  ipam_pool_id = aws_vpc_ipam_pool.ipv6_test_public.id<br />  cidr         = var.ipv6_cidr<br />  cidr_authorization_context {<br />    message   = var.message<br />    signature = var.signature<br />  }<br />}</p><br />", "argument-reference": "<h2 id=\"argument-reference\">Argument Reference</h2><p>This resource supports the following arguments:</p><ul><li><code>cidr</code> - (Optional) The CIDR you want to assign to the pool. Conflicts with <code>netmask_length</code>.</li><li><code>cidr_authorization_context</code> - (Optional) A signed document that proves that you are authorized to bring the specified IP address range to Amazon using BYOIP. This is not stored in the state file. See <a href=\"#cidr_authorization_context\">cidr_authorization_context</a> for more information.</li><li><code>ipam_pool_id</code> - (Required) The ID of the pool to which you want to assign a CIDR.</li><li><code>netmask_length</code> - (Optional) If provided, the cidr provisioned into the specified pool will be the next available cidr given this declared netmask length. Conflicts with <code>cidr</code>.</li></ul><h3 id=\"cidr_authorization_context\">cidr_authorization_context</h3><ul><li><code>message</code> - (Optional) The plain-text authorization message for the prefix and account.</li><li><code>signature</code> - (Optional) The signed authorization message for the prefix and account.</li></ul>", "attribute-reference": "<h2 id=\"attribute-reference\">Attribute Reference</h2><p>This resource exports the following attributes in addition to the arguments above:</p><ul><li><code>id</code> - The ID of the IPAM Pool Cidr concatenated with the IPAM Pool ID.</li><li><code>ipam_pool_cidr_id</code> - The unique ID generated by AWS for the pool cidr. Typically this is the resource <code>id</code> but this attribute was added to the API calls after the fact and is therefore not used as the terraform resource id.</li></ul>", "import": "<h2 id=\"import\">Import</h2><p>In Terraform v1.5.0 and later, use an <a href=\"https://developer.hashicorp.com/terraform/language/import\"><code>import</code> block</a> to import IPAMs using the <code>&lt;cidr&gt;_&lt;ipam-pool-id&gt;</code>. For example:</p><p><strong>NOTE:</strong> Do not use the IPAM Pool Cidr ID as this was introduced after the resource already existed.</p><p>terraform<br />import {<br />  to = aws_vpc_ipam_pool_cidr.example<br />  id = \"172.20.0.0/24_ipam-pool-0e634f5a1517cccdc\"<br />}</p><p>Using <code>terraform import</code>, import IPAMs using the <code>&lt;cidr&gt;_&lt;ipam-pool-id&gt;</code>. For example:</p><p><strong>NOTE:</strong> Do not use the IPAM Pool Cidr ID as this was introduced after the resource already existed.</p><p>console<br />% terraform import aws_vpc_ipam_pool_cidr.example 172.20.0.0/24_ipam-pool-0e634f5a1517cccdc</p>", "description": "<h1 id=\"resource-aws_vpc_ipam_pool_cidr\">Resource: aws_vpc_ipam_pool_cidr</h1><p>Provisions a CIDR from an IPAM address pool.</p><p>~&gt; <strong>NOTE:</strong> Provisioning Public IPv4 or Public IPv6 require <a href=\"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-byoip.html#prepare-for-byoip\">steps outside the scope of this resource</a>. The resource accepts <code>message</code> and <code>signature</code> as part of the <code>cidr_authorization_context</code> attribute but those must be generated ahead of time. Public IPv6 CIDRs that are provisioned into a Pool with <code>publicly_advertisable = true</code> and all public IPv4 CIDRs also require creating a Route Origin Authorization (ROA) object in your Regional Internet Registry (RIR).</p><p>~&gt; <strong>NOTE:</strong> In order to deprovision CIDRs all Allocations must be released. Allocations created by a VPC take up to 30 minutes to be released. However, for IPAM to properly manage the removal of allocation records created by VPCs and other resources, you must <a href=\"https://docs.aws.amazon.com/vpc/latest/ipam/choose-single-user-or-orgs-ipam.html\">grant it permissions</a> in<br />either a single account or organizationally. If you are unable to deprovision a cidr after waiting over 30 minutes, you may be missing the Service Linked Role.</p>"}