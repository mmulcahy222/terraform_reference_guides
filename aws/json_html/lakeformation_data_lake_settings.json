{"resource-aws-lakeformation-data-lake-settings": "<h1 id=\"resource-aws_lakeformation_data_lake_settings\">Resource: aws_lakeformation_data_lake_settings</h1><p>Manages Lake Formation principals designated as data lake administrators and lists of principal permission entries for default create database and default create table permissions.</p><p>~&gt; <strong>NOTE:</strong> Lake Formation introduces fine-grained access control for data in your data lake. Part of the changes include the <code>IAMAllowedPrincipals</code> principal in order to make Lake Formation backwards compatible with existing IAM and Glue permissions. For more information, see <a href=\"https://docs.aws.amazon.com/lake-formation/latest/dg/change-settings.html\">Changing the Default Security Settings for Your Data Lake</a> and <a href=\"https://docs.aws.amazon.com/lake-formation/latest/dg/upgrade-glue-lake-formation.html\">Upgrading AWS Glue Data Permissions to the AWS Lake Formation Model</a>.</p>", "example-usage": "<h2 id=\"example-usage\">Example Usage</h2><h3 id=\"data-lake-admins\">Data Lake Admins</h3><p><code>terraformresource \"aws_lakeformation_data_lake_settings\" \"example\" {  admins = [aws_iam_user.test.arn, aws_iam_role.test.arn]}</code></p><h3 id=\"create-default-permissions\">Create Default Permissions</h3><p>terraform<br />resource \"aws_lakeformation_data_lake_settings\" \"example\" {<br />  admins = [aws_iam_user.test.arn, aws_iam_role.test.arn]</p><p>create_database_default_permissions {<br />    permissions = [\"SELECT\", \"ALTER\", \"DROP\"]<br />    principal   = aws_iam_user.test.arn<br />  }</p><p>create_table_default_permissions {<br />    permissions = [\"ALL\"]<br />    principal   = aws_iam_role.test.arn<br />  }<br />}<br /></p><h3 id=\"enable-emr-access-to-lakeformation-resources\">Enable EMR access to LakeFormation resources</h3><p>terraform<br />resource \"aws_lakeformation_data_lake_settings\" \"example\" {<br />  admins = [aws_iam_user.test.arn, aws_iam_role.test.arn]</p><p>create_database_default_permissions {<br />    permissions = [\"SELECT\", \"ALTER\", \"DROP\"]<br />    principal   = aws_iam_user.test.arn<br />  }</p><p>create_table_default_permissions {<br />    permissions = [\"ALL\"]<br />    principal   = aws_iam_role.test.arn<br />  }</p><p>allow_external_data_filtering      = true<br />  external_data_filtering_allow_list = [data.aws_caller_identity.current.account_id, data.aws_caller_identity.third_party.account_id]<br />  authorized_session_tag_value_list  = [\"Amazon EMR\"]<br />}<br /></p>", "argument-reference": "<h2 id=\"argument-reference\">Argument Reference</h2><p>The following arguments are optional:</p><ul><li><code>admins</code> \u2013 (Optional) Set of ARNs of AWS Lake Formation principals (IAM users or roles).</li><li><code>read_only_admins</code> \u2013 (Optional) Set of ARNs of AWS Lake Formation principals (IAM users or roles) with only view access to the resources.</li><li><code>catalog_id</code> \u2013 (Optional) Identifier for the Data Catalog. By default, the account ID.</li><li><code>create_database_default_permissions</code> - (Optional) Up to three configuration blocks of principal permissions for default create database permissions. Detailed below.</li><li><code>create_table_default_permissions</code> - (Optional) Up to three configuration blocks of principal permissions for default create table permissions. Detailed below.</li><li><code>trusted_resource_owners</code> \u2013 (Optional) List of the resource-owning account IDs that the caller's account can use to share their user access details (user ARNs).</li><li><code>allow_external_data_filtering</code> - (Optional) Whether to allow Amazon EMR clusters to access data managed by Lake Formation.</li><li><code>external_data_filtering_allow_list</code> - (Optional) A list of the account IDs of Amazon Web Services accounts with Amazon EMR clusters that are to perform data filtering.</li><li><code>authorized_session_tag_value_list</code> - (Optional) Lake Formation relies on a privileged process secured by Amazon EMR or the third party integrator to tag the user's role while assuming it.</li></ul><p>~&gt; <strong>NOTE:</strong> Although optional, not including <code>admins</code>, <code>create_database_default_permissions</code>, <code>create_table_default_permissions</code>, and/or <code>trusted_resource_owners</code> results in the setting being cleared.</p><h3 id=\"create_database_default_permissions\">create_database_default_permissions</h3><p>The following arguments are optional:</p><ul><li><code>permissions</code> - (Optional) List of permissions that are granted to the principal. Valid values may include <code>ALL</code>, <code>SELECT</code>, <code>ALTER</code>, <code>DROP</code>, <code>DELETE</code>, <code>INSERT</code>, <code>DESCRIBE</code>, and <code>CREATE_TABLE</code>. For more details, see <a href=\"https://docs.aws.amazon.com/lake-formation/latest/dg/lf-permissions-reference.html\">Lake Formation Permissions Reference</a>.</li><li><code>principal</code> - (Optional) Principal who is granted permissions. To enforce metadata and underlying data access control only by IAM on new databases and tables set <code>principal</code> to <code>IAM_ALLOWED_PRINCIPALS</code> and <code>permissions</code> to <code>[\"ALL\"]</code>.</li></ul><h3 id=\"create_table_default_permissions\">create_table_default_permissions</h3><p>The following arguments are optional:</p><ul><li><code>permissions</code> - (Optional) List of permissions that are granted to the principal. Valid values may include <code>ALL</code>, <code>SELECT</code>, <code>ALTER</code>, <code>DROP</code>, <code>DELETE</code>, <code>INSERT</code>, and <code>DESCRIBE</code>. For more details, see <a href=\"https://docs.aws.amazon.com/lake-formation/latest/dg/lf-permissions-reference.html\">Lake Formation Permissions Reference</a>.</li><li><code>principal</code> - (Optional) Principal who is granted permissions. To enforce metadata and underlying data access control only by IAM on new databases and tables set <code>principal</code> to <code>IAM_ALLOWED_PRINCIPALS</code> and <code>permissions</code> to <code>[\"ALL\"]</code>.</li></ul>", "attribute-reference": "<h2 id=\"attribute-reference\">Attribute Reference</h2><p>This resource exports no additional attributes.</p>", "description": "<h1 id=\"resource-aws_lakeformation_data_lake_settings\">Resource: aws_lakeformation_data_lake_settings</h1><p>Manages Lake Formation principals designated as data lake administrators and lists of principal permission entries for default create database and default create table permissions.</p><p>~&gt; <strong>NOTE:</strong> Lake Formation introduces fine-grained access control for data in your data lake. Part of the changes include the <code>IAMAllowedPrincipals</code> principal in order to make Lake Formation backwards compatible with existing IAM and Glue permissions. For more information, see <a href=\"https://docs.aws.amazon.com/lake-formation/latest/dg/change-settings.html\">Changing the Default Security Settings for Your Data Lake</a> and <a href=\"https://docs.aws.amazon.com/lake-formation/latest/dg/upgrade-glue-lake-formation.html\">Upgrading AWS Glue Data Permissions to the AWS Lake Formation Model</a>.</p>"}