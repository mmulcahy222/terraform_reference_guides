{"resource-aws-chimesdkmediapipelines-media-insights-pipeline-configuration": "<h1 id=\"resource-aws_chimesdkmediapipelines_media_insights_pipeline_configuration\">Resource: aws_chimesdkmediapipelines_media_insights_pipeline_configuration</h1><p>Terraform resource for managing an AWS Chime SDK Media Pipelines Media Insights Pipeline Configuration.<br />Consult the <a href=\"https://docs.aws.amazon.com/chime-sdk/latest/dg/call-analytics.html\">Call analytics developer guide</a> for more detailed information about usage.</p>", "example-usage": "<h2 id=\"example-usage\">Example Usage</h2><h3 id=\"basic-usage\">Basic Usage</h3><p>terraform<br />resource \"aws_chimesdkmediapipelines_media_insights_pipeline_configuration\" \"my_configuration\" {<br />  name                     = \"MyBasicConfiguration\"<br />  resource_access_role_arn = aws_iam_role.call_analytics_role.arn<br />  elements {<br />    type = \"AmazonTranscribeCallAnalyticsProcessor\"<br />    amazon_transcribe_call_analytics_processor_configuration {<br />      language_code = \"en-US\"<br />    }<br />  }</p><p>elements {<br />    type = \"KinesisDataStreamSink\"<br />    kinesis_data_stream_sink_configuration {<br />      insights_target = aws_kinesis_stream.example.arn<br />    }<br />  }</p><p>tags = {<br />    Key1 = \"Value1\"<br />    Key2 = \"Value2\"<br />  }<br />}</p><p>resource \"aws_kinesis_stream\" \"example\" {<br />  name        = \"example\"<br />  shard_count = 2<br />}</p><p>data \"aws_iam_policy_document\" \"media_pipelines_assume_role\" {<br />  statement {<br />    effect = \"Allow\"</p><pre><code>principals {  type        = \"Service\"  identifiers = [\"mediapipelines.chime.amazonaws.com\"]}actions = [\"sts:AssumeRole\"]</code></pre><p>}<br />}</p><p>resource \"aws_iam_role\" \"call_analytics_role\" {<br />  name               = \"CallAnalyticsRole\"<br />  assume_role_policy = data.aws_iam_policy_document.media_pipelines_assume_role.json<br />}<br /></p><ul><li>The required policies on <code>call_analytics_role</code> will vary based on the selected processors. See <a href=\"https://docs.aws.amazon.com/chime-sdk/latest/dg/ca-resource-access-role.html\">Call analytics resource access role</a> for directions on choosing appropriate policies.</li></ul><h3 id=\"transcribe-call-analytics-processor-usage\">Transcribe Call Analytics processor usage</h3><p>terraform<br />resource \"aws_chimesdkmediapipelines_media_insights_pipeline_configuration\" \"my_configuration\" {<br />  name                     = \"MyCallAnalyticsConfiguration\"<br />  resource_access_role_arn = aws_iam_role.example.arn<br />  elements {<br />    type = \"AmazonTranscribeCallAnalyticsProcessor\"<br />    amazon_transcribe_call_analytics_processor_configuration {<br />      call_analytics_stream_categories = [<br />        \"category_1\",<br />        \"category_2\"<br />      ]<br />      content_redaction_type               = \"PII\"<br />      enable_partial_results_stabilization = true<br />      filter_partial_results               = true<br />      language_code                        = \"en-US\"<br />      language_model_name                  = \"MyLanguageModel\"<br />      partial_results_stability            = \"high\"<br />      pii_entity_types                     = \"ADDRESS,BANK_ACCOUNT_NUMBER\"<br />      post_call_analytics_settings {<br />        content_redaction_output     = \"redacted\"<br />        data_access_role_arn         = aws_iam_role.post_call_role.arn<br />        output_encryption_kms_key_id = \"MyKmsKeyId\"<br />        output_location              = \"s3://MyBucket\"<br />      }<br />      vocabulary_filter_method = \"mask\"<br />      vocabulary_filter_name   = \"MyVocabularyFilter\"<br />      vocabulary_name          = \"MyVocabulary\"<br />    }<br />  }</p><p>elements {<br />    type = \"KinesisDataStreamSink\"<br />    kinesis_data_stream_sink_configuration {<br />      insights_target = aws_kinesis_stream.example.arn<br />    }<br />  }<br />}</p><p>data \"aws_iam_policy_document\" \"transcribe_assume_role\" {<br />  statement {<br />    effect = \"Allow\"</p><pre><code>principals {  type        = \"Service\"  identifiers = [\"transcribe.amazonaws.com\"]}actions = [\"sts:AssumeRole\"]</code></pre><p>}<br />}</p><p>resource \"aws_iam_role\" \"post_call_role\" {<br />  name               = \"PostCallAccessRole\"<br />  assume_role_policy = data.aws_iam_policy_document.transcribe_assume_role.json<br />}<br /></p><h3 id=\"real-time-alerts-usage\">Real time alerts usage</h3><p>terraform<br />resource \"aws_chimesdkmediapipelines_media_insights_pipeline_configuration\" \"my_configuration\" {<br />  name                     = \"MyRealTimeAlertConfiguration\"<br />  resource_access_role_arn = aws_iam_role.call_analytics_role.arn<br />  elements {<br />    type = \"AmazonTranscribeCallAnalyticsProcessor\"<br />    amazon_transcribe_call_analytics_processor_configuration {<br />      language_code = \"en-US\"<br />    }<br />  }</p><p>elements {<br />    type = \"KinesisDataStreamSink\"<br />    kinesis_data_stream_sink_configuration {<br />      insights_target = aws_kinesis_stream.example.arn<br />    }<br />  }</p><p>real_time_alert_configuration {<br />    disabled = false</p><pre><code>rules {  type = \"IssueDetection\"  issue_detection_configuration {    rule_name = \"MyIssueDetectionRule\"  }}rules {  type = \"KeywordMatch\"  keyword_match_configuration {    keywords  = [\"keyword1\", \"keyword2\"]    negate    = false    rule_name = \"MyKeywordMatchRule\"  }}rules {  type = \"Sentiment\"  sentiment_configuration {    rule_name      = \"MySentimentRule\"    sentiment_type = \"NEGATIVE\"    time_period    = 60  }}</code></pre><p>}<br />}<br /></p><h3 id=\"transcribe-processor-usage\">Transcribe processor usage</h3><p>terraform<br />resource \"aws_chimesdkmediapipelines_media_insights_pipeline_configuration\" \"my_configuration\" {<br />  name                     = \"MyTranscribeConfiguration\"<br />  resource_access_role_arn = aws_iam_role.example.arn<br />  elements {<br />    type = \"AmazonTranscribeProcessor\"<br />    amazon_transcribe_processor_configuration {<br />      content_identification_type          = \"PII\"<br />      enable_partial_results_stabilization = true<br />      filter_partial_results               = true<br />      language_code                        = \"en-US\"<br />      language_model_name                  = \"MyLanguageModel\"<br />      partial_results_stability            = \"high\"<br />      pii_entity_types                     = \"ADDRESS,BANK_ACCOUNT_NUMBER\"<br />      show_speaker_label                   = true<br />      vocabulary_filter_method             = \"mask\"<br />      vocabulary_filter_name               = \"MyVocabularyFilter\"<br />      vocabulary_name                      = \"MyVocabulary\"<br />    }<br />  }</p><p>elements {<br />    type = \"KinesisDataStreamSink\"<br />    kinesis_data_stream_sink_configuration {<br />      insights_target = aws_kinesis_stream.example.arn<br />    }<br />  }<br />}<br /></p><h3 id=\"voice-analytics-processor-usage\">Voice analytics processor usage</h3><p>terraform<br />resource \"aws_chimesdkmediapipelines_media_insights_pipeline_configuration\" \"my_configuration\" {<br />  name                     = \"MyVoiceAnalyticsConfiguration\"<br />  resource_access_role_arn = aws_iam_role.example.arn<br />  elements {<br />    type = \"VoiceAnalyticsProcessor\"<br />    voice_analytics_processor_configuration {<br />      speaker_search_status      = \"Enabled\"<br />      voice_tone_analysis_status = \"Enabled\"<br />    }<br />  }</p><p>elements {<br />    type = \"LambdaFunctionSink\"<br />    lambda_function_sink_configuration {<br />      insights_target = \"arn:aws:lambda:us-west-2:1111111111:function:MyFunction\"<br />    }<br />  }</p><p>elements {<br />    type = \"SnsTopicSink\"<br />    sns_topic_sink_configuration {<br />      insights_target = \"arn:aws:sns:us-west-2:1111111111:topic/MyTopic\"<br />    }<br />  }</p><p>elements {<br />    type = \"SqsQueueSink\"<br />    sqs_queue_sink_configuration {<br />      insights_target = \"arn:aws:sqs:us-west-2:1111111111:queue/MyQueue\"<br />    }<br />  }</p><p>elements {<br />    type = \"KinesisDataStreamSink\"<br />    kinesis_data_stream_sink_configuration {<br />      insights_target = aws_kinesis_stream.test.arn<br />    }<br />  }<br />}<br /></p><h3 id=\"s3-recording-sink-usage\">S3 Recording sink usage</h3><p><code>terraformresource \"aws_chimesdkmediapipelines_media_insights_pipeline_configuration\" \"my_configuration\" {  name                     = \"MyS3RecordingConfiguration\"  resource_access_role_arn = aws_iam_role.example.arn  elements {    type = \"S3RecordingSink\"    s3_recording_sink_configuration {      destination = \"arn:aws:s3:::MyBucket\"    }  }}</code></p>", "argument-reference": "<h2 id=\"argument-reference\">Argument Reference</h2><p>This resource supports the following arguments:</p><ul><li><code>name</code> - (Required) Configuration name.</li><li><code>resource_access_role_arn</code> - (Required) ARN of IAM Role used by service to invoke processors and sinks specified by configuration elements.</li><li><code>elements</code> - (Required) Collection of processors and sinks to transform media and deliver data.</li><li><code>real_time_alert_configuration</code> - (Optional) Configuration for real-time alert rules to send EventBridge notifications when certain conditions are met.</li><li><code>tags</code> - (Optional) Key-value map of tags for the resource.</li></ul><h3 id=\"elements\">Elements</h3><ul><li><code>type</code> - (Required) Element type.</li><li><code>amazon_transcribe_call_analytics_processor_configuration</code> - (Optional) Configuration for Amazon Transcribe Call Analytics processor.<ul><li><code>call_analytics_stream_categories</code> - (Optional) Filter for category events to be delivered to insights target.</li><li><code>content_identification_type</code> - (Optional) Labels all personally identifiable information (PII) identified in Utterance events.</li><li><code>content_redaction_type</code> - (Optional) Redacts all personally identifiable information (PII) identified in Utterance events.</li><li><code>enable_partial_results_stabilization</code> - (Optional) Enables partial result stabilization in Utterance events.</li><li><code>filter_partial_results</code> - (Optional) Filters partial Utterance events from delivery to the insights target.</li><li><code>language_code</code> - (Required) Language code for the transcription model.</li><li><code>language_model_name</code> - (Optional) Name of custom language model for transcription.</li><li><code>partial_results_stability</code> - (Optional) Level of stability to use when partial results stabilization is enabled.</li><li><code>pii_entity_types</code> - (Optional) Types of personally identifiable information (PII) to redact from an Utterance event.</li><li><code>post_call_analytics_settings</code> - (Optional) Settings for post call analytics.<ul><li><code>content_redaction_output</code> - (Optional) Should output be redacted.</li><li><code>data_access_role_arn</code> - (Required) ARN of the role used by AWS Transcribe to upload your post call analysis.</li><li><code>output_encryption_kms_key_id</code> - (Optional) ID of the KMS key used to encrypt the output.</li><li><code>output_location</code> - (Required) The Amazon S3 location where you want your Call Analytics post-call transcription output stored.</li></ul></li><li><code>vocabulary_filter_method</code> - (Optional) Method for applying a vocabulary filter to Utterance events.</li><li><code>vocabulary_filter_name</code> - (Optional) Name of the custom vocabulary filter to use when processing Utterance events.</li><li><code>vocabulary_name</code> - (Optional) Name of the custom vocabulary to use when processing Utterance events.</li></ul></li><li><code>amazon_transcribe_processor_configuration</code> - (Optional) Configuration for Amazon Transcribe processor.<ul><li><code>content_identification_type</code> - (Optional) Labels all personally identifiable information (PII) identified in Transcript events.</li><li><code>content_redaction_type</code> - (Optional) Redacts all personally identifiable information (PII) identified in Transcript events.</li><li><code>enable_partial_results_stabilization</code> - (Optional) Enables partial result stabilization in Transcript events.</li><li><code>filter_partial_results</code> - (Optional) Filters partial Utterance events from delivery to the insights target.</li><li><code>language_code</code> - (Required) Language code for the transcription model.</li><li><code>language_model_name</code> - (Optional) Name of custom language model for transcription.</li><li><code>partial_results_stability</code> - (Optional) Level of stability to use when partial results stabilization is enabled.</li><li><code>pii_entity_types</code> - (Optional) Types of personally identifiable information (PII) to redact from a Transcript event.</li><li><code>show_speaker_label</code> - (Optional) Enables speaker partitioning (diarization) in your Transcript events.</li><li><code>vocabulary_filter_method</code> - (Optional) Method for applying a vocabulary filter to Transcript events.</li><li><code>vocabulary_filter_name</code> - (Optional) Name of the custom vocabulary filter to use when processing Transcript events.</li><li><code>vocabulary_name</code> - (Optional) Name of the custom vocabulary to use when processing Transcript events.</li></ul></li><li><code>kinesis_data_stream_sink_configuration</code> - (Optional) Configuration for Kinesis Data Stream sink.<ul><li><code>insights_target</code> - (Required) Kinesis Data Stream to deliver results.</li></ul></li><li><code>lambda_function_sink_configuration</code> - (Optional) Configuration for Lambda Function sink.<ul><li><code>insights_target</code> - (Required) Lambda Function to deliver results.</li></ul></li><li><code>sns_topic_sink_configuration</code> - (Optional) Configuration for SNS Topic sink.<ul><li><code>insights_target</code> - (Required) SNS topic to deliver results.</li></ul></li><li><code>sqs_queue_sink_configuration</code> - (Optional) Configuration for SQS Queue sink.<ul><li><code>insights_target</code> - (Required) SQS queue to deliver results.</li></ul></li><li><code>s3_recording_sink_configuration</code> - (Optional) Configuration for S3 recording sink.<ul><li><code>destination</code> - (Required) S3 URI to deliver recordings.</li></ul></li><li><code>voice_analytics_processor_configuration</code> - (Optional) Configuration for Voice analytics processor.<ul><li><code>speaker_search_status</code> - (Required) Enable speaker search.</li><li><code>voice_tone_analysis_status</code> - (Required) Enable voice tone analysis.</li></ul></li></ul><h3 id=\"real-time-alert-configuration\">Real time alert configuration</h3><ul><li><code>rules</code> - (Required) Collection of real time alert rules<ul><li><code>type</code> - (Required) Rule type.</li><li><code>issue_detection_configuration</code> - (Optional) Configuration for an issue detection rule.<ul><li><code>rule_name</code> - (Required) Rule name.</li></ul></li><li><code>keyword_match_configuration</code> - (Optional) Configuration for a keyword match rule.<ul><li><code>rule_name</code> - (Required) Rule name.</li><li><code>keywords</code> - (Required) Collection of keywords to match.</li><li><code>negate</code> - (Optional) Negate the rule.</li></ul></li><li><code>sentiment_configuration</code> - (Optional) Configuration for a sentiment rule.<ul><li><code>rule_name</code> - (Required) Rule name.</li><li><code>sentiment_type</code> - (Required) Sentiment type to match.</li><li><code>time_period</code> - (Optional) Analysis interval.</li></ul></li></ul></li><li><code>disabled</code> - (Optional) Disables real time alert rules.</li></ul>", "attribute-reference": "<h2 id=\"attribute-reference\">Attribute Reference</h2><p>This resource exports the following attributes in addition to the arguments above:</p><ul><li><code>arn</code> - ARN of the Media Insights Pipeline Configuration.</li><li><code>id</code> - Unique ID of the Media Insights Pipeline Configuration.</li></ul>", "timeouts": "<h2 id=\"timeouts\">Timeouts</h2><p><a href=\"https://developer.hashicorp.com/terraform/language/resources/syntax#operation-timeouts\">Configuration options</a>:</p><ul><li><code>create</code> - (Default <code>3m</code>)</li><li><code>update</code> - (Default <code>3m</code>)</li><li><code>delete</code> - (Default <code>30s</code>)</li></ul>", "import": "<h2 id=\"import\">Import</h2><p>In Terraform v1.5.0 and later, use an <a href=\"https://developer.hashicorp.com/terraform/language/import\"><code>import</code> block</a> to import Chime SDK Media Pipelines Media Insights Pipeline Configuration using the <code>id</code>. For example:</p><p><code>terraformimport {  to = aws_chimesdkmediapipelines_media_insights_pipeline_configuration.example  id = \"abcdef123456\"}</code></p><p>Using <code>terraform import</code>, import Chime SDK Media Pipelines Media Insights Pipeline Configuration using the <code>id</code>. For example:</p><p><code>console% terraform import aws_chimesdkmediapipelines_media_insights_pipeline_configuration.example abcdef123456</code></p>", "description": "<h1 id=\"resource-aws_chimesdkmediapipelines_media_insights_pipeline_configuration\">Resource: aws_chimesdkmediapipelines_media_insights_pipeline_configuration</h1><p>Terraform resource for managing an AWS Chime SDK Media Pipelines Media Insights Pipeline Configuration.<br />Consult the <a href=\"https://docs.aws.amazon.com/chime-sdk/latest/dg/call-analytics.html\">Call analytics developer guide</a> for more detailed information about usage.</p>"}