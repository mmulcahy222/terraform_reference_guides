{"resource-aws-budgets-budget-action": "<h1 id=\"resource-aws_budgets_budget_action\">Resource: aws_budgets_budget_action</h1><p>Provides a budget action resource. Budget actions are cost savings controls that run either automatically on your behalf or by using a workflow approval process.</p>", "example-usage": "<h2 id=\"example-usage\">Example Usage</h2><p>terraform<br />resource \"aws_budgets_budget_action\" \"example\" {<br />  budget_name        = aws_budgets_budget.example.name<br />  action_type        = \"APPLY_IAM_POLICY\"<br />  approval_model     = \"AUTOMATIC\"<br />  notification_type  = \"ACTUAL\"<br />  execution_role_arn = aws_iam_role.example.arn</p><br /><p>action_threshold {<br />    action_threshold_type  = \"ABSOLUTE_VALUE\"<br />    action_threshold_value = 100<br />  }</p><br /><p>definition {<br />    iam_action_definition {<br />      policy_arn = aws_iam_policy.example.arn<br />      roles      = [aws_iam_role.example.name]<br />    }<br />  }</p><br /><p>subscriber {<br />    address           = \"example@example.example\"<br />    subscription_type = \"EMAIL\"<br />  }<br />}</p><br /><p>data \"aws_iam_policy_document\" \"example\" {<br />  statement {<br />    effect    = \"Allow\"<br />    actions   = [\"ec2:Describe<em>\"]<br />    resources = [\"</em>\"]<br />  }<br />}</p><br /><p>resource \"aws_iam_policy\" \"example\" {<br />  name        = \"example\"<br />  description = \"My example policy\"<br />  policy      = data.aws_iam_policy_document.example.json<br />}</p><br /><p>data \"aws_partition\" \"current\" {}</p><br /><p>data \"aws_iam_policy_document\" \"assume_role\" {<br />  statement {<br />    effect = \"Allow\"</p><br /><pre><code>principals {<br />  type        = \"Service\"<br />  identifiers = [\"budgets.${data.aws_partition.current.dns_suffix}\"]<br />}<br /><br />actions = [\"sts:AssumeRole\"]<br /></code></pre><br /><p>}<br />}</p><br /><p>resource \"aws_iam_role\" \"example\" {<br />  name               = \"example\"<br />  assume_role_policy = data.aws_iam_policy_document.assume_role.json<br />}</p><br /><p>resource \"aws_budgets_budget\" \"example\" {<br />  name              = \"example\"<br />  budget_type       = \"USAGE\"<br />  limit_amount      = \"10.0\"<br />  limit_unit        = \"dollars\"<br />  time_period_start = \"2006-01-02_15:04\"<br />  time_unit         = \"MONTHLY\"<br />}</p><br />", "argument-reference": "<h2 id=\"argument-reference\">Argument Reference</h2><p>This resource supports the following arguments:</p><ul><li><code>account_id</code> - (Optional) The ID of the target account for budget. Will use current user's account_id by default if omitted.</li><li><code>budget_name</code> - (Required) The name of a budget.</li><li><code>action_threshold</code> - (Required) The trigger threshold of the action. See <a href=\"#action-threshold\">Action Threshold</a>.</li><li><code>action_type</code> - (Required) The type of action. This defines the type of tasks that can be carried out by this action. This field also determines the format for definition. Valid values are <code>APPLY_IAM_POLICY</code>, <code>APPLY_SCP_POLICY</code>, and <code>RUN_SSM_DOCUMENTS</code>.</li><li><code>approval_model</code> - (Required) This specifies if the action needs manual or automatic approval. Valid values are <code>AUTOMATIC</code> and <code>MANUAL</code>.</li><li><code>definition</code> - (Required) Specifies all of the type-specific parameters. See <a href=\"#definition\">Definition</a>.</li><li><code>execution_role_arn</code> - (Required) The role passed for action execution and reversion. Roles and actions must be in the same account.</li><li><code>notification_type</code> - (Required) The type of a notification. Valid values are <code>ACTUAL</code> or <code>FORECASTED</code>.</li><li><code>subscriber</code> - (Required) A list of subscribers. See <a href=\"#subscriber\">Subscriber</a>.</li></ul><h3 id=\"action-threshold\">Action Threshold</h3><ul><li><code>action_threshold_type</code> - (Required) The type of threshold for a notification. Valid values are <code>PERCENTAGE</code> or <code>ABSOLUTE_VALUE</code>.</li><li><code>action_threshold_value</code> - (Required) The threshold of a notification.</li></ul><h3 id=\"subscriber\">Subscriber</h3><ul><li><code>address</code> - (Required) The address that AWS sends budget notifications to, either an SNS topic or an email.</li><li><code>subscription_type</code> - (Required) The type of notification that AWS sends to a subscriber. Valid values are <code>SNS</code> or <code>EMAIL</code>.</li></ul><h3 id=\"definition\">Definition</h3><ul><li><code>iam_action_definition</code> - (Optional) The AWS Identity and Access Management (IAM) action definition details. See <a href=\"#iam-action-definition\">IAM Action Definition</a>.</li><li><code>ssm_action_definition</code> - (Optional) The AWS Systems Manager (SSM) action definition details. See <a href=\"#ssm-action-definition\">SSM Action Definition</a>.</li><li><code>scp_action_definition</code> - (Optional) The service control policies (SCPs) action definition details. See <a href=\"#scp-action-definition\">SCP Action Definition</a>.</li></ul><h4 id=\"iam-action-definition\">IAM Action Definition</h4><ul><li><code>policy_arn</code> - (Required) The Amazon Resource Name (ARN) of the policy to be attached.</li><li><code>groups</code> - (Optional) A list of groups to be attached. There must be at least one group.</li><li><code>roles</code> - (Optional) A list of roles to be attached. There must be at least one role.</li><li><code>users</code> - (Optional) A list of users to be attached. There must be at least one user.</li></ul><h4 id=\"scp-action-definition\">SCP Action Definition</h4><ul><li><code>policy_id</code> - (Required) The policy ID attached.</li><li><code>target_ids</code> - (Optional) A list of target IDs.</li></ul><h4 id=\"ssm-action-definition\">SSM Action Definition</h4><ul><li><code>action_sub_type</code> - (Required) The action subType. Valid values are <code>STOP_EC2_INSTANCES</code> or <code>STOP_RDS_INSTANCES</code>.</li><li><code>instance_ids</code> - (Required) The EC2 and RDS instance IDs.</li><li><code>region</code> - (Required) The Region to run the SSM document.</li></ul>", "attribute-reference": "<h2 id=\"attribute-reference\">Attribute Reference</h2><p>This resource exports the following attributes in addition to the arguments above:</p><ul><li><code>action_id</code> - The id of the budget action.</li><li><code>id</code> - ID of resource.</li><li><code>arn</code> - The ARN of the budget action.</li><li><code>status</code> - The status of the budget action.</li></ul>", "timeouts": "<h2 id=\"timeouts\">Timeouts</h2><p><a href=\"https://developer.hashicorp.com/terraform/language/resources/syntax#operation-timeouts\">Configuration options</a>:</p><ul><li><code>create</code> - (Default <code>5m</code>)</li><li><code>update</code> - (Default <code>5m</code>)</li></ul>", "import": "<h2 id=\"import\">Import</h2><p>In Terraform v1.5.0 and later, use an <a href=\"https://developer.hashicorp.com/terraform/language/import\"><code>import</code> block</a> to import budget actions using <code>AccountID:ActionID:BudgetName</code>. For example:</p><p>terraform<br />import {<br />  to = aws_budgets_budget_action.myBudget<br />  id = \"123456789012:some-id:myBudget\"<br />}</p><p>Using <code>terraform import</code>, import budget actions using <code>AccountID:ActionID:BudgetName</code>. For example:</p><p>console<br />% terraform import aws_budgets_budget_action.myBudget 123456789012:some-id:myBudget</p>", "description": "<h1 id=\"resource-aws_budgets_budget_action\">Resource: aws_budgets_budget_action</h1><p>Provides a budget action resource. Budget actions are cost savings controls that run either automatically on your behalf or by using a workflow approval process.</p>"}