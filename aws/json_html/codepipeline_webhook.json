{"resource-aws-codepipeline-webhook": "<h1 id=\"resource-aws_codepipeline_webhook\">Resource: aws_codepipeline_webhook</h1><p>Provides a CodePipeline Webhook.</p>", "example-usage": "<h2 id=\"example-usage\">Example Usage</h2><p>terraform<br />resource \"aws_codepipeline\" \"bar\" {<br />  name     = \"tf-test-pipeline\"<br />  role_arn = aws_iam_role.bar.arn</p><br /><p>artifact_store {<br />    location = aws_s3_bucket.bar.bucket<br />    type     = \"S3\"</p><br /><pre><code>encryption_key {<br />  id   = data.aws_kms_alias.s3kmskey.arn<br />  type = \"KMS\"<br />}<br /></code></pre><br /><p>}</p><br /><p>stage {<br />    name = \"Source\"</p><br /><pre><code>action {<br />  name             = \"Source\"<br />  category         = \"Source\"<br />  owner            = \"ThirdParty\"<br />  provider         = \"GitHub\"<br />  version          = \"1\"<br />  output_artifacts = [\"test\"]<br /><br />  configuration = {<br />    Owner  = \"my-organization\"<br />    Repo   = \"test\"<br />    Branch = \"master\"<br />  }<br />}<br /></code></pre><br /><p>}</p><br /><p>stage {<br />    name = \"Build\"</p><br /><pre><code>action {<br />  name            = \"Build\"<br />  category        = \"Build\"<br />  owner           = \"AWS\"<br />  provider        = \"CodeBuild\"<br />  input_artifacts = [\"test\"]<br />  version         = \"1\"<br /><br />  configuration = {<br />    ProjectName = \"test\"<br />  }<br />}<br /></code></pre><br /><p>}<br />}</p><br />", "a-shared-secret-between-github-and-aws-that-allows-aws": "<h1 id=\"a-shared-secret-between-github-and-aws-that-allows-aws\">A shared secret between GitHub and AWS that allows AWS</h1>", "codepipeline-to-authenticate-the-request-came-from-github": "<h1 id=\"codepipeline-to-authenticate-the-request-came-from-github\">CodePipeline to authenticate the request came from GitHub.</h1>", "would-probably-be-better-to-pull-this-from-the-environment": "<h1 id=\"would-probably-be-better-to-pull-this-from-the-environment\">Would probably be better to pull this from the environment</h1>", "or-something-like-ssm-parameter-store": "<h1 id=\"or-something-like-ssm-parameter-store\">or something like SSM Parameter Store.</h1><p>locals {<br />  webhook_secret = \"super-secret\"<br />}</p><p>resource \"aws_codepipeline_webhook\" \"bar\" {<br />  name            = \"test-webhook-github-bar\"<br />  authentication  = \"GITHUB_HMAC\"<br />  target_action   = \"Source\"<br />  target_pipeline = aws_codepipeline.bar.name</p><p>authentication_configuration {<br />    secret_token = local.webhook_secret<br />  }</p><p>filter {<br />    json_path    = \"$.ref\"<br />    match_equals = \"refs/heads/{Branch}\"<br />  }<br />}</p>", "wire-the-codepipeline-webhook-into-a-github-repository": "<h1 id=\"wire-the-codepipeline-webhook-into-a-github-repository\">Wire the CodePipeline webhook into a GitHub repository.</h1><p>resource \"github_repository_webhook\" \"bar\" {<br />  repository = github_repository.repo.name</p><p>name = \"web\"</p><p>configuration {<br />    url          = aws_codepipeline_webhook.bar.url<br />    content_type = \"json\"<br />    insecure_ssl = true<br />    secret       = local.webhook_secret<br />  }</p><p>events = [\"push\"]<br />}</p>", "argument-reference": "<h2 id=\"argument-reference\">Argument Reference</h2><p>This resource supports the following arguments:</p><ul><li><code>name</code> - (Required) The name of the webhook.</li><li><code>authentication</code> - (Required) The type of authentication  to use. One of <code>IP</code>, <code>GITHUB_HMAC</code>, or <code>UNAUTHENTICATED</code>.</li><li><code>authentication_configuration</code> - (Optional) An <code>auth</code> block. Required for <code>IP</code> and <code>GITHUB_HMAC</code>. Auth blocks are documented below.</li><li><code>filter</code> (Required) One or more <code>filter</code> blocks. Filter blocks are documented below.</li><li><code>target_action</code> - (Required) The name of the action in a pipeline you want to connect to the webhook. The action must be from the source (first) stage of the pipeline.</li><li><code>target_pipeline</code> - (Required) The name of the pipeline.</li><li><code>tags</code> - (Optional) A map of tags to assign to the resource. If configured with a provider <a href=\"https://registry.terraform.io/providers/hashicorp/aws/latest/docs#default_tags-configuration-block\"><code>default_tags</code> configuration block</a> present, tags with matching keys will overwrite those defined at the provider-level.</li></ul><p>An <code>authentication_configuration</code> block supports the following arguments:</p><ul><li><code>secret_token</code> - (Optional) The shared secret for the GitHub repository webhook. Set this as <code>secret</code> in your <code>github_repository_webhook</code>'s <code>configuration</code> block. Required for <code>GITHUB_HMAC</code>.</li><li><code>allowed_ip_range</code> - (Optional) A valid CIDR block for <code>IP</code> filtering. Required for <code>IP</code>.</li></ul><p>A <code>filter</code> block supports the following arguments:</p><ul><li><code>json_path</code> - (Required) The <a href=\"https://github.com/json-path/JsonPath\">JSON path</a> to filter on.</li><li><code>match_equals</code> - (Required) The value to match on (e.g., <code>refs/heads/{Branch}</code>). See <a href=\"https://docs.aws.amazon.com/codepipeline/latest/APIReference/API_WebhookFilterRule.html\">AWS docs</a> for details.</li></ul>", "attribute-reference": "<h2 id=\"attribute-reference\">Attribute Reference</h2><p>This resource exports the following attributes in addition to the arguments above:</p><ul><li><code>arn</code> - The CodePipeline webhook's ARN.</li><li><code>id</code> - The CodePipeline webhook's ARN.</li><li><code>tags_all</code> - A map of tags assigned to the resource, including those inherited from the provider <a href=\"https://registry.terraform.io/providers/hashicorp/aws/latest/docs#default_tags-configuration-block\"><code>default_tags</code> configuration block</a>.</li><li><code>url</code> - The CodePipeline webhook's URL. POST events to this endpoint to trigger the target.</li></ul>", "import": "<h2 id=\"import\">Import</h2><p>In Terraform v1.5.0 and later, use an <a href=\"https://developer.hashicorp.com/terraform/language/import\"><code>import</code> block</a> to import CodePipeline Webhooks using their ARN. For example:</p><p>terraform<br />import {<br />  to = aws_codepipeline_webhook.example<br />  id = \"arn:aws:codepipeline:us-west-2:123456789012:webhook:example\"<br />}</p><p>Using <code>terraform import</code>, import CodePipeline Webhooks using their ARN. For example:</p><p>console<br />% terraform import aws_codepipeline_webhook.example arn:aws:codepipeline:us-west-2:123456789012:webhook:example</p>", "description": "<h1 id=\"resource-aws_codepipeline_webhook\">Resource: aws_codepipeline_webhook</h1><p>Provides a CodePipeline Webhook.</p>"}