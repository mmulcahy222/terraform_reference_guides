{"resource-aws-opensearchserverless-access-policy": "<h1 id=\"resource-aws_opensearchserverless_access_policy\">Resource: aws_opensearchserverless_access_policy</h1><p>Terraform resource for managing an AWS OpenSearch Serverless Access Policy. See AWS documentation for <a href=\"https://docs.aws.amazon.com/opensearch-service/latest/developerguide/serverless-data-access.html\">data access policies</a> and <a href=\"https://docs.aws.amazon.com/opensearch-service/latest/developerguide/serverless-data-access.html#serverless-data-supported-permissions\">supported data access policy permissions</a>.</p>", "example-usage": "<h2 id=\"example-usage\">Example Usage</h2><h3 id=\"grant-all-collection-and-index-permissions\">Grant all collection and index permissions</h3><p>terraform<br />data \"aws_caller_identity\" \"current\" {}</p><p>resource \"aws_opensearchserverless_access_policy\" \"example\" {<br />  name        = \"example\"<br />  type        = \"data\"<br />  description = \"read and write permissions\"<br />  policy = jsonencode([<br />    {<br />      Rules = [<br />        {<br />          ResourceType = \"index\",<br />          Resource = [<br />            \"index/example-collection/<em>\"<br />          ],<br />          Permission = [<br />            \"aoss:</em>\"<br />          ]<br />        },<br />        {<br />          ResourceType = \"collection\",<br />          Resource = [<br />            \"collection/example-collection\"<br />          ],<br />          Permission = [<br />            \"aoss:*\"<br />          ]<br />        }<br />      ],<br />      Principal = [<br />        data.aws_caller_identity.current.arn<br />      ]<br />    }<br />  ])<br />}<br /></p><h3 id=\"grant-read-only-collection-and-index-permissions\">Grant read-only collection and index permissions</h3><p><br />data \"aws_caller_identity\" \"current\" {}</p><p>resource \"aws_opensearchserverless_access_policy\" \"example\" {<br />  name        = \"example\"<br />  type        = \"data\"<br />  description = \"read-only permissions\"<br />  policy = jsonencode([<br />    {<br />      Rules = [<br />        {<br />          ResourceType = \"index\",<br />          Resource = [<br />            \"index/example-collection/*\"<br />          ],<br />          Permission = [<br />            \"aoss:DescribeIndex\",<br />            \"aoss:ReadDocument\",<br />          ]<br />        },<br />        {<br />          ResourceType = \"collection\",<br />          Resource = [<br />            \"collection/example-collection\"<br />          ],<br />          Permission = [<br />            \"aoss:DescribeCollectionItems\"<br />          ]<br />        }<br />      ],<br />      Principal = [<br />        data.aws_caller_identity.current.arn<br />      ]<br />    }<br />  ])<br />}<br /></p><h3 id=\"grant-saml-identity-permissions\">Grant SAML identity permissions</h3><p><code>resource \"aws_opensearchserverless_access_policy\" \"example\" {  name = \"example\"  type = \"data\"  description = \"saml permissions\"  policy = jsonencode([    {      Rules = [        {          ResourceType = \"index\",          Resource = [            \"index/example-collection/*\"          ],          Permission = [            \"aoss:*\"          ]        },        {          ResourceType = \"collection\",          Resource = [            \"collection/example-collection\"          ],          Permission = [            \"aoss:*\"          ]        }      ],      Principal = [        \"saml/123456789012/myprovider/user/Annie\",        \"saml/123456789012/anotherprovider/group/Accounting\"      ]    }  ])}</code></p>", "argument-reference": "<h2 id=\"argument-reference\">Argument Reference</h2><p>The following arguments are required:</p><ul><li><code>name</code> - (Required) Name of the policy.</li><li><code>policy</code> - (Required) JSON policy document to use as the content for the new policy</li><li><code>type</code> - (Required) Type of access policy. Must be <code>data</code>.</li></ul><p>The following arguments are optional:</p><ul><li><code>description</code> - (Optional) Description of the policy. Typically used to store information about the permissions defined in the policy.</li></ul>", "attribute-reference": "<h2 id=\"attribute-reference\">Attribute Reference</h2><p>This resource exports the following attributes in addition to the arguments above:</p><ul><li><code>policy_version</code> - Version of the policy.</li></ul>", "import": "<h2 id=\"import\">Import</h2><p>In Terraform v1.5.0 and later, use an <a href=\"https://developer.hashicorp.com/terraform/language/import\"><code>import</code> block</a> to import OpenSearchServerless Access Policy using the <code>name</code> and <code>type</code> arguments separated by a slash (<code>/</code>). For example:</p><p><code>terraformimport {  to = aws_opensearchserverless_access_policy.example  id = \"example/data\"}</code></p><p>Using <code>terraform import</code>, import OpenSearchServerless Access Policy using the <code>name</code> and <code>type</code> arguments separated by a slash (<code>/</code>). For example:</p><p><code>console% terraform import aws_opensearchserverless_access_policy.example example/data</code></p>", "description": "<h1 id=\"resource-aws_opensearchserverless_access_policy\">Resource: aws_opensearchserverless_access_policy</h1><p>Terraform resource for managing an AWS OpenSearch Serverless Access Policy. See AWS documentation for <a href=\"https://docs.aws.amazon.com/opensearch-service/latest/developerguide/serverless-data-access.html\">data access policies</a> and <a href=\"https://docs.aws.amazon.com/opensearch-service/latest/developerguide/serverless-data-access.html#serverless-data-supported-permissions\">supported data access policy permissions</a>.</p>"}